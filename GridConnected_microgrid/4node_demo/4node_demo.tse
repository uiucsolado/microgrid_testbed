version = 4.2

//
// Saved by sw version: 2018.3 SP1
// Save timestamp: 08-Apr-2020 @ 04:24:12 PM
//

model "4node_demo" {
    configuration {
        hil_device = "HIL402"
        hil_configuration_id = 2
        simulation_method = trapezoidal
        simulation_time_step = 2e-6
        simulation_discret_scaling = 1.0
        dsp_timer_periods = 100e-6, 50e-3
        ss_calc_method = "systematic elimination"
        enb_pole_shift = True
        enb_gds_oversampling = True
        show_modes = False
        device_ao_limit_enable = False
        cpl_stb = False
        enb_dep_sw_detect = False
        code_section = "internal memory"
        data_section = "internal memory"
        sys_sp_rate_1 = 0.0001
        sys_sp_rate_2 = 0.05
        sys_real_type_precision = "default"
        user_real_type_precision = "default"
        sys_cpu_optimization = "high"
        user_cpu_optimization = "high"
    }

    component Subsystem Root {
        component Subsystem "dq to abc3" {
            layout = dynamic
            component src_constant o_ref {
                execution_rate = "Tfast"
                value = "[0]"
            }
            [
                position = 7520, 8200
            ]

            component "core/dq to abc" "dq to abc1" {
                execution_rate = "inherit"
            }
            [
                position = 7744, 8184
            ]

            port a {
                label = "a"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7864, 8152
            ]

            port b {
                label = "b"
                position = left:3
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7896, 8184
            ]

            port c {
                label = "c"
                position = left:4
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7864, 8216
            ]

            port d {
                label = "Ud"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7520, 8136
            ]

            port q {
                label = "Uq"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7472, 8168
            ]

            port wt {
                label = "wt"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7600, 8232
            ]

            connect q "dq to abc1.q_input" as Connection6
            connect c "dq to abc1.phase_c" as Connection2
            connect "dq to abc1.phase_b" b as Connection4
            connect wt "dq to abc1.wt" as Connection7
            connect o_ref.out "dq to abc1.zero_input" as Connection5
            connect d "dq to abc1.d_input" as Connection3
            connect a "dq to abc1.phase_a" as Connection1
        }
        [
            position = 9808, 10304
            size = 80, 168
        ]

        component Subsystem S_meas3 {
            layout = dynamic
            component gen_terminator Termination2 {
            }
            [
                position = 8160, 8136
                rotation = down
            ]

            component gen_terminator Termination1 {
            }
            [
                position = 8080, 8136
                rotation = down
            ]

            component gen_PQ_transform "Power Meter1" {
                filter_cutoff_Hz = "5"
                filter_order = "second order"
            }
            [
                position = 8256, 8224
                scale = -1, 1
            ]

            port Vc {
                label = "Vc"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8416, 8168
                rotation = down
            ]

            port Ic {
                label = "Ic"
                position = right:6
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8400, 8336
                rotation = down
            ]

            port Ia {
                label = "Ia"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8432, 8232
                rotation = down
            ]

            port Vb {
                label = "Vb"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8368, 8144
                rotation = down
            ]

            port Q {
                label = "Q"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8032, 8232
                rotation = down
            ]

            port P {
                label = "P"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7992, 8176
                rotation = down
            ]

            port S {
                label = "S"
                position = left:3
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8096, 8272
                rotation = down
            ]

            port Va {
                label = "Va"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8320, 8112
                rotation = down
            ]

            port pf {
                label = "pf"
                position = left:4
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8128, 8336
                rotation = down
            ]

            port Ib {
                label = "Ib"
                position = right:5
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8376, 8272
                rotation = down
            ]

            connect P "Power Meter1.Pdc" as Connection1
            connect "Power Meter1.ia" Ia as Connection2
            connect "Power Meter1.ib" Ib as Connection3
            connect "Power Meter1.ic" Ic as Connection4
            connect "Power Meter1.Qdc" Q as Connection5
            connect "Power Meter1.apparent" S as Connection6
            connect "Power Meter1.va" Va as Connection7
            connect "Power Meter1.vb" Vb as Connection8
            connect "Power Meter1.vc" Vc as Connection9
            connect "Power Meter1.k_factor" pf as Connection10
            connect Termination1.in "Power Meter1.Qac" as Connection11
            connect Termination2.in "Power Meter1.Pac" as Connection12
        }
        [
            position = 11872, 9984
            size = 96, 216
        ]

        component gen_digital_probe "LED 12" {
        }
        [
            position = 10416, 5984
        ]

        component src_square "Square Wave Source1" {
            duty_cycle = "0.33"
            frequency = "1.33"
            signal_type = "uint"
        }
        [
            position = 10064, 5904
        ]

        component "core/Three Phase Inverter" "Three Phase Inverter2" {
            ctrl_src = "Internal modulator"
            d_time = "0.5e-6"
        }
        [
            position = 4816, 8944
            size = 127, 256
        ]

        component gen_probe Eq4 {
        }
        [
            position = 11056, 10016
            rotation = down
        ]

        component pas_inductor L0a2 {
            inductance = "L0"
        }
        [
            position = 5152, 6656
            rotation = down
        ]

        component "core/Current Measurement" Xi_c2 {
            addr = "16"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 5360, 6848
            scale = 1, -1
            size = 64, 32
        ]

        component pas_capacitor Cc1 {
            capacitance = "C"
        }
        [
            position = 5616, 9296
            rotation = right
        ]

        component "core/Voltage Measurement" Vab3 {
        }
        [
            position = 3872, 9920
            rotation = right
            size = 64, 32
        ]

        component src_square "Square Wave Source4" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.3"
            signal_type = "uint"
        }
        [
            position = 10064, 6112
        ]

        component "core/Current Measurement" Ia {
            addr = "14"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 7664, 7920
            scale = 1, -1
            size = 64, 32
        ]

        component "core/Four Phase Core Coupling" "Core Coupling 2" {
        }
        [
            position = 7200, 7504
            rotation = left
            size = 12, 352
        ]

        component "core/Current RMS" Igc_rms {
        }
        [
            position = 7872, 8112
            size = 64, 32
        ]

        component src_constant C3 {
            execution_rate = "Tfast"
        }
        [
            position = 3536, 9776
        ]

        component gen_digital_probe "LED 8" {
        }
        [
            position = 10176, 6400
        ]

        component "core/Voltage Measurement" VDC {
            execution_rate = "Tfast"
            sig_output = "True"
        }
        [
            position = 5440, 8016
            rotation = right
            size = 64, 32
        ]

        component src_square "Square Wave Source7" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.6"
            signal_type = "uint"
        }
        [
            position = 10064, 6320
        ]

        component "core/Voltage Measurement" Eb1 {
            addr = "9"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 5904, 9152
            rotation = right
            scale = -1, 1
            size = 64, 32
        ]

        component "core/Voltage Measurement" Vab1 {
        }
        [
            position = 4992, 8896
            rotation = right
            size = 64, 32
        ]

        component gen_digital_probe "LED 6" {
        }
        [
            position = 10160, 6256
        ]

        component gen_probe V2 {
        }
        [
            position = 8560, 8176
        ]

        component sys_signal_switch "Signal switch1" {
            threshold = "0.5"
        }
        [
            position = 10560, 8096
            scale = -1, 1
        ]

        component "core/Current Measurement" Idc_link3 {
            addr = "7"
            execution_rate = "Tfast"
        }
        [
            position = 3504, 9872
            scale = 1, -1
            size = 64, 32
        ]

        component pas_resistor Rt0a1 {
            resistance = "Rt0"
        }
        [
            position = 5456, 9200
            rotation = left
            scale = -1, 1
        ]

        component pas_resistor R0a2 {
            resistance = "R0"
        }
        [
            position = 5040, 6656
        ]

        component src_square "Square Wave Source8" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.7"
            signal_type = "uint"
        }
        [
            position = 10064, 6400
        ]

        component gen_probe Q12 {
        }
        [
            position = 7344, 9136
        ]

        component src_square "Square Wave Source19" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.2"
            signal_type = "uint"
        }
        [
            position = 10320, 5984
        ]

        component gen_terminator Termination1 {
        }
        [
            position = 11872, 7520
            scale = -1, 1
        ]

        component gen_probe P1 {
        }
        [
            position = 11824, 8064
            rotation = down
        ]

        component Subsystem Current_abc_to_dq1 {
            layout = dynamic
            component "core/abc to dq" "abc to dq1" {
            }
            [
                position = 7856, 8008
            ]

            component gen_terminator Termination1 {
            }
            [
                position = 7952, 8064
            ]

            port Ia {
                label = "Ia"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 7960
            ]

            port Ic {
                label = "Ic"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 8040
            ]

            port Id {
                label = "Id"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8008, 7976
            ]

            port wt {
                label = "wt"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 8088
            ]

            port Iq {
                label = "Iq"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8008, 8016
            ]

            port Ib {
                label = "Ib"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 8000
            ]

            connect Ia "abc to dq1.va" as Connection1
            connect wt "abc to dq1.wt" as Connection7
            connect "abc to dq1.d_axis" Id as Connection5
            connect Termination1.in "abc to dq1.zero_axis" as Connection4
            connect Ib "abc to dq1.vb" as Connection2
            connect "abc to dq1.q_axis" Iq as Connection6
            connect Ic "abc to dq1.vc" as Connection3
        }
        [
            position = 10832, 9104
            size = 80, 168
        ]

        component pas_resistor Rt0a3 {
            resistance = "Rt0"
        }
        [
            position = 4320, 10224
            rotation = left
            scale = -1, 1
        ]

        component gen_bus_split "Bus Split1" {
            outputs = "3"
        }
        [
            position = 5824, 7728
        ]

        component gen_probe Pref_out {
        }
        [
            position = 11968, 7472
            rotation = down
        ]

        component src_constant C {
            execution_rate = "Tfast"
        }
        [
            position = 5760, 7808
        ]

        component Subsystem PLL {
            layout = dynamic
            component gen_terminator Termination1 {
            }
            [
                position = 8104, 8136
                rotation = down
            ]

            component gen_gain 2pi {
                gain = "[6.28318530718]"
            }
            [
                position = 8048, 8200
                scale = -1, 1
            ]

            component gen_terminator Termination3 {
            }
            [
                position = 8160, 8256
                rotation = down
            ]

            component "core/Three phase PLL" PLL {
            }
            [
                position = 8232, 8136
                scale = -1, 1
            ]

            port Ec {
                label = "Ec"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8336, 8168
                rotation = down
            ]

            port Eb {
                label = "Eb"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8392, 8136
                rotation = down
            ]

            port Ed {
                label = "Ed"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8024, 8064
                rotation = down
            ]

            port w {
                label = "w"
                position = left:4
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7976, 8200
                rotation = down
            ]

            port Ea {
                label = "Ea"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8336, 8104
                rotation = down
            ]

            port Eq {
                label = "Eq"
                position = left:3
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8160, 8112
                rotation = down
            ]

            port wt {
                label = "wt"
                position = left:5
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8048, 8160
                rotation = down
            ]

            connect 2pi.out w as Connection1
            connect PLL.freq 2pi.in as Connection2
            connect PLL.va Ea as Connection3
            connect PLL.vb Eb as Connection4
            connect PLL.vc Ec as Connection5
            connect PLL.d_axis Ed as Connection6
            connect PLL.q_axis Eq as Connection7
            connect PLL.theta wt as Connection8
            connect Termination1.in PLL.zero_axis as Connection9
            connect Termination3.in PLL.sin_theta as Connection10
        }
        [
            position = 11456, 8208
            size = 96, 192
        ]

        component "core/Voltage Measurement" Vbc {
        }
        [
            position = 6096, 8064
            rotation = right
            size = 64, 32
        ]

        component "core/Current RMS" Igc_rms1 {
        }
        [
            position = 6752, 9040
            size = 64, 32
        ]

        component gen_probe id2 {
            addr = "8968"
        }
        [
            position = 10736, 7056
            scale = -1, 1
        ]

        component "core/Current Measurement" Xi_b2 {
            addr = "15"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 5296, 6752
            scale = 1, -1
            size = 64, 32
        ]

        component src_square "Square Wave Source18" {
            duty_cycle = "0.1"
            frequency = "0.4"
            signal_type = "uint"
        }
        [
            position = 10304, 6576
        ]

        component pas_resistor R0c2 {
            resistance = "R0"
        }
        [
            position = 5040, 6848
        ]

        component "core/Voltage Measurement" Ec1 {
            addr = "11"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 5984, 9216
            rotation = right
            scale = -1, 1
            size = 64, 32
        ]

        component gen_probe V1 {
        }
        [
            position = 7664, 8928
        ]

        component sys_signal_switch "Signal switch4" {
            threshold = "0.5"
        }
        [
            position = 10336, 8976
            scale = -1, 1
        ]

        component pas_capacitor Cb3 {
            capacitance = "C"
        }
        [
            position = 4400, 10320
            rotation = right
        ]

        component Subsystem "dq to abc2" {
            layout = dynamic
            component src_constant o_ref {
                execution_rate = "Tfast"
                value = "[0]"
            }
            [
                position = 7520, 8200
            ]

            component "core/dq to abc" "dq to abc1" {
                execution_rate = "inherit"
            }
            [
                position = 7744, 8184
            ]

            port q {
                label = "Uq"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7472, 8168
            ]

            port d {
                label = "Ud"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7520, 8136
            ]

            port b {
                label = "b"
                position = left:3
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7896, 8184
            ]

            port a {
                label = "a"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7864, 8152
            ]

            port wt {
                label = "wt"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7600, 8232
            ]

            port c {
                label = "c"
                position = left:4
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7864, 8216
            ]

            connect o_ref.out "dq to abc1.zero_input" as Connection5
            connect a "dq to abc1.phase_a" as Connection1
            connect d "dq to abc1.d_input" as Connection3
            connect q "dq to abc1.q_input" as Connection6
            connect "dq to abc1.phase_b" b as Connection4
            connect c "dq to abc1.phase_c" as Connection2
            connect wt "dq to abc1.wt" as Connection7
        }
        [
            position = 9776, 7088
            size = 80, 168
        ]

        component pas_resistor R0c1 {
            resistance = "R0"
        }
        [
            position = 5072, 9040
        ]

        component pas_inductor L0b {
            inductance = "L0"
        }
        [
            position = 6272, 8016
            rotation = down
        ]

        component "core/Current RMS" Igb_rms {
        }
        [
            position = 7872, 8016
            size = 64, 32
        ]

        component gen_probe Xi_q_ref_res1 {
        }
        [
            position = 10176, 9072
            rotation = down
        ]

        component "core/Voltage Measurement" Vc12 {
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 6688, 9216
            rotation = right
            size = 64, 32
        ]

        component src_constant Constant8 {
            value = "0"
        }
        [
            position = 8336, 6280
        ]

        component "core/Current Measurement" Xi_b {
            addr = "15"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 6432, 8016
            scale = 1, -1
            size = 64, 32
        ]

        component gen_digital_probe "LED 1" {
        }
        [
            position = 10160, 5904
        ]

        component "core/Voltage Measurement" Ec2 {
            addr = "11"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 5952, 7024
            rotation = right
            scale = -1, 1
            size = 64, 32
        ]

        component gen_probe iq {
            addr = "8965"
        }
        [
            position = 10864, 8320
            scale = -1, 1
        ]

        component pas_resistor R0c {
            resistance = "R0"
        }
        [
            position = 6176, 8112
        ]

        component "core/Voltage RMS" Va_rms1 {
            sig_output = "True"
        }
        [
            position = 7288, 8848
            size = 64, 32
        ]

        component gen_probe P2 {
        }
        [
            position = 11680, 8944
            rotation = down
        ]

        component "core/Four Phase Core Coupling" "Core Coupling 4" {
        }
        [
            position = 9008, 8064
            rotation = down
            size = 12, 352
        ]

        component gen_probe iq4 {
            addr = "8965"
        }
        [
            position = 10784, 10384
            scale = -1, 1
        ]

        component gen_probe S_bus {
        }
        [
            position = 12736, 8128
            rotation = down
        ]

        component gen_probe Uq1 {
        }
        [
            position = 9888, 9168
            rotation = down
        ]

        component gen_digital_probe "LED 4" {
        }
        [
            position = 10160, 6112
        ]

        component pas_resistor Rt0b2 {
            resistance = "Rt0"
        }
        [
            position = 5504, 7008
            rotation = left
            scale = -1, 1
        ]

        component pas_capacitor Cb1 {
            capacitance = "C"
        }
        [
            position = 5536, 9296
            rotation = right
        ]

        component pas_resistor Rt0c2 {
            resistance = "Rt0"
        }
        [
            position = 5584, 7008
            rotation = left
            scale = -1, 1
        ]

        component src_square "Square Wave Source10" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.9"
            signal_type = "uint"
        }
        [
            position = 10064, 6560
        ]

        component src_square "Square Wave Source12" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.8"
            signal_type = "uint"
        }
        [
            position = 10304, 6432
        ]

        component gen_probe wt_pll {
            addr = "8966"
        }
        [
            position = 11264, 8304
            scale = -1, 1
        ]

        component src_voltage VDC1 {
            param_set = ""
        }
        [
            position = 5344, 8016
            rotation = right
        ]

        component src_square "Square Wave Source6" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.5"
            signal_type = "uint"
        }
        [
            position = 10064, 6256
        ]

        component src_scada_input S_control_mode {
            execution_rate = "Tfast"
            unit = ""
        }
        [
            position = 10608, 7952
            scale = -1, 1
        ]

        component gen_probe id1 {
            addr = "8968"
        }
        [
            position = 10624, 9072
            scale = -1, 1
        ]

        component Subsystem squared_Vt1 {
            layout = dynamic
            component gen_sum Sum3 {
            }
            [
                position = 8104, 8192
                scale = -1, 1
            ]

            component gen_product Product1 {
            }
            [
                position = 8208, 8160
                scale = -1, 1
            ]

            component gen_product Product2 {
            }
            [
                position = 8208, 8232
                scale = -1, 1
            ]

            port Et_p2 {
                label = "Et^2"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8032, 8192
                rotation = down
            ]

            port Ed {
                label = "Ed"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8328, 8152
                rotation = down
            ]

            port Eq {
                label = "Eq"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8328, 8224
                rotation = down
            ]

            junction Junction136 sp
            [
                position = 8280, 8152
            ]

            junction Junction137 sp
            [
                position = 8280, 8224
            ]

            connect Product2.in Junction137 as Connection6
            connect Product1.in1 Junction136 as Connection4
            connect Junction136 Product1.in as Connection2
            connect Sum3.in Product1.out as Connection8
            connect Sum3.in1 Product2.out as Connection9
            connect Sum3.out Et_p2 as Connection7
            connect Junction136 Ed as Connection1
            connect Junction137 Eq as Connection3
            connect Product2.in1 Junction137 as Connection5
        }
        [
            position = 10768, 8928
            size = 48, 56
        ]

        component src_ground gnd2 {
        }
        [
            position = 9296, 8368
        ]

        component src_square "Square Wave Source11" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.6"
            signal_type = "uint"
        }
        [
            position = 10304, 6272
        ]

        component gen_probe Ud2 {
        }
        [
            position = 9904, 6960
            rotation = down
        ]

        component "core/Current Measurement" Xi_b3 {
            addr = "15"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 4208, 9968
            scale = 1, -1
            size = 64, 32
        ]

        component Subsystem S_meas {
            layout = dynamic
            component gen_terminator Termination1 {
            }
            [
                position = 8080, 8136
                rotation = down
            ]

            component gen_terminator Termination2 {
            }
            [
                position = 8160, 8136
                rotation = down
            ]

            component gen_PQ_transform "Power Meter1" {
                filter_cutoff_Hz = "5"
                filter_order = "second order"
            }
            [
                position = 8256, 8224
                scale = -1, 1
            ]

            port Vb {
                label = "Vb"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8368, 8144
                rotation = down
            ]

            port S {
                label = "S"
                position = left:3
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8096, 8272
                rotation = down
            ]

            port Ia {
                label = "Ia"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8432, 8232
                rotation = down
            ]

            port pf {
                label = "pf"
                position = left:4
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8128, 8336
                rotation = down
            ]

            port Vc {
                label = "Vc"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8416, 8168
                rotation = down
            ]

            port Ib {
                label = "Ib"
                position = right:5
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8376, 8272
                rotation = down
            ]

            port Ic {
                label = "Ic"
                position = right:6
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8400, 8336
                rotation = down
            ]

            port P {
                label = "P"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7992, 8176
                rotation = down
            ]

            port Q {
                label = "Q"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8032, 8232
                rotation = down
            ]

            port Va {
                label = "Va"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8320, 8112
                rotation = down
            ]

            connect Termination2.in "Power Meter1.Pac" as Connection12
            connect P "Power Meter1.Pdc" as Connection1
            connect "Power Meter1.ia" Ia as Connection2
            connect "Power Meter1.ib" Ib as Connection3
            connect "Power Meter1.ic" Ic as Connection4
            connect "Power Meter1.Qdc" Q as Connection5
            connect "Power Meter1.apparent" S as Connection6
            connect "Power Meter1.va" Va as Connection7
            connect "Power Meter1.vb" Vb as Connection8
            connect "Power Meter1.vc" Vc as Connection9
            connect "Power Meter1.k_factor" pf as Connection10
            connect Termination1.in "Power Meter1.Qac" as Connection11
        }
        [
            position = 11936, 8160
            size = 96, 216
        ]

        component gen_digital_probe "LED 13" {
        }
        [
            position = 10416, 6064
        ]

        component gen_digital_probe "LED 10" {
        }
        [
            position = 10176, 6560
        ]

        component gen_digital_probe "LED 20" {
        }
        [
            position = 10416, 6576
        ]

        component gen_probe Q4 {
        }
        [
            position = 11760, 9952
            rotation = down
        ]

        component pas_resistor R0b2 {
            resistance = "R0"
        }
        [
            position = 5040, 6752
        ]

        component Subsystem Subsystem4 {
            layout = dynamic
            component gen_sum Sum6 {
            }
            [
                position = 8032, 8272
                scale = -1, 1
            ]

            component gen_sum Sum3 {
            }
            [
                position = 7760, 8048
                scale = -1, 1
            ]

            component gen_gain Gain2 {
                gain = "L0"
            }
            [
                position = 8280, 8344
                scale = -1, 1
            ]

            component gen_gain Gain1 {
                gain = "L0"
            }
            [
                position = 8264, 8152
                scale = -1, 1
            ]

            component gen_product Product4 {
                signs = "*/"
            }
            [
                position = 7904, 8280
                scale = -1, 1
            ]

            component gen_pid_controller "PID controller2" {
                controller_type = "PI"
                enb_anti_windup_out = "True"
                enb_output_limit_out = "True"
                ki = "1e-1"
                kp = "0.015"
            }
            [
                position = 8200, 8224
                scale = -1, 1
            ]

            component gen_product Product2 {
            }
            [
                position = 8184, 8336
                scale = -1, 1
            ]

            component gen_sum Sum1 {
                signs = "-+"
            }
            [
                position = 8288, 8040
                rotation = down
            ]

            component gen_sum Sum7 {
            }
            [
                position = 7760, 8232
                scale = -1, 1
            ]

            component gen_sum Sum2 {
                signs = "-+"
            }
            [
                position = 8288, 8224
                rotation = down
            ]

            component gen_product Product3 {
                signs = "*/"
            }
            [
                position = 7904, 8112
                scale = -1, 1
            ]

            component gen_product Product1 {
            }
            [
                position = 8168, 8144
                scale = -1, 1
            ]

            component gen_sum Sum5 {
                signs = "+-"
            }
            [
                position = 8024, 8104
                scale = -1, 1
            ]

            component gen_gain Gain3 {
                gain = "[0.5]"
            }
            [
                position = 7976, 8376
                scale = -1, 1
            ]

            component gen_pid_controller "PID controller1" {
                controller_type = "PI"
                enb_anti_windup_out = "True"
                enb_output_limit_out = "True"
                ki = "1e-1"
                kp = "0.015"
            }
            [
                position = 8200, 8040
                scale = -1, 1
            ]

            port Xi_q_ref {
                label = "Xi_q_ref"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8520, 8184
                rotation = down
            ]

            port Xi_d_ref {
                label = "x_di_ref"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8440, 8032
                rotation = down
            ]

            port Ud {
                label = "Ud"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7672, 8048
                rotation = down
            ]

            port Xi_d_meas {
                label = "Xi_d_meas"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8440, 8112
                rotation = down
            ]

            port Xi_q_meas {
                label = "Xi_q_meas"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8520, 8232
                rotation = down
            ]

            port Uq {
                label = "Uq"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7672, 8232
                rotation = down
            ]

            tag From24 {
                value = "Ed4"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8112, 8056
                scale = -1, 1
                size = 60, 20
            ]

            tag From23 {
                value = "w4"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8272, 8112
                scale = -1, 1
                size = 60, 20
            ]

            tag From26 {
                value = "Eq4"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8128, 8264
                scale = -1, 1
                size = 60, 20
            ]

            tag From27 {
                value = "VDC4"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8056, 8376
                scale = -1, 1
                size = 60, 20
            ]

            tag From25 {
                value = "w4"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8288, 8304
                scale = -1, 1
                size = 60, 20
            ]

            junction Junction145 sp
            [
                position = 8360, 8232
            ]

            junction Junction146 sp
            [
                position = 8392, 8112
            ]

            junction Junction147 sp
            [
                position = 7944, 8288
            ]

            connect "PID controller1.out" Sum3.in as Connection15
            connect "PID controller1.in" Sum1.out as Connection14
            connect Gain1.out Product1.in1 as Connection6
            connect "PID controller2.in" Sum2.out as Connection16
            connect Sum5.in1 Product1.out as Connection24
            connect Product3.out Sum3.in1 as Connection17
            connect Gain2.in Junction146 as Connection7
            connect Sum5.out Product3.in as Connection25
            connect Product4.in1 Junction147 as Connection18
            connect From23 Product1.in as Connection1
            connect Gain2.out Product2.in1 as Connection8
            connect Product4.out Sum7.in1 as Connection19
            connect Sum6.in1 Product2.out as Connection26
            connect From25 Product2.in as Connection2
            connect Gain3.out Junction147 as Connection9
            connect Sum6.out Product4.in as Connection27
            connect Junction145 Xi_q_meas as Connection10
            connect Sum7.in "PID controller2.out" as Connection28
            connect From26 Sum6.in as Connection3
            connect Junction146 Sum1.in as Connection11
            connect Sum2.in Junction145 as Connection21
            connect Sum7.out Uq as Connection29
            connect From27 Gain3.in as Connection4
            connect Junction146 Xi_d_meas as Connection12
            connect Sum2.in1 Xi_q_ref as Connection22
            connect Ud Sum3.out as Connection30
            connect Sum1.in1 Xi_d_ref as Connection20
            connect Junction147 Product3.in1 as Connection13
            connect Gain1.in Junction145 as Connection5
            connect Sum5.in From24 as Connection23
        }
        [
            position = 10176, 10256
            size = 96, 240
        ]

        component pas_capacitor Ca {
            capacitance = "C"
        }
        [
            position = 6544, 8368
            rotation = right
        ]

        component sys_signal_switch "Signal switch8" {
            threshold = "0.5"
        }
        [
            position = 10480, 10160
            scale = -1, 1
        ]

        component gen_probe Uq {
        }
        [
            position = 10112, 8288
            rotation = down
        ]

        component src_scada_input Xi_q_ref1 {
            addr = "1426063424"
            execution_rate = "Tfast"
            unit = ""
        }
        [
            position = 10384, 9120
            rotation = down
            scale = 1, -1
        ]

        component gen_probe P3 {
        }
        [
            position = 11728, 6672
            rotation = down
        ]

        component pas_resistor Rt0a2 {
            resistance = "Rt0"
        }
        [
            position = 5424, 7008
            rotation = left
            scale = -1, 1
        ]

        component "core/Current Measurement" Idc_link2 {
            addr = "7"
            execution_rate = "Tfast"
        }
        [
            position = 4592, 6656
            scale = 1, -1
            size = 64, 32
        ]

        component "core/Current Measurement" Xi_a1 {
            addr = "14"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 5280, 8848
            scale = 1, -1
            size = 64, 32
        ]

        component pas_resistor Rt0c {
            resistance = "Rt0"
        }
        [
            position = 6704, 8272
            rotation = left
            scale = -1, 1
        ]

        component src_scada_input "Input Register IP" {
            def_value = "5"
            unit = ""
        }
        [
            position = 8176, 6328
        ]

        component "core/Voltage Measurement" Ea3 {
            addr = "7"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 4704, 10112
            rotation = right
            scale = -1, 1
            size = 64, 32
        ]

        component gen_digital_probe "LED 19" {
        }
        [
            position = 10416, 6496
        ]

        component "core/ModBus Device" "ModBus Device6" {
            configuration = "config5"
            execution_rate = "Tfast"
        }
        [
            position = 8544, 6312
            size = 184, 184
        ]

        component pas_inductor L0c1 {
            inductance = "L0"
        }
        [
            position = 5184, 9040
            rotation = down
        ]

        component pas_resistor Rt0c3 {
            resistance = "Rt0"
        }
        [
            position = 4480, 10224
            rotation = left
            scale = -1, 1
        ]

        component gen_probe Eq1 {
        }
        [
            position = 10896, 8832
            rotation = down
        ]

        component gen_bus_join "Bus Join5" {
        }
        [
            position = 8288, 6440
        ]

        component Subsystem squared_Vt2 {
            layout = dynamic
            component gen_product Product1 {
            }
            [
                position = 8208, 8160
                scale = -1, 1
            ]

            component gen_sum Sum3 {
            }
            [
                position = 8104, 8192
                scale = -1, 1
            ]

            component gen_product Product2 {
            }
            [
                position = 8208, 8232
                scale = -1, 1
            ]

            port Et_p2 {
                label = "Et^2"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8032, 8192
                rotation = down
            ]

            port Eq {
                label = "Eq"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8328, 8224
                rotation = down
            ]

            port Ed {
                label = "Ed"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8328, 8152
                rotation = down
            ]

            junction Junction137 sp
            [
                position = 8280, 8224
            ]

            junction Junction136 sp
            [
                position = 8280, 8152
            ]

            connect Junction137 Eq as Connection3
            connect Product2.in Junction137 as Connection6
            connect Sum3.in Product1.out as Connection8
            connect Junction136 Ed as Connection1
            connect Product1.in1 Junction136 as Connection4
            connect Sum3.in1 Product2.out as Connection9
            connect Product2.in1 Junction137 as Connection5
            connect Sum3.out Et_p2 as Connection7
            connect Junction136 Product1.in as Connection2
        }
        [
            position = 10880, 6896
            size = 48, 56
        ]

        component "core/Three Phase Inverter" "Three Phase Inverter3" {
            ctrl_src = "Internal modulator"
            d_time = "0.5e-6"
        }
        [
            position = 4784, 6752
            size = 127, 256
        ]

        component "core/Voltage RMS" Vbc_rms2 {
        }
        [
            position = 7088, 6800
            rotation = right
            size = 64, 32
        ]

        component src_square "Square Wave Source20" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.9"
            signal_type = "uint"
        }
        [
            position = 10304, 6496
        ]

        component Subsystem Current_abc_to_dq {
            layout = dynamic
            component gen_terminator Termination1 {
            }
            [
                position = 7952, 8064
            ]

            component "core/abc to dq" "abc to dq1" {
            }
            [
                position = 7856, 8008
            ]

            port Iq {
                label = "Iq"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8008, 8016
            ]

            port Ic {
                label = "Ic"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 8040
            ]

            port wt {
                label = "wt"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 8088
            ]

            port Ib {
                label = "Ib"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 8000
            ]

            port Ia {
                label = "Ia"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 7960
            ]

            port Id {
                label = "Id"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8008, 7976
            ]

            connect Ib "abc to dq1.vb" as Connection2
            connect wt "abc to dq1.wt" as Connection7
            connect Ic "abc to dq1.vc" as Connection3
            connect Ia "abc to dq1.va" as Connection1
            connect Termination1.in "abc to dq1.zero_axis" as Connection4
            connect "abc to dq1.q_axis" Iq as Connection6
            connect "abc to dq1.d_axis" Id as Connection5
        }
        [
            position = 11056, 8224
            size = 80, 168
        ]

        component "core/Current Measurement" Xi_c1 {
            addr = "16"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 5392, 9040
            scale = 1, -1
            size = 64, 32
        ]

        component "core/Voltage Measurement" Ec3 {
            addr = "11"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 4864, 10240
            rotation = right
            scale = -1, 1
            size = 64, 32
        ]

        component "core/Voltage RMS" Vab_rms2 {
        }
        [
            position = 7088, 6704
            rotation = right
            size = 64, 32
        ]

        component gen_digital_probe "LED 17" {
        }
        [
            position = 10416, 6352
        ]

        component Subsystem PLL2 {
            layout = dynamic
            component gen_gain 2pi {
                gain = "[6.28318530718]"
            }
            [
                position = 8048, 8200
                scale = -1, 1
            ]

            component gen_terminator Termination3 {
            }
            [
                position = 8160, 8256
                rotation = down
            ]

            component gen_terminator Termination1 {
            }
            [
                position = 8104, 8136
                rotation = down
            ]

            component "core/Three phase PLL" PLL {
            }
            [
                position = 8232, 8136
                scale = -1, 1
            ]

            port Ed {
                label = "Ed"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8024, 8064
                rotation = down
            ]

            port wt {
                label = "wt"
                position = left:5
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8048, 8160
                rotation = down
            ]

            port Eq {
                label = "Eq"
                position = left:3
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8160, 8112
                rotation = down
            ]

            port Ea {
                label = "Ea"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8336, 8104
                rotation = down
            ]

            port Eb {
                label = "Eb"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8392, 8136
                rotation = down
            ]

            port Ec {
                label = "Ec"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8336, 8168
                rotation = down
            ]

            port w {
                label = "w"
                position = left:4
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7976, 8200
                rotation = down
            ]

            connect 2pi.out w as Connection1
            connect PLL.freq 2pi.in as Connection2
            connect PLL.va Ea as Connection3
            connect PLL.vb Eb as Connection4
            connect PLL.vc Ec as Connection5
            connect PLL.d_axis Ed as Connection6
            connect PLL.q_axis Eq as Connection7
            connect PLL.theta wt as Connection8
            connect Termination1.in PLL.zero_axis as Connection9
            connect Termination3.in PLL.sin_theta as Connection10
        }
        [
            position = 11344, 7056
            size = 96, 192
        ]

        component gen_terminator Termination3 {
        }
        [
            position = 7296, 9216
        ]

        component gen_bus_split "Bus Split3" {
            outputs = "3"
        }
        [
            position = 4704, 6464
        ]

        component src_ground gnd3 {
        }
        [
            position = 4560, 10592
        ]

        component "core/Current RMS" Iga_rms2 {
        }
        [
            position = 6752, 6656
            size = 64, 32
        ]

        component gen_probe Pref1 {
        }
        [
            position = 10944, 7872
            rotation = down
        ]

        component src_scada_input Q_ref4 {
            def_value = "1000"
            execution_rate = "Tfast"
            unit = "VAr"
        }
        [
            position = 10896, 10016
            scale = -1, 1
        ]

        component gen_probe Xi_q_ref_res {
        }
        [
            position = 10400, 8192
            rotation = down
        ]

        component pas_inductor Lb3 {
            inductance = "L"
        }
        [
            position = 5312, 9968
            rotation = down
        ]

        component pas_resistor Rc3 {
            resistance = "R"
        }
        [
            position = 5216, 10064
        ]

        component gen_probe Ud4 {
        }
        [
            position = 9952, 10176
            rotation = down
        ]

        component pas_resistor R0a3 {
            resistance = "R0"
        }
        [
            position = 3952, 9872
        ]

        component "core/Current RMS" Igb_rms2 {
        }
        [
            position = 6752, 6752
            size = 64, 32
        ]

        component src_square "Square Wave Source2" {
            duty_cycle = "0.33"
            frequency = "1.33"
            phase = "0.33"
            signal_type = "uint"
        }
        [
            position = 10064, 5984
        ]

        component "core/Voltage Measurement" Ea1 {
            addr = "7"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 5840, 9088
            rotation = right
            scale = -1, 1
            size = 64, 32
        ]

        component pas_capacitor Ca2 {
            capacitance = "C"
        }
        [
            position = 5424, 7104
            rotation = right
        ]

        component Subsystem PLL3 {
            layout = dynamic
            component gen_terminator Termination1 {
            }
            [
                position = 8104, 8136
                rotation = down
            ]

            component gen_gain 2pi {
                gain = "[6.28318530718]"
            }
            [
                position = 8048, 8200
                scale = -1, 1
            ]

            component gen_terminator Termination3 {
            }
            [
                position = 8160, 8256
                rotation = down
            ]

            component "core/Three phase PLL" PLL {
            }
            [
                position = 8232, 8136
                scale = -1, 1
            ]

            port wt {
                label = "wt"
                position = left:5
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8048, 8160
                rotation = down
            ]

            port Ea {
                label = "Ea"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8336, 8104
                rotation = down
            ]

            port w {
                label = "w"
                position = left:4
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7976, 8200
                rotation = down
            ]

            port Eq {
                label = "Eq"
                position = left:3
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8160, 8112
                rotation = down
            ]

            port Ec {
                label = "Ec"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8336, 8168
                rotation = down
            ]

            port Ed {
                label = "Ed"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8024, 8064
                rotation = down
            ]

            port Eb {
                label = "Eb"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8392, 8136
                rotation = down
            ]

            connect PLL.va Ea as Connection3
            connect PLL.vb Eb as Connection4
            connect PLL.vc Ec as Connection5
            connect PLL.d_axis Ed as Connection6
            connect PLL.q_axis Eq as Connection7
            connect PLL.theta wt as Connection8
            connect Termination1.in PLL.zero_axis as Connection9
            connect Termination3.in PLL.sin_theta as Connection10
            connect 2pi.out w as Connection1
            connect PLL.freq 2pi.in as Connection2
        }
        [
            position = 11376, 10272
            size = 96, 192
        ]

        component src_scada_input S_control_mode1 {
            execution_rate = "Tfast"
            unit = ""
        }
        [
            position = 10384, 8832
            scale = -1, 1
        ]

        component gen_probe Ed {
        }
        [
            position = 11280, 7984
            rotation = down
        ]

        component "core/Current Measurement" Xi_a2 {
            addr = "14"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 5248, 6656
            scale = 1, -1
            size = 64, 32
        ]

        component gen_probe Pref3 {
        }
        [
            position = 10848, 6704
            rotation = down
        ]

        component pas_resistor Ra3 {
            resistance = "R"
        }
        [
            position = 5216, 9872
        ]

        component pas_resistor R0b {
            resistance = "R0"
        }
        [
            position = 6176, 8016
        ]

        component src_scada_input Xi_d_ref4 {
            addr = "1426063428"
            def_value = "10"
            execution_rate = "Tfast"
            unit = ""
        }
        [
            position = 10608, 10192
            rotation = down
            scale = 1, -1
        ]

        component pas_capacitor Ca1 {
            capacitance = "C"
        }
        [
            position = 5456, 9296
            rotation = right
        ]

        component "core/Grid Simulator" "Grid Simulator1" {
            inductance_grid_simulator = "0.4e-6"
            resistance_grid_simulator = "41.901e-3"
        }
        [
            position = 9216, 8016
            size = 120, 256
        ]

        component "core/Current RMS" Ground1 {
        }
        [
            position = 4560, 10480
            rotation = right
            size = 64, 32
        ]

        component Subsystem "dq to abc" {
            layout = dynamic
            component "core/dq to abc" "dq to abc1" {
                execution_rate = "inherit"
            }
            [
                position = 7744, 8184
            ]

            component src_constant o_ref {
                execution_rate = "Tfast"
                value = "[0]"
            }
            [
                position = 7520, 8200
            ]

            port q {
                label = "Uq"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7472, 8168
            ]

            port d {
                label = "Ud"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7520, 8136
            ]

            port b {
                label = "b"
                position = left:3
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7896, 8184
            ]

            port wt {
                label = "wt"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7600, 8232
            ]

            port c {
                label = "c"
                position = left:4
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7864, 8216
            ]

            port a {
                label = "a"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7864, 8152
            ]

            connect d "dq to abc1.d_input" as Connection3
            connect a "dq to abc1.phase_a" as Connection1
            connect o_ref.out "dq to abc1.zero_input" as Connection5
            connect c "dq to abc1.phase_c" as Connection2
            connect wt "dq to abc1.wt" as Connection7
            connect "dq to abc1.phase_b" b as Connection4
            connect q "dq to abc1.q_input" as Connection6
        }
        [
            position = 9888, 8224
            size = 80, 168
        ]

        component src_scada_input Q_ref1 {
            def_value = "500"
            execution_rate = "Tfast"
            unit = "VAr"
        }
        [
            position = 10976, 7936
            scale = -1, 1
        ]

        component pas_resistor Rc1 {
            resistance = "R"
        }
        [
            position = 6304, 9040
        ]

        component "core/Voltage Measurement" VDC_2 {
            execution_rate = "Tfast"
            sig_output = "True"
        }
        [
            position = 4336, 8944
            rotation = right
            size = 64, 32
        ]

        component gen_digital_probe "LED 11" {
        }
        [
            position = 10416, 5920
        ]

        component gen_probe Ed2 {
        }
        [
            position = 11168, 6832
            rotation = down
        ]

        component sys_signal_switch "Signal switch3" {
            threshold = "0.5"
        }
        [
            position = 10272, 9104
            scale = -1, 1
        ]

        component pas_resistor Rt0b1 {
            resistance = "Rt0"
        }
        [
            position = 5536, 9200
            rotation = left
            scale = -1, 1
        ]

        component gen_probe iq2 {
            addr = "8965"
        }
        [
            position = 10752, 7168
            scale = -1, 1
        ]

        component gen_probe id4 {
            addr = "8968"
        }
        [
            position = 10784, 10272
            scale = -1, 1
        ]

        component src_square "Square Wave Source15" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.7"
            signal_type = "uint"
        }
        [
            position = 10304, 6352
        ]

        component "core/Three Phase Inverter" "Three Phase Inverter4" {
            ctrl_src = "Internal modulator"
            d_time = "0.5e-6"
        }
        [
            position = 3680, 9968
            size = 127, 256
        ]

        component pas_resistor Rt0c1 {
            resistance = "Rt0"
        }
        [
            position = 5616, 9200
            rotation = left
            scale = -1, 1
        ]

        component src_scada_input Q_ref3 {
            def_value = "800"
            execution_rate = "Tfast"
            unit = "VAr"
        }
        [
            position = 10864, 6800
            scale = -1, 1
        ]

        component gen_probe S3 {
        }
        [
            position = 11728, 6784
            rotation = down
        ]

        component pas_resistor Rc2 {
            resistance = "R"
        }
        [
            position = 6304, 6848
        ]

        component "core/Voltage Measurement" Ec {
            addr = "11"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 7088, 8288
            rotation = right
            scale = -1, 1
            size = 64, 32
        ]

        component Subsystem Subsystem3 {
            layout = dynamic
            component gen_sum Sum7 {
            }
            [
                position = 7760, 8232
                scale = -1, 1
            ]

            component gen_sum Sum2 {
                signs = "-+"
            }
            [
                position = 8288, 8224
                rotation = down
            ]

            component gen_product Product4 {
                signs = "*/"
            }
            [
                position = 7904, 8280
                scale = -1, 1
            ]

            component gen_pid_controller "PID controller1" {
                controller_type = "PI"
                enb_anti_windup_out = "True"
                enb_output_limit_out = "True"
                ki = "1e-1"
                kp = "0.015"
            }
            [
                position = 8200, 8040
                scale = -1, 1
            ]

            component gen_sum Sum6 {
            }
            [
                position = 8032, 8272
                scale = -1, 1
            ]

            component gen_gain Gain2 {
                gain = "L0"
            }
            [
                position = 8280, 8344
                scale = -1, 1
            ]

            component gen_gain Gain1 {
                gain = "L0"
            }
            [
                position = 8264, 8152
                scale = -1, 1
            ]

            component gen_sum Sum5 {
                signs = "+-"
            }
            [
                position = 8024, 8104
                scale = -1, 1
            ]

            component gen_product Product3 {
                signs = "*/"
            }
            [
                position = 7904, 8112
                scale = -1, 1
            ]

            component gen_product Product2 {
            }
            [
                position = 8184, 8336
                scale = -1, 1
            ]

            component gen_pid_controller "PID controller2" {
                controller_type = "PI"
                enb_anti_windup_out = "True"
                enb_output_limit_out = "True"
                ki = "1e-1"
                kp = "0.015"
            }
            [
                position = 8200, 8224
                scale = -1, 1
            ]

            component gen_gain Gain3 {
                gain = "[0.5]"
            }
            [
                position = 7976, 8376
                scale = -1, 1
            ]

            component gen_sum Sum1 {
                signs = "-+"
            }
            [
                position = 8288, 8040
                rotation = down
            ]

            component gen_sum Sum3 {
            }
            [
                position = 7760, 8048
                scale = -1, 1
            ]

            component gen_product Product1 {
            }
            [
                position = 8168, 8144
                scale = -1, 1
            ]

            port Uq {
                label = "Uq"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7672, 8232
                rotation = down
            ]

            port Ud {
                label = "Ud"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7672, 8048
                rotation = down
            ]

            port Xi_d_meas {
                label = "Xi_d_meas"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8440, 8112
                rotation = down
            ]

            port Xi_d_ref {
                label = "x_di_ref"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8440, 8032
                rotation = down
            ]

            port Xi_q_ref {
                label = "Xi_q_ref"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8520, 8184
                rotation = down
            ]

            port Xi_q_meas {
                label = "Xi_q_meas"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8520, 8232
                rotation = down
            ]

            tag From23 {
                value = "w2"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8272, 8112
                scale = -1, 1
                size = 60, 20
            ]

            tag From25 {
                value = "w2"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8288, 8304
                scale = -1, 1
                size = 60, 20
            ]

            tag From27 {
                value = "VDC3"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8056, 8376
                scale = -1, 1
                size = 60, 20
            ]

            tag From26 {
                value = "Eq2"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8128, 8264
                scale = -1, 1
                size = 60, 20
            ]

            tag From24 {
                value = "Ed2"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8112, 8056
                scale = -1, 1
                size = 60, 20
            ]

            junction Junction145 sp
            [
                position = 8360, 8232
            ]

            junction Junction146 sp
            [
                position = 8392, 8112
            ]

            junction Junction147 sp
            [
                position = 7944, 8288
            ]

            connect "PID controller1.in" Sum1.out as Connection14
            connect Junction147 Product3.in1 as Connection13
            connect "PID controller1.out" Sum3.in as Connection15
            connect Gain1.out Product1.in1 as Connection6
            connect "PID controller2.in" Sum2.out as Connection16
            connect Gain2.in Junction146 as Connection7
            connect Sum5.out Product3.in as Connection25
            connect Product3.out Sum3.in1 as Connection17
            connect Sum5.in From24 as Connection23
            connect Product4.in1 Junction147 as Connection18
            connect Gain2.out Product2.in1 as Connection8
            connect From23 Product1.in as Connection1
            connect Sum6.in1 Product2.out as Connection26
            connect Product4.out Sum7.in1 as Connection19
            connect Sum1.in1 Xi_d_ref as Connection20
            connect Gain3.out Junction147 as Connection9
            connect From25 Product2.in as Connection2
            connect Sum6.out Product4.in as Connection27
            connect Junction145 Xi_q_meas as Connection10
            connect Sum2.in Junction145 as Connection21
            connect Sum7.in "PID controller2.out" as Connection28
            connect From26 Sum6.in as Connection3
            connect Junction146 Sum1.in as Connection11
            connect Sum2.in1 Xi_q_ref as Connection22
            connect Sum7.out Uq as Connection29
            connect From27 Gain3.in as Connection4
            connect Gain1.in Junction145 as Connection5
            connect Junction146 Xi_d_meas as Connection12
            connect Sum5.in1 Product1.out as Connection24
            connect Ud Sum3.out as Connection30
        }
        [
            position = 10144, 7040
            size = 96, 240
        ]

        component "core/Current Measurement" Idc_link {
            addr = "7"
            execution_rate = "Tfast"
        }
        [
            position = 5728, 7920
            scale = 1, -1
            size = 64, 32
        ]

        component pas_capacitor Cb2 {
            capacitance = "C"
        }
        [
            position = 5504, 7104
            rotation = right
        ]

        component Subsystem Current_ref2 {
            layout = dynamic
            component sys_signal_switch "Signal switch1" {
                threshold = "0.5"
            }
            [
                position = 8256, 8328
                scale = -1, -1
            ]

            component gen_gain Gain1 {
                gain = "2.0/3.0"
            }
            [
                position = 8024, 8080
                scale = -1, 1
            ]

            component gen_comparator Comparator1 {
            }
            [
                position = 8352, 8368
                scale = -1, 1
            ]

            component gen_sum Sum3 {
                signs = "+-"
            }
            [
                position = 8232, 8072
                scale = -1, 1
            ]

            component gen_product Product1 {
                signs = "*/"
            }
            [
                position = 8120, 8080
                scale = -1, 1
            ]

            component gen_probe Et_sqr_res {
            }
            [
                position = 8224, 8256
            ]

            component gen_product Product2 {
                signs = "*/"
            }
            [
                position = 8120, 8168
                scale = -1, 1
            ]

            component gen_gain Gain2 {
                gain = "2.0/3.0"
            }
            [
                position = 8024, 8168
                scale = -1, 1
            ]

            component gen_product Product4 {
            }
            [
                position = 8440, 8080
                scale = -1, 1
            ]

            component gen_sum Sum4 {
            }
            [
                position = 8232, 8160
                scale = -1, 1
            ]

            component gen_probe Et_sqr {
            }
            [
                position = 8496, 8288
            ]

            component gen_product Product5 {
            }
            [
                position = 8440, 8152
                scale = -1, 1
            ]

            component gen_product Product3 {
            }
            [
                position = 8440, 8008
                scale = -1, 1
            ]

            component src_constant Limit_zero {
                execution_rate = "Tfast"
                value = "[100]"
            }
            [
                position = 8464, 8408
                scale = -1, 1
            ]

            component gen_product Product6 {
            }
            [
                position = 8440, 8224
                scale = -1, 1
            ]

            component gen_probe Pref_probe {
            }
            [
                position = 8752, 8176
            ]

            component src_constant one {
                execution_rate = "Tfast"
                value = "[100]"
            }
            [
                position = 8344, 8312
                scale = -1, 1
            ]

            port Q_ref {
                label = "Q_ref"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8216
                rotation = down
            ]

            port Eq {
                label = "Eq"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8000
                rotation = down
            ]

            port Xi_rq {
                label = "Xi_rq"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7952, 8080
                rotation = down
            ]

            port Et_p2 {
                label = "Et^2"
                position = right:5
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8600, 8360
                rotation = down
            ]

            port Ed {
                label = "Ed"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8072
                rotation = down
            ]

            port P_ref {
                label = "P_ref"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8144
                rotation = down
            ]

            port Xi_rd {
                label = "Xi_rd"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7952, 8168
                rotation = down
            ]

            junction Junction142 sp
            [
                position = 8528, 8072
            ]

            junction Junction143 sp
            [
                position = 8544, 8000
            ]

            junction Junction144 sp
            [
                position = 8408, 8360
            ]

            junction Junction147 sp
            [
                position = 8184, 8328
            ]

            junction Junction148 sp
            [
                position = 8600, 8144
            ]

            junction Junction149 sp
            [
                position = 8424, 8360
            ]

            junction Junction138 sp
            [
                position = 8160, 8176
            ]

            junction Junction139 sp
            [
                position = 8568, 8144
            ]

            junction Junction141 sp
            [
                position = 8560, 8216
            ]

            connect Product1.in Sum3.out as Connection23
            connect Gain2.out Xi_rd as Connection8
            connect Product6.in1 Junction143 as Connection36
            connect Et_sqr_res.in Junction147 as Connection5
            connect Product2.in1 Junction138 as Connection25
            connect Product3.out Sum3.in as Connection28
            connect Junction149 Junction144 as Connection45
            connect Product2.out Gain2.in as Connection24
            connect Junction138 Product1.in1 as Connection9
            connect Comparator1.in1 Junction144 as Connection1
            connect Gain1.in Product1.out as Connection6
            connect Product6.out Sum4.in1 as Connection37
            connect Product4.in1 Junction141 as Connection29
            connect Limit_zero.out Comparator1.in2 as Connection19
            connect Junction139 Junction148 as Connection10
            connect Product4.in Junction142 as Connection30
            connect Comparator1.out "Signal switch1.in2" as Connection2
            connect Junction141 Q_ref as Connection11
            connect "Signal switch1.in" Junction144 as Connection38
            connect Gain1.out Xi_rq as Connection7
            connect Product4.out Sum3.in1 as Connection31
            connect Junction142 Ed as Connection12
            connect Eq Junction143 as Connection3
            connect Junction143 Product3.in as Connection13
            connect "Signal switch1.out" Junction147 as Connection39
            connect Product5.in Junction139 as Connection32
            connect Product5.in1 Junction142 as Connection33
            connect Et_p2 Junction149 as Connection46
            connect Product5.out Sum4.in as Connection34
            connect one.out "Signal switch1.in1" as Connection40
            connect Junction148 P_ref as Connection18
            connect Pref_probe.in Junction148 as Connection22
            connect Et_sqr.in Junction149 as Connection44
            connect Product6.in Junction141 as Connection35
            connect Product2.in Sum4.out as Connection26
            connect Product3.in1 Junction139 as Connection27
            connect Junction138 Junction147 as Connection47
            [
                breakpoints = 8160, 8176; 8160, 8264
            ]
        }
        [
            position = 10704, 6832
            size = 80, 168
        ]

        component gen_probe holding_out1 {
            addr = "17920"
        }
        [
            position = 8896, 6168
        ]

        component "core/Current Measurement" Xi_a {
            addr = "14"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 6384, 7920
            scale = 1, -1
            size = 64, 32
        ]

        component gen_probe S2 {
        }
        [
            position = 11680, 9056
            rotation = down
        ]

        component gen_probe Xi_d_ref_res {
        }
        [
            position = 10368, 8048
            rotation = down
        ]

        component "core/Current RMS" Ground2 {
        }
        [
            position = 9296, 8272
            rotation = right
            size = 64, 32
        ]

        component gen_probe Eq {
        }
        [
            position = 11120, 7952
            rotation = down
        ]

        component gen_probe pf4 {
        }
        [
            position = 11760, 10064
            rotation = down
        ]

        component gen_trigonometric "Trigonometric function2" {
            trigonometric_fn = "acos"
        }
        [
            position = 12816, 8288
        ]

        component "core/Voltage Measurement" Eb2 {
            addr = "9"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 5872, 6960
            rotation = right
            scale = -1, 1
            size = 64, 32
        ]

        component Subsystem S_meas2 {
            layout = dynamic
            component gen_terminator Termination1 {
            }
            [
                position = 8080, 8136
                rotation = down
            ]

            component gen_PQ_transform "Power Meter1" {
                filter_cutoff_Hz = "5"
                filter_order = "second order"
            }
            [
                position = 8256, 8224
                scale = -1, 1
            ]

            component gen_terminator Termination2 {
            }
            [
                position = 8160, 8136
                rotation = down
            ]

            port S {
                label = "S"
                position = left:3
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8096, 8272
                rotation = down
            ]

            port Vc {
                label = "Vc"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8416, 8168
                rotation = down
            ]

            port Vb {
                label = "Vb"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8368, 8144
                rotation = down
            ]

            port Ic {
                label = "Ic"
                position = right:6
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8400, 8336
                rotation = down
            ]

            port Ib {
                label = "Ib"
                position = right:5
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8376, 8272
                rotation = down
            ]

            port Va {
                label = "Va"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8320, 8112
                rotation = down
            ]

            port pf {
                label = "pf"
                position = left:4
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8128, 8336
                rotation = down
            ]

            port Ia {
                label = "Ia"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8432, 8232
                rotation = down
            ]

            port P {
                label = "P"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7992, 8176
                rotation = down
            ]

            port Q {
                label = "Q"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8032, 8232
                rotation = down
            ]

            connect "Power Meter1.vb" Vb as Connection8
            connect "Power Meter1.vc" Vc as Connection9
            connect "Power Meter1.k_factor" pf as Connection10
            connect Termination1.in "Power Meter1.Qac" as Connection11
            connect Termination2.in "Power Meter1.Pac" as Connection12
            connect P "Power Meter1.Pdc" as Connection1
            connect "Power Meter1.ia" Ia as Connection2
            connect "Power Meter1.ib" Ib as Connection3
            connect "Power Meter1.ic" Ic as Connection4
            connect "Power Meter1.Qdc" Q as Connection5
            connect "Power Meter1.apparent" S as Connection6
            connect "Power Meter1.va" Va as Connection7
        }
        [
            position = 11840, 6768
            size = 96, 216
        ]

        component gen_digital_probe "LED 18" {
        }
        [
            position = 10416, 6432
        ]

        component "core/Voltage Measurement" Vbc2 {
        }
        [
            position = 4960, 6800
            rotation = right
            size = 64, 32
        ]

        component gen_probe Phase1 {
        }
        [
            position = 7328, 9488
        ]

        component Subsystem P_ref3 {
            layout = dynamic
            component Subsystem RegD_sys {
                layout = dynamic
                component gen_probe regD {
                }
                [
                    position = 8896, 8136
                ]

                component src_constant Constant1 {
                    execution_rate = "Tfast"
                    value = "4"
                }
                [
                    position = 7880, 8072
                ]

                component src_constant Constant6 {
                    execution_rate = "Tfast"
                    value = "4"
                }
                [
                    position = 7880, 8120
                ]

                component src_constant Constant2 {
                    execution_rate = "Tfast"
                    value = "2"
                }
                [
                    position = 7952, 8000
                ]

                component src_constant Constant7 {
                    execution_rate = "Tfast"
                    value = "scale_back_const"
                }
                [
                    position = 8688, 8248
                ]

                component gen_product Product2 {
                    signs = "*/"
                }
                [
                    position = 8800, 8200
                ]

                component gen_terminator Termination1 {
                }
                [
                    position = 8536, 8016
                ]

                component gen_bus_join "Bus Join2" {
                }
                [
                    position = 8032, 8008
                ]

                component src_constant Constant4 {
                    execution_rate = "Tfast"
                    value = "5"
                }
                [
                    position = 8032, 8176
                ]

                component gen_bus_join "Bus Join1" {
                }
                [
                    position = 7960, 8072
                ]

                component src_constant Constant3 {
                    execution_rate = "Tfast"
                    value = "4"
                }
                [
                    position = 8056, 8112
                ]

                component gen_probe "Regulation Data" {
                }
                [
                    position = 8816, 8056
                ]

                component "core/ModBus Device" "ModBus Device3" {
                    configuration = "config3"
                    execution_rate = "Tfast"
                }
                [
                    position = 8248, 8096
                    size = 184, 184
                ]

                component gen_c_function "C function3" {
                    global_variables = "int temp;"
                    in_terminal_dimensions = "inherit;inherit"
                    in_terminal_dimensions_str = "high inherit;low inherit"
                    in_terminal_labels = "[(\'high\', True), (\'low\', True)]"
                    in_terminal_properties = "real high;real low;"
                    no_feed_inputs = "[\'\']"
                    no_feed_outputs = "[\'\']"
                    out_terminal_dimensions = "inherit"
                    out_terminal_dimensions_str = "regD inherit"
                    out_terminal_labels = "[(\'regD\', True)]"
                    out_terminal_properties = "real regD;"
                    output_fnc = "/*Begin code section*/
temp = (((int)high << 16) & -65536) | ((int)low & 65535);

if(temp < 1e7 && temp > -1e7)
    regD = temp;
else if(temp == 1e7)
    regD = 1e7;
else if(temp == -1e7)
    regD = -1e7;
else if(temp > 1e7)
    regD = 2e7;
else if(temp < -1e7)
    regD = -2e7;
/*End code section*/"
                }
                [
                    position = 8624, 8160
                    size = 48, 48
                ]

                component gen_probe Probe3 {
                }
                [
                    position = 8720, 8064
                ]

                component gen_bus_split "Bus Split2" {
                }
                [
                    position = 8512, 8160
                ]

                port RegDsignal {
                    position = auto:auto
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8896, 8200
                ]

                junction Junction4 sp
                [
                    position = 7984, 8000
                ]

                junction Junction11 sp
                [
                    position = 8832, 8200
                ]

                junction Junction12 sp
                [
                    position = 8432, 8160
                ]

                junction Junction13 sp
                [
                    position = 8744, 8160
                ]

                connect Constant7.out Product2.in1 as Connection89
                connect Product2.out Junction11 as Connection95
                connect Junction11 RegDsignal as Connection96
                connect regD.in Junction11 as Connection97
                connect Constant6.out "Bus Join1.in1" as Connection55
                connect Constant1.out "Bus Join1.in" as Connection15
                connect Constant2.out Junction4 as Connection29
                connect Junction4 "Bus Join2.in" as Connection30
                connect "Bus Join2.in1" Junction4 as Connection31
                connect Constant4.out "ModBus Device3.coil_in" as Connection168
                connect Constant3.out "ModBus Device3.discrete_in" as Connection169
                connect "Bus Join1.out" "ModBus Device3.reg_in" as Connection170
                connect "ModBus Device3.holding_in" "Bus Join2.out" as Connection171
                connect Termination1.in "ModBus Device3.coil_out" as Connection172
                connect "Bus Split2.out1" "C function3.low" as Connection161
                connect "Bus Split2.out" "C function3.high" as Connection160
                connect "Bus Split2.in" Junction12 as Connection175
                connect Junction12 "ModBus Device3.holding_out" as Connection176
                connect Probe3.in Junction12 as Connection177
                connect "C function3.regD" Junction13 as Connection178
                connect Junction13 Product2.in as Connection179
                connect "Regulation Data.in" Junction13 as Connection180
            }
            [
                position = 8816, 8440
                scale = -1, 1
                size = 48, 48
            ]

            component gen_sum Sum4 {
                signs = "-+"
            }
            [
                position = 8464, 8616
                scale = -1, 1
            ]

            component gen_probe RegD_act3 {
            }
            [
                position = 8816, 8536
                rotation = down
                scale = -1, 1
            ]

            component src_constant capacity_min {
                execution_rate = "Tfast"
                value = "0"
            }
            [
                position = 8592, 8568
                scale = -1, 1
            ]

            component src_constant capacity_max {
                execution_rate = "Tfast"
                value = "5000"
            }
            [
                position = 8592, 8664
                scale = -1, 1
            ]

            component gen_product Product3 {
            }
            [
                position = 8384, 8448
                scale = -1, 1
            ]

            component gen_sum Sum7 {
            }
            [
                position = 8248, 8512
                scale = -1, 1
            ]

            component gen_gain Gain1 {
                gain = "0.5"
            }
            [
                position = 8248, 8616
                hide_name = True
                scale = -1, 1
            ]

            component gen_c_function "limit ramp rate" {
                global_variables = "real var;"
                in_terminal_dimensions = "inherit;inherit;inherit"
                in_terminal_dimensions_str = "initial inherit;in inherit;regulate inherit"
                in_terminal_labels = "[(\'initial\', True), (\'in\', True), (\'regulate\', True)]"
                in_terminal_properties = "real initial;real in;int regulate;"
                init_fnc = "/*Begin code section*/
var = 0;
/*End code section*/"
                no_feed_inputs = "[\'\']"
                no_feed_outputs = "[\'\']"
                out_terminal_dimensions = "inherit"
                out_terminal_dimensions_str = "out inherit"
                out_terminal_labels = "[(\'out\', True)]"
                output_fnc = "/*Begin code section*/
out = var;
/*End code section*/"
                update_fnc = "/*Begin code section*/
if (regulate==0)
    var=initial;
else
{
    if ( fabs(in-var) <=50 )
        var = in;
    else if ( (fabs(in-var) >50) && ((in-var)>0))
        var += 50;
    else if ( (fabs(in-var) >50) && ((in-var)<0))
        var -= 50;
}
/*End code section*/"
            }
            [
                position = 7904, 8600
                scale = -1, -1
                size = 144, 64
            ]

            component gen_sum Sum8 {
                signs = "++"
            }
            [
                position = 8320, 8616
                scale = -1, 1
            ]

            component gen_c_function "Hold after regulation" {
                global_variables = "real var;"
                in_terminal_dimensions = "inherit"
                in_terminal_dimensions_str = "regulate inherit"
                in_terminal_labels = "[(\'regulate\', True)]"
                in_terminal_properties = "int regulate;"
                init_fnc = "/*Begin code section*/
var = 0;
/*End code section*/"
                no_feed_inputs = "[\'\']"
                no_feed_outputs = "[\'\']"
                out_terminal_dimensions = "inherit"
                out_terminal_dimensions_str = "out inherit"
                out_terminal_labels = "[(\'out\', True)]"
                out_terminal_properties = "int out;"
                output_fnc = "/*Begin code section*/
out = var;
/*End code section*/"
                update_fnc = "/*Begin code section*/
if (regulate!=0)
    var = 1;
/*End code section*/"
            }
            [
                position = 8080, 8448
                hide_name = True
                scale = -1, 1
                size = 96, 48
            ]

            port P_ref {
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7752, 8600
                rotation = down
            ]

            tag Goto1 {
                value = "regD3"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8816, 8384
                hide_name = True
            ]

            junction Junction1 sp
            [
                position = 8504, 8568
            ]

            junction Junction3 sp
            [
                position = 8760, 8440
            ]

            junction Junction4 sp
            [
                position = 8760, 8440
            ]

            junction Junction5 sp
            [
                position = 8504, 8568
            ]

            junction Junction6 sp
            [
                position = 8504, 8664
            ]

            junction Junction7 sp
            [
                position = 8320, 8448
            ]

            connect capacity_min.out Junction1 as Connection417
            connect Junction1 Sum4.in as Connection418
            [
                breakpoints = 8504, 8568; 8504, 8608
            ]
            connect Gain1.out "limit ramp rate.initial" as Connection437
            connect "limit ramp rate.out" P_ref as Connection441
            connect RegD_sys.RegDsignal Junction3 as Connection443
            connect Junction3 Product3.in as Connection444
            connect Goto1 Junction4 as Connection446
            connect Junction4 Junction3 as Connection447
            connect RegD_act3.in Junction4 as Connection448
            connect Sum4.out Product3.in1 as Connection449
            [
                breakpoints = 8424, 8616
            ]
            connect Sum8.out Gain1.in as Connection450
            connect Sum7.in1 Junction5 as Connection451
            connect Junction5 Junction1 as Connection452
            connect Sum8.in Junction5 as Connection453
            [
                breakpoints = 8360, 8608; 8360, 8568
            ]
            connect capacity_max.out Junction6 as Connection454
            connect Junction6 Sum4.in1 as Connection455
            connect Sum8.in1 Junction6 as Connection456
            [
                breakpoints = 8360, 8624; 8360, 8664
            ]
            connect "Hold after regulation.out" "limit ramp rate.regulate" as Connection460
            connect "limit ramp rate.in" Sum7.out as Connection461
            [
                breakpoints = 8200, 8600; 8200, 8512; 8200, 8512
            ]
            connect Product3.out Junction7 as Connection462
            connect Junction7 Sum7.in as Connection463
            [
                breakpoints = 8320, 8448; 8320, 8504
            ]
            connect "Hold after regulation.regulate" Junction7 as Connection464
        }
        [
            position = 11040, 6696
            size = 88, 48
        ]

        component gen_bus_join "Bus Join1" {
            inputs = "3"
        }
        [
            position = 9744, 8224
            scale = -1, 1
        ]

        component Subsystem "dq to abc1" {
            layout = dynamic
            component "core/dq to abc" "dq to abc1" {
                execution_rate = "inherit"
            }
            [
                position = 7744, 8184
            ]

            component src_constant o_ref {
                execution_rate = "Tfast"
                value = "[0]"
            }
            [
                position = 7520, 8200
            ]

            port d {
                label = "Ud"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7520, 8136
            ]

            port wt {
                label = "wt"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7600, 8232
            ]

            port q {
                label = "Uq"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7472, 8168
            ]

            port b {
                label = "b"
                position = left:3
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7896, 8184
            ]

            port a {
                label = "a"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7864, 8152
            ]

            port c {
                label = "c"
                position = left:4
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7864, 8216
            ]

            connect d "dq to abc1.d_input" as Connection3
            connect c "dq to abc1.phase_c" as Connection2
            connect "dq to abc1.phase_b" b as Connection4
            connect wt "dq to abc1.wt" as Connection7
            connect a "dq to abc1.phase_a" as Connection1
            connect q "dq to abc1.q_input" as Connection6
            connect o_ref.out "dq to abc1.zero_input" as Connection5
        }
        [
            position = 9664, 9104
            size = 80, 168
        ]

        component "core/Current Measurement" Ic12 {
            addr = "14"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 6928, 9040
            scale = 1, -1
            size = 64, 32
        ]

        component "core/Four Phase Core Coupling" "Core Coupling 1" {
        }
        [
            position = 7296, 8624
            rotation = right
            size = 12, 352
        ]

        component pas_inductor L0c3 {
            inductance = "L0"
        }
        [
            position = 4048, 10064
            rotation = down
        ]

        component src_square "Square Wave Source17" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.4"
            signal_type = "uint"
        }
        [
            position = 10304, 6144
        ]

        component Subsystem squared_Vt {
            layout = dynamic
            component gen_product Product2 {
            }
            [
                position = 8208, 8232
                scale = -1, 1
            ]

            component gen_sum Sum3 {
            }
            [
                position = 8104, 8192
                scale = -1, 1
            ]

            component gen_product Product1 {
            }
            [
                position = 8208, 8160
                scale = -1, 1
            ]

            port Et_p2 {
                label = "Et^2"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8032, 8192
                rotation = down
            ]

            port Ed {
                label = "Ed"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8328, 8152
                rotation = down
            ]

            port Eq {
                label = "Eq"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8328, 8224
                rotation = down
            ]

            junction Junction137 sp
            [
                position = 8280, 8224
            ]

            junction Junction136 sp
            [
                position = 8280, 8152
            ]

            connect Junction136 Product1.in as Connection2
            connect Junction137 Eq as Connection3
            connect Junction136 Ed as Connection1
            connect Product1.in1 Junction136 as Connection4
            connect Product2.in1 Junction137 as Connection5
            connect Sum3.in1 Product2.out as Connection9
            connect Product2.in Junction137 as Connection6
            connect Sum3.in Product1.out as Connection8
            connect Sum3.out Et_p2 as Connection7
        }
        [
            position = 10992, 8048
            size = 48, 56
        ]

        component gen_probe Ud1 {
        }
        [
            position = 9792, 8976
            rotation = down
        ]

        component gen_probe Ed1 {
        }
        [
            position = 11056, 8864
            rotation = down
        ]

        component pas_inductor L0b3 {
            inductance = "L0"
        }
        [
            position = 4048, 9968
            rotation = down
        ]

        component "core/Voltage Measurement" Vbc3 {
        }
        [
            position = 3872, 10016
            rotation = right
            size = 64, 32
        ]

        component src_constant Constant9 {
            value = "0"
        }
        [
            position = 8384, 6232
        ]

        component "core/DC Meter" "DC Meter1" {
        }
        [
            position = 5616, 8016
            size = 120, 256
        ]

        component src_voltage VDC2 {
            param_set = ""
        }
        [
            position = 4240, 8944
            rotation = right
        ]

        component gen_probe Pref4 {
        }
        [
            position = 10880, 9936
            rotation = down
        ]

        component pas_capacitor Cc {
            capacitance = "C"
        }
        [
            position = 6704, 8368
            rotation = right
        ]

        component "core/Voltage Measurement" Vab {
        }
        [
            position = 6096, 7968
            rotation = right
            size = 64, 32
        ]

        component sys_signal_switch "Signal switch2" {
            threshold = "0.5"
        }
        [
            position = 10496, 8224
            scale = -1, 1
        ]

        component pas_capacitor Cc3 {
            capacitance = "C"
        }
        [
            position = 4480, 10320
            rotation = right
        ]

        component pas_inductor L0c {
            inductance = "L0"
        }
        [
            position = 6272, 8112
            rotation = down
        ]

        component "core/Current RMS" Igc_rms2 {
        }
        [
            position = 6752, 6848
            size = 64, 32
        ]

        component gen_bus_split "Bus Split2" {
            outputs = "3"
        }
        [
            position = 4736, 8672
        ]

        component src_constant C2 {
            execution_rate = "Tfast"
        }
        [
            position = 4640, 6544
        ]

        component Subsystem squared_Vt3 {
            layout = dynamic
            component gen_product Product2 {
            }
            [
                position = 8208, 8232
                scale = -1, 1
            ]

            component gen_sum Sum3 {
            }
            [
                position = 8104, 8192
                scale = -1, 1
            ]

            component gen_product Product1 {
            }
            [
                position = 8208, 8160
                scale = -1, 1
            ]

            port Et_p2 {
                label = "Et^2"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8032, 8192
                rotation = down
            ]

            port Ed {
                label = "Ed"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8328, 8152
                rotation = down
            ]

            port Eq {
                label = "Eq"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8328, 8224
                rotation = down
            ]

            junction Junction136 sp
            [
                position = 8280, 8152
            ]

            junction Junction137 sp
            [
                position = 8280, 8224
            ]

            connect Junction137 Eq as Connection3
            connect Junction136 Product1.in as Connection2
            connect Product2.in Junction137 as Connection6
            connect Sum3.in1 Product2.out as Connection9
            connect Sum3.in Product1.out as Connection8
            connect Junction136 Ed as Connection1
            connect Product1.in1 Junction136 as Connection4
            connect Product2.in1 Junction137 as Connection5
            connect Sum3.out Et_p2 as Connection7
        }
        [
            position = 10928, 10112
            size = 48, 56
        ]

        component "core/Four Phase Core Coupling" "Core Coupling 3" {
        }
        [
            position = 6176, 9680
            rotation = right
            size = 12, 352
        ]

        component gen_probe Ed4 {
        }
        [
            position = 11216, 10048
            rotation = down
        ]

        component gen_probe pf1 {
        }
        [
            position = 11824, 8240
            rotation = down
        ]

        component gen_PQ_transform "Power Meter1" {
            filter_cutoff_Hz = "5"
            filter_order = "second order"
        }
        [
            position = 7120, 9168
        ]

        component gen_probe Stotal {
        }
        [
            position = 12616, 7488
        ]

        component gen_probe Pref2 {
        }
        [
            position = 10736, 8752
            rotation = down
        ]

        component pas_resistor R0a1 {
            resistance = "R0"
        }
        [
            position = 5072, 8848
        ]

        component pas_resistor Ra1 {
            resistance = "R"
        }
        [
            position = 6304, 8848
        ]

        component Subsystem Current_ref {
            layout = dynamic
            component gen_product Product3 {
            }
            [
                position = 8440, 8008
                scale = -1, 1
            ]

            component gen_gain Gain2 {
                gain = "2.0/3.0"
            }
            [
                position = 8024, 8168
                scale = -1, 1
            ]

            component gen_product Product2 {
                signs = "*/"
            }
            [
                position = 8120, 8168
                scale = -1, 1
            ]

            component gen_gain Gain1 {
                gain = "2.0/3.0"
            }
            [
                position = 8024, 8080
                scale = -1, 1
            ]

            component gen_probe Pref_probe {
            }
            [
                position = 8752, 8176
            ]

            component gen_product Product4 {
            }
            [
                position = 8440, 8080
                scale = -1, 1
            ]

            component gen_comparator Comparator1 {
            }
            [
                position = 8352, 8368
                scale = -1, 1
            ]

            component gen_product Product1 {
                signs = "*/"
            }
            [
                position = 8120, 8080
                scale = -1, 1
            ]

            component src_constant Limit_zero {
                execution_rate = "Tfast"
                value = "[100]"
            }
            [
                position = 8464, 8408
                scale = -1, 1
            ]

            component gen_sum Sum4 {
            }
            [
                position = 8232, 8160
                scale = -1, 1
            ]

            component gen_probe Et_sqr_res {
            }
            [
                position = 8224, 8256
            ]

            component sys_signal_switch "Signal switch1" {
                threshold = "0.5"
            }
            [
                position = 8256, 8328
                scale = -1, -1
            ]

            component gen_probe Et_sqr {
            }
            [
                position = 8496, 8288
            ]

            component gen_sum Sum3 {
                signs = "+-"
            }
            [
                position = 8232, 8072
                scale = -1, 1
            ]

            component gen_product Product6 {
            }
            [
                position = 8440, 8224
                scale = -1, 1
            ]

            component gen_product Product5 {
            }
            [
                position = 8440, 8152
                scale = -1, 1
            ]

            component src_constant one {
                execution_rate = "Tfast"
                value = "[100]"
            }
            [
                position = 8344, 8312
                scale = -1, 1
            ]

            port Ed {
                label = "Ed"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8072
                rotation = down
            ]

            port Xi_rd {
                label = "Xi_rd"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7952, 8168
                rotation = down
            ]

            port P_ref {
                label = "P_ref"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8144
                rotation = down
            ]

            port Xi_rq {
                label = "Xi_rq"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7952, 8080
                rotation = down
            ]

            port Eq {
                label = "Eq"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8000
                rotation = down
            ]

            port Q_ref {
                label = "Q_ref"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8216
                rotation = down
            ]

            port Et_p2 {
                label = "Et^2"
                position = right:5
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8608, 8360
                rotation = down
            ]

            junction Junction148 sp
            [
                position = 8600, 8144
            ]

            junction Junction149 sp
            [
                position = 8424, 8360
            ]

            junction Junction138 sp
            [
                position = 8160, 8176
            ]

            junction Junction139 sp
            [
                position = 8568, 8144
            ]

            junction Junction141 sp
            [
                position = 8560, 8216
            ]

            junction Junction142 sp
            [
                position = 8528, 8072
            ]

            junction Junction143 sp
            [
                position = 8544, 8000
            ]

            junction Junction144 sp
            [
                position = 8408, 8360
            ]

            junction Junction147 sp
            [
                position = 8184, 8328
            ]

            connect Product5.out Sum4.in as Connection34
            connect Gain1.out Xi_rq as Connection7
            connect Gain1.in Product1.out as Connection6
            connect Product2.in Sum4.out as Connection26
            connect Junction148 P_ref as Connection18
            connect Product6.out Sum4.in1 as Connection37
            connect Gain2.out Xi_rd as Connection8
            connect Product6.in Junction141 as Connection35
            connect Comparator1.out "Signal switch1.in2" as Connection2
            connect Product3.in1 Junction139 as Connection27
            connect Junction149 Junction144 as Connection45
            connect "Signal switch1.in" Junction144 as Connection38
            connect Junction138 Product1.in1 as Connection9
            connect Product6.in1 Junction143 as Connection36
            connect Product3.out Sum3.in as Connection28
            connect Limit_zero.out Comparator1.in2 as Connection19
            connect Eq Junction143 as Connection3
            connect Junction139 Junction148 as Connection10
            connect Comparator1.in1 Junction144 as Connection1
            connect Product4.in1 Junction141 as Connection29
            connect "Signal switch1.out" Junction147 as Connection39
            connect Junction141 Q_ref as Connection11
            connect Et_p2 Junction149 as Connection46
            connect Product4.in Junction142 as Connection30
            connect Pref_probe.in Junction148 as Connection22
            connect Junction142 Ed as Connection12
            connect one.out "Signal switch1.in1" as Connection40
            connect Product4.out Sum3.in1 as Connection31
            connect Et_sqr.in Junction149 as Connection44
            connect Junction143 Product3.in as Connection13
            connect Product1.in Sum3.out as Connection23
            connect Product5.in Junction139 as Connection32
            connect Et_sqr_res.in Junction147 as Connection5
            connect Product2.out Gain2.in as Connection24
            connect Product5.in1 Junction142 as Connection33
            connect Product2.in1 Junction138 as Connection25
            connect Junction147 Junction138 as Connection47
            [
                breakpoints = 8184, 8328; 8160, 8264
            ]
        }
        [
            position = 10816, 7984
            size = 80, 168
        ]

        component "core/Voltage Measurement" Vc {
            addr = "11"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 8128, 8320
            rotation = right
            scale = -1, 1
            size = 64, 32
        ]

        component pas_resistor Rt0a {
            resistance = "Rt0"
        }
        [
            position = 6544, 8272
            rotation = left
            scale = -1, 1
        ]

        component "core/Voltage Measurement" Ea2 {
            addr = "7"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 5808, 6896
            rotation = right
            scale = -1, 1
            size = 64, 32
        ]

        component gen_probe iq1 {
            addr = "8965"
        }
        [
            position = 10640, 9200
            scale = -1, 1
        ]

        component gen_digital_probe "LED 16" {
        }
        [
            position = 10400, 6272
        ]

        component gen_probe Q_bus {
        }
        [
            position = 12624, 8144
            rotation = down
        ]

        component "core/Current Measurement" Ic {
            addr = "16"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 7760, 8112
            scale = 1, -1
            size = 64, 32
        ]

        component "core/Current RMS" Iga_rms3 {
        }
        [
            position = 5648, 9872
            size = 64, 32
        ]

        component sys_signal_switch "Signal switch7" {
            threshold = "0.5"
        }
        [
            position = 10432, 10288
            scale = -1, 1
        ]

        component src_square "Square Wave Source9" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.8"
            signal_type = "uint"
        }
        [
            position = 10064, 6480
        ]

        component src_constant C1 {
            execution_rate = "Tfast"
        }
        [
            position = 4672, 8752
        ]

        component Subsystem P_ref2 {
            layout = dynamic
            component Subsystem RegD_sys {
                layout = dynamic
                component gen_probe regD {
                }
                [
                    position = 8960, 8248
                ]

                component src_constant Constant2 {
                    execution_rate = "Tfast"
                    value = "2"
                }
                [
                    position = 7752, 8320
                ]

                component src_constant Constant4 {
                    execution_rate = "Tfast"
                    value = "5"
                }
                [
                    position = 8000, 8288
                ]

                component src_constant Constant1 {
                    execution_rate = "Tfast"
                    value = "4"
                }
                [
                    position = 7664, 8248
                ]

                component src_constant Constant7 {
                    execution_rate = "Tfast"
                    value = "scale_back_const"
                }
                [
                    position = 8736, 8376
                ]

                component gen_probe "Regulation Data" {
                }
                [
                    position = 8848, 8248
                ]

                component src_constant Constant3 {
                    execution_rate = "Tfast"
                    value = "4"
                }
                [
                    position = 8000, 8360
                ]

                component gen_terminator Termination1 {
                }
                [
                    position = 8528, 8104
                ]

                component gen_product Product2 {
                    signs = "*/"
                }
                [
                    position = 8848, 8328
                ]

                component src_constant Constant6 {
                    execution_rate = "Tfast"
                    value = "4"
                }
                [
                    position = 7664, 8296
                ]

                component gen_bus_join "Bus Join1" {
                }
                [
                    position = 7744, 8248
                ]

                component gen_bus_join "Bus Join2" {
                }
                [
                    position = 7832, 8320
                ]

                component "core/ModBus Device" "ModBus Device2" {
                    configuration = "config2"
                    execution_rate = "Tfast"
                }
                [
                    position = 8224, 8264
                    size = 184, 184
                ]

                component gen_bus_split "Bus Split2" {
                }
                [
                    position = 8528, 8312
                ]

                component gen_c_function "C function3" {
                    global_variables = "int temp;"
                    in_terminal_dimensions = "inherit;inherit"
                    in_terminal_dimensions_str = "high inherit;low inherit"
                    in_terminal_labels = "[(\'high\', True), (\'low\', True)]"
                    in_terminal_properties = "real high;real low;"
                    no_feed_inputs = "[\'\']"
                    no_feed_outputs = "[\'\']"
                    out_terminal_dimensions = "inherit"
                    out_terminal_dimensions_str = "regD inherit"
                    out_terminal_labels = "[(\'regD\', True)]"
                    out_terminal_properties = "real regD;"
                    output_fnc = "/*Begin code section*/
temp = (((int)high << 16) & -65536) | ((int)low & 65535);

if(temp < 1e7 && temp > -1e7)
    regD = temp;
else if(temp == 1e7)
    regD = 1e7;
else if(temp == -1e7)
    regD = -1e7;
else if(temp > 1e7)
    regD = 2e7;
else if(temp < -1e7)
    regD = -2e7;
/*End code section*/"
                }
                [
                    position = 8640, 8312
                    size = 48, 48
                ]

                component gen_probe Probe3 {
                }
                [
                    position = 8736, 8208
                ]

                port RegDsignal {
                    position = auto:auto
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8960, 8328
                ]

                junction Junction4 sp
                [
                    position = 7784, 8320
                ]

                junction Junction11 sp
                [
                    position = 8896, 8328
                ]

                junction Junction12 sp
                [
                    position = 8424, 8312
                ]

                junction Junction13 sp
                [
                    position = 8760, 8312
                ]

                connect Constant7.out Product2.in1 as Connection89
                [
                    breakpoints = 8776, 8376
                ]
                connect "Bus Join2.in1" Junction4 as Connection31
                connect Constant2.out Junction4 as Connection29
                connect Constant1.out "Bus Join1.in" as Connection15
                connect Junction11 RegDsignal as Connection96
                connect Product2.out Junction11 as Connection95
                connect Junction4 "Bus Join2.in" as Connection30
                connect regD.in Junction11 as Connection97
                connect Constant6.out "Bus Join1.in1" as Connection55
                connect "Bus Join1.out" "ModBus Device2.reg_in" as Connection162
                [
                    breakpoints = 7784, 8192; 8112, 8192
                ]
                connect "Bus Join2.out" "ModBus Device2.holding_in" as Connection163
                [
                    breakpoints = 7872, 8240; 8112, 8240
                ]
                connect Constant4.out "ModBus Device2.coil_in" as Connection164
                connect Constant3.out "ModBus Device2.discrete_in" as Connection165
                connect Termination1.in "ModBus Device2.coil_out" as Connection166
                connect "Bus Split2.out1" "C function3.low" as Connection161
                connect "Bus Split2.out" "C function3.high" as Connection160
                connect "Bus Split2.in" Junction12 as Connection169
                connect Junction12 "ModBus Device2.holding_out" as Connection170
                connect Probe3.in Junction12 as Connection171
                connect "C function3.regD" Junction13 as Connection172
                connect Junction13 Product2.in as Connection173
                connect "Regulation Data.in" Junction13 as Connection174
            }
            [
                position = 9112, 8664
                scale = -1, 1
                size = 48, 48
            ]

            component gen_probe RegD_act2 {
            }
            [
                position = 8816, 8464
                rotation = down
                scale = -1, 1
            ]

            component src_constant capacity_max {
                execution_rate = "Tfast"
                value = "7000"
            }
            [
                position = 8736, 8768
                scale = -1, 1
            ]

            component src_constant capacity_min {
                execution_rate = "Tfast"
                value = "500"
            }
            [
                position = 8736, 8672
                scale = -1, 1
            ]

            component gen_sum Sum7 {
            }
            [
                position = 8392, 8616
                scale = -1, 1
            ]

            component gen_gain Gain1 {
                gain = "0.5"
            }
            [
                position = 8392, 8720
                hide_name = True
                scale = -1, 1
            ]

            component gen_sum Sum4 {
                signs = "-+"
            }
            [
                position = 8608, 8720
                scale = -1, 1
            ]

            component gen_product Product3 {
            }
            [
                position = 8528, 8560
                scale = -1, 1
            ]

            component gen_sum Sum8 {
                signs = "++"
            }
            [
                position = 8464, 8720
                scale = -1, 1
            ]

            component gen_c_function "Hold after regulation" {
                global_variables = "real var;"
                in_terminal_dimensions = "inherit"
                in_terminal_dimensions_str = "regulate inherit"
                in_terminal_labels = "[(\'regulate\', True)]"
                in_terminal_properties = "int regulate;"
                init_fnc = "/*Begin code section*/
var = 0;
/*End code section*/"
                no_feed_inputs = "[\'\']"
                no_feed_outputs = "[\'\']"
                out_terminal_dimensions = "inherit"
                out_terminal_dimensions_str = "out inherit"
                out_terminal_labels = "[(\'out\', True)]"
                out_terminal_properties = "int out;"
                output_fnc = "/*Begin code section*/
out = var;
/*End code section*/"
                update_fnc = "/*Begin code section*/
if (regulate!=0)
    var = 1;
/*End code section*/"
            }
            [
                position = 8200, 8560
                hide_name = True
                scale = -1, 1
                size = 96, 48
            ]

            component gen_c_function "limit ramp rate" {
                global_variables = "real var;"
                in_terminal_dimensions = "inherit;inherit;inherit"
                in_terminal_dimensions_str = "initial inherit;in inherit;regulate inherit"
                in_terminal_labels = "[(\'initial\', True), (\'in\', True), (\'regulate\', True)]"
                in_terminal_properties = "real initial;real in;int regulate;"
                init_fnc = "/*Begin code section*/
var = 0;
/*End code section*/"
                no_feed_inputs = "[\'\']"
                no_feed_outputs = "[\'\']"
                out_terminal_dimensions = "inherit"
                out_terminal_dimensions_str = "out inherit"
                out_terminal_labels = "[(\'out\', True)]"
                output_fnc = "/*Begin code section*/
out = var;
/*End code section*/"
                update_fnc = "/*Begin code section*/
if (regulate==0)
    var=initial;
else
{
    if ( fabs(in-var) <=50 )
        var = in;
    else if ( (fabs(in-var) >50) && ((in-var)>0))
        var += 50;
    else if ( (fabs(in-var) >50) && ((in-var)<0))
        var -= 50;
}
/*End code section*/"
            }
            [
                position = 8024, 8704
                scale = -1, -1
                size = 144, 64
            ]

            port P_ref {
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7872, 8704
                rotation = down
            ]

            junction Junction3 sp
            [
                position = 8728, 8544
            ]

            junction Junction4 sp
            [
                position = 8648, 8672
            ]

            junction Junction5 sp
            [
                position = 8648, 8672
            ]

            junction Junction8 sp
            [
                position = 8656, 8768
            ]

            junction Junction9 sp
            [
                position = 8464, 8560
            ]

            connect RegD_sys.RegDsignal Junction3 as Connection440
            connect Junction3 Product3.in as Connection441
            connect RegD_act2.in Junction3 as Connection442
            connect Product3.in1 Sum4.out as Connection443
            [
                breakpoints = 8568, 8720
            ]
            connect Sum8.out Gain1.in as Connection444
            connect Sum7.in1 Junction4 as Connection446
            connect Junction4 capacity_min.out as Connection447
            [
                breakpoints = 8648, 8672
            ]
            connect Sum4.in Junction5 as Connection449
            connect Junction5 Junction4 as Connection450
            connect Sum8.in Junction5 as Connection451
            [
                breakpoints = 8504, 8712; 8504, 8672
            ]
            connect "Hold after regulation.out" "limit ramp rate.regulate" as Connection460
            connect Gain1.out "limit ramp rate.initial" as Connection465
            connect "limit ramp rate.out" P_ref as Connection466
            connect Sum8.in1 Junction8 as Connection468
            connect Junction8 capacity_max.out as Connection469
            connect Sum4.in1 Junction8 as Connection470
            connect "limit ramp rate.in" Sum7.out as Connection471
            [
                breakpoints = 8304, 8616
            ]
            connect Product3.out Junction9 as Connection472
            connect Junction9 Sum7.in as Connection473
            [
                breakpoints = 8464, 8560; 8464, 8608
            ]
            connect "Hold after regulation.regulate" Junction9 as Connection474
        }
        [
            position = 11184, 8744
            size = 88, 48
        ]

        component src_scada_input Xi_q_ref2 {
            addr = "1426063424"
            execution_rate = "Tfast"
            unit = ""
        }
        [
            position = 10496, 7104
            rotation = down
            scale = 1, -1
        ]

        component gen_trigonometric "Trigonometric function1" {
            trigonometric_fn = "acos"
        }
        [
            position = 7232, 9488
        ]

        component gen_probe pf3 {
        }
        [
            position = 11728, 6848
            rotation = down
        ]

        component pas_resistor Rt0b3 {
            resistance = "Rt0"
        }
        [
            position = 4400, 10224
            rotation = left
            scale = -1, 1
        ]

        component gen_probe Uq2 {
        }
        [
            position = 10000, 7152
            rotation = down
        ]

        component gen_sum Sum2 {
            signs = "4"
        }
        [
            position = 12496, 7488
        ]

        component src_constant Constant7 {
            execution_rate = "Tfast"
            value = "479.778"
        }
        [
            position = 8480, 8288
        ]

        component gen_probe S4 {
        }
        [
            position = 11760, 10000
            rotation = down
        ]

        component gen_probe S1 {
        }
        [
            position = 11824, 8176
            rotation = down
        ]

        component "core/Voltage Measurement" Vab2 {
        }
        [
            position = 4960, 6704
            rotation = right
            size = 64, 32
        ]

        component pas_resistor Rb2 {
            resistance = "R"
        }
        [
            position = 6304, 6752
        ]

        component "core/Current Measurement" Xi_a3 {
            addr = "14"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 4160, 9872
            scale = 1, -1
            size = 64, 32
        ]

        component gen_probe id {
            addr = "8968"
        }
        [
            position = 10848, 8192
            scale = -1, 1
        ]

        component pas_resistor Rb3 {
            resistance = "R"
        }
        [
            position = 5216, 9968
        ]

        component pas_inductor L0a3 {
            inductance = "L0"
        }
        [
            position = 4048, 9872
            rotation = down
        ]

        component pas_inductor Lb2 {
            inductance = "L"
        }
        [
            position = 6416, 6752
            rotation = down
        ]

        component gen_sum Sum1 {
            signs = "4"
        }
        [
            position = 12128, 7200
        ]

        component gen_digital_probe "LED 5" {
        }
        [
            position = 10160, 6176
        ]

        component "core/Current RMS" Iga_rms1 {
        }
        [
            position = 6752, 8848
            size = 64, 32
        ]

        component gen_probe Xi_d_ref_res1 {
        }
        [
            position = 10144, 8928
            rotation = down
        ]

        component pas_capacitor Ca3 {
            capacitance = "C"
        }
        [
            position = 4320, 10320
            rotation = right
        ]

        component src_square "Square Wave Source3" {
            duty_cycle = "0.33"
            frequency = "1.33"
            phase = "0.66"
            signal_type = "uint"
        }
        [
            position = 10064, 6048
        ]

        component gen_probe P12 {
        }
        [
            position = 7392, 9120
        ]

        component gen_terminator Termination6 {
        }
        [
            position = 8928, 6232
        ]

        component "core/Current Measurement" Ib {
            addr = "15"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 7712, 8016
            scale = 1, -1
            size = 64, 32
        ]

        component gen_digital_probe "LED 7" {
        }
        [
            position = 10176, 6320
        ]

        component gen_bus_split "Bus Split5" {
            outputs = "1"
        }
        [
            position = 8768, 6232
        ]

        component "core/Voltage RMS" Vbc_rms3 {
        }
        [
            position = 5952, 10016
            rotation = right
            size = 64, 32
        ]

        component gen_probe Q1 {
        }
        [
            position = 11824, 8128
            rotation = down
        ]

        component src_scada_input Xi_d_ref {
            addr = "1426063428"
            def_value = "10"
            execution_rate = "Tfast"
            unit = ""
        }
        [
            position = 10688, 8112
            rotation = down
            scale = 1, -1
        ]

        component "core/DC Meter" "DC Meter2" {
        }
        [
            position = 4528, 8944
            size = 120, 256
        ]

        component src_square "Square Wave Source16" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.1"
            signal_type = "uint"
        }
        [
            position = 10304, 5920
        ]

        component sys_signal_switch "Signal switch6" {
            threshold = "0.5"
        }
        [
            position = 10448, 6944
            scale = -1, 1
        ]

        component "core/Current Measurement" Xi_c3 {
            addr = "16"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 4256, 10064
            scale = 1, -1
            size = 64, 32
        ]

        component pas_capacitor Cc2 {
            capacitance = "C"
        }
        [
            position = 5584, 7104
            rotation = right
        ]

        component "core/Current Measurement" Ib12 {
            addr = "14"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 6928, 8944
            scale = 1, -1
            size = 64, 32
        ]

        component Subsystem P_ref4 {
            layout = dynamic
            component Subsystem RegD_sys {
                layout = dynamic
                component src_constant Constant6 {
                    execution_rate = "Tfast"
                    value = "4"
                }
                [
                    position = 7688, 8336
                ]

                component gen_bus_join "Bus Join1" {
                }
                [
                    position = 7768, 8288
                ]

                component src_constant Constant4 {
                    execution_rate = "Tfast"
                    value = "5"
                }
                [
                    position = 7792, 8128
                ]

                component src_constant Constant3 {
                    execution_rate = "Tfast"
                    value = "4"
                }
                [
                    position = 7848, 8240
                ]

                component src_constant Constant7 {
                    execution_rate = "Tfast"
                    value = "scale_back_const"
                }
                [
                    position = 8544, 8192
                ]

                component gen_terminator Termination1 {
                }
                [
                    position = 8384, 8336
                ]

                component gen_probe "Regulation Data" {
                }
                [
                    position = 8656, 8064
                ]

                component src_constant Constant2 {
                    execution_rate = "Tfast"
                    value = "2"
                }
                [
                    position = 7648, 8176
                ]

                component gen_bus_join "Bus Join2" {
                }
                [
                    position = 7728, 8184
                ]

                component src_constant Constant1 {
                    execution_rate = "Tfast"
                    value = "4"
                }
                [
                    position = 7688, 8280
                ]

                component gen_product Product2 {
                    signs = "*/"
                }
                [
                    position = 8656, 8144
                ]

                component gen_probe regD {
                }
                [
                    position = 8776, 8064
                ]

                component "core/ModBus Device" "ModBus Device4" {
                    configuration = "config4"
                    execution_rate = "Tfast"
                }
                [
                    position = 8088, 8208
                    size = 184, 184
                ]

                component gen_probe Probe3 {
                }
                [
                    position = 8488, 8008
                ]

                component gen_bus_split "Bus Split2" {
                }
                [
                    position = 8280, 8112
                ]

                component gen_c_function "C function3" {
                    global_variables = "int temp;"
                    in_terminal_dimensions = "inherit;inherit"
                    in_terminal_dimensions_str = "high inherit;low inherit"
                    in_terminal_labels = "[(\'high\', True), (\'low\', True)]"
                    in_terminal_properties = "real high;real low;"
                    no_feed_inputs = "[\'\']"
                    no_feed_outputs = "[\'\']"
                    out_terminal_dimensions = "inherit"
                    out_terminal_dimensions_str = "regD inherit"
                    out_terminal_labels = "[(\'regD\', True)]"
                    out_terminal_properties = "real regD;"
                    output_fnc = "/*Begin code section*/
temp = (((int)high << 16) & -65536) | ((int)low & 65535);

if(temp < 1e7 && temp > -1e7)
    regD = temp;
else if(temp == 1e7)
    regD = 1e7;
else if(temp == -1e7)
    regD = -1e7;
else if(temp > 1e7)
    regD = 2e7;
else if(temp < -1e7)
    regD = -2e7;
/*End code section*/"
                }
                [
                    position = 8392, 8112
                    size = 48, 48
                ]

                port RegDsignal {
                    position = auto:auto
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8768, 8144
                ]

                junction Junction4 sp
                [
                    position = 7680, 8176
                ]

                junction Junction11 sp
                [
                    position = 8712, 8144
                ]

                junction Junction12 sp
                [
                    position = 8616, 8112
                ]

                junction Junction13 sp
                [
                    position = 8224, 8112
                ]

                connect Constant2.out Junction4 as Connection29
                connect Junction4 "Bus Join2.in" as Connection30
                connect "Bus Join2.in1" Junction4 as Connection31
                connect Constant6.out "Bus Join1.in1" as Connection55
                connect Constant7.out Product2.in1 as Connection89
                connect Product2.out Junction11 as Connection95
                connect Junction11 RegDsignal as Connection96
                connect regD.in Junction11 as Connection97
                connect Constant1.out "Bus Join1.in" as Connection15
                connect Constant3.out "ModBus Device4.discrete_in" as Connection167
                connect Constant4.out "ModBus Device4.coil_in" as Connection168
                connect "Bus Join2.out" "ModBus Device4.holding_in" as Connection169
                connect "Bus Join1.out" "ModBus Device4.reg_in" as Connection170
                connect Termination1.in "ModBus Device4.coil_out" as Connection171
                connect "Bus Split2.out" "C function3.high" as Connection160
                connect "Bus Split2.out1" "C function3.low" as Connection161
                connect "C function3.regD" Junction12 as Connection173
                connect Junction12 Product2.in as Connection174
                connect "Regulation Data.in" Junction12 as Connection175
                connect "Bus Split2.in" Junction13 as Connection177
                connect Junction13 "ModBus Device4.holding_out" as Connection178
                connect Probe3.in Junction13 as Connection179
            }
            [
                position = 8752, 8416
                scale = -1, 1
                size = 48, 48
            ]

            component gen_probe RegD_act4 {
            }
            [
                position = 8744, 8336
                rotation = down
                scale = -1, 1
            ]

            component src_constant capacity_min {
                execution_rate = "Tfast"
                value = "-5000"
            }
            [
                position = 8544, 8504
                scale = -1, 1
            ]

            component gen_product Product3 {
            }
            [
                position = 8336, 8392
                scale = -1, 1
            ]

            component src_constant capacity_max {
                execution_rate = "Tfast"
                value = "10000"
            }
            [
                position = 8544, 8600
                scale = -1, 1
            ]

            component gen_sum Sum4 {
                signs = "-+"
            }
            [
                position = 8416, 8552
                scale = -1, 1
            ]

            component gen_sum Sum7 {
            }
            [
                position = 8200, 8448
                scale = -1, 1
            ]

            component gen_gain Gain1 {
                gain = "0.5"
            }
            [
                position = 8200, 8552
                hide_name = True
                scale = -1, 1
            ]

            component gen_sum Sum8 {
                signs = "++"
            }
            [
                position = 8288, 8552
                scale = -1, 1
            ]

            component gen_c_function "limit ramp rate" {
                global_variables = "real var;"
                in_terminal_dimensions = "inherit;inherit;inherit"
                in_terminal_dimensions_str = "initial inherit;in inherit;regulate inherit"
                in_terminal_labels = "[(\'initial\', True), (\'in\', True), (\'regulate\', True)]"
                in_terminal_properties = "real initial;real in;int regulate;"
                init_fnc = "/*Begin code section*/
var = 0;
/*End code section*/"
                no_feed_inputs = "[\'\']"
                no_feed_outputs = "[\'\']"
                out_terminal_dimensions = "inherit"
                out_terminal_dimensions_str = "out inherit"
                out_terminal_labels = "[(\'out\', True)]"
                output_fnc = "/*Begin code section*/
out = var;
/*End code section*/"
                update_fnc = "/*Begin code section*/
if (regulate==0)
    var=initial;
else
{
    if ( fabs(in-var) <=50 )
        var = in;
    else if ( (fabs(in-var) >50) && ((in-var)>0))
        var += 50;
    else if ( (fabs(in-var) >50) && ((in-var)<0))
        var -= 50;
}
/*End code section*/"
            }
            [
                position = 7920, 8536
                scale = -1, -1
                size = 144, 64
            ]

            component gen_c_function "Hold after regulation" {
                global_variables = "real var;"
                in_terminal_dimensions = "inherit"
                in_terminal_dimensions_str = "regulate inherit"
                in_terminal_labels = "[(\'regulate\', True)]"
                in_terminal_properties = "int regulate;"
                init_fnc = "/*Begin code section*/
var = 0;
/*End code section*/"
                no_feed_inputs = "[\'\']"
                no_feed_outputs = "[\'\']"
                out_terminal_dimensions = "inherit"
                out_terminal_dimensions_str = "out inherit"
                out_terminal_labels = "[(\'out\', True)]"
                out_terminal_properties = "int out;"
                output_fnc = "/*Begin code section*/
out = var;
/*End code section*/"
                update_fnc = "/*Begin code section*/
if (regulate!=0)
    var = 1;
/*End code section*/"
            }
            [
                position = 8080, 8392
                hide_name = True
                scale = -1, 1
                size = 96, 48
            ]

            port P_ref {
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7760, 8536
                rotation = down
            ]

            junction Junction3 sp
            [
                position = 8712, 8384
            ]

            junction Junction4 sp
            [
                position = 8456, 8504
            ]

            junction Junction5 sp
            [
                position = 8456, 8504
            ]

            junction Junction8 sp
            [
                position = 8464, 8600
            ]

            junction Junction9 sp
            [
                position = 8272, 8392
            ]

            connect RegD_sys.RegDsignal Junction3 as Connection496
            connect Junction3 Product3.in as Connection497
            [
                breakpoints = 8712, 8384; 8376, 8384
            ]
            connect RegD_act4.in Junction3 as Connection498
            connect capacity_min.out Junction4 as Connection500
            connect Junction4 Sum7.in1 as Connection501
            [
                breakpoints = 8456, 8504
            ]
            connect Product3.in1 Sum4.out as Connection503
            [
                breakpoints = 8376, 8552
            ]
            connect Sum8.out Gain1.in as Connection504
            connect Sum4.in Junction5 as Connection505
            connect Junction5 Junction4 as Connection506
            connect Sum8.in Junction5 as Connection507
            [
                breakpoints = 8328, 8504; 8376, 8504
            ]
            connect "Hold after regulation.out" "limit ramp rate.regulate" as Connection460
            connect Gain1.out "limit ramp rate.initial" as Connection515
            connect "limit ramp rate.out" P_ref as Connection516
            connect Sum8.in1 Junction8 as Connection518
            connect Junction8 capacity_max.out as Connection519
            connect Sum4.in1 Junction8 as Connection520
            connect "limit ramp rate.in" Sum7.out as Connection521
            [
                breakpoints = 8160, 8448
            ]
            connect Sum7.in Junction9 as Connection526
            [
                breakpoints = 8272, 8440
            ]
            connect Junction9 Product3.out as Connection527
            [
                breakpoints = 8272, 8392; 8272, 8392
            ]
            connect "Hold after regulation.regulate" Junction9 as Connection528
        }
        [
            position = 11104, 9904
            size = 88, 48
        ]

        component "core/Current Measurement" Ia12 {
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 6912, 8848
            size = 64, 32
        ]

        component gen_probe Xi_d_ref_res2 {
        }
        [
            position = 10256, 6912
            rotation = down
        ]

        component Subsystem Current_abc_to_dq2 {
            layout = dynamic
            component gen_terminator Termination1 {
            }
            [
                position = 7952, 8064
            ]

            component "core/abc to dq" "abc to dq1" {
            }
            [
                position = 7856, 8008
            ]

            port Iq {
                label = "Iq"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8008, 8016
            ]

            port wt {
                label = "wt"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 8088
            ]

            port Ib {
                label = "Ib"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 8000
            ]

            port Ia {
                label = "Ia"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 7960
            ]

            port Ic {
                label = "Ic"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 8040
            ]

            port Id {
                label = "Id"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8008, 7976
            ]

            connect Ib "abc to dq1.vb" as Connection2
            connect Termination1.in "abc to dq1.zero_axis" as Connection4
            connect wt "abc to dq1.wt" as Connection7
            connect Ia "abc to dq1.va" as Connection1
            connect "abc to dq1.d_axis" Id as Connection5
            connect "abc to dq1.q_axis" Iq as Connection6
            connect Ic "abc to dq1.vc" as Connection3
        }
        [
            position = 10944, 7072
            size = 80, 168
        ]

        component "core/Three Phase Inverter" "Three Phase Inverter1" {
            ctrl_src = "Internal modulator"
            d_time = "0.5e-6"
        }
        [
            position = 5904, 8016
            size = 127, 256
        ]

        component "core/Current Measurement" Xi_b1 {
            addr = "15"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 5328, 8944
            scale = 1, -1
            size = 64, 32
        ]

        component gen_probe pf_bus {
        }
        [
            position = 12736, 8192
            rotation = down
        ]

        component gen_probe Ud {
        }
        [
            position = 10016, 8096
            rotation = down
        ]

        component Subsystem Current_ref1 {
            layout = dynamic
            component gen_probe Et_sqr_res {
            }
            [
                position = 8224, 8256
            ]

            component gen_gain Gain1 {
                gain = "2.0/3.0"
            }
            [
                position = 8024, 8080
                scale = -1, 1
            ]

            component gen_probe Pref_probe {
            }
            [
                position = 8752, 8176
            ]

            component sys_signal_switch "Signal switch1" {
                threshold = "0.5"
            }
            [
                position = 8256, 8328
                scale = -1, -1
            ]

            component gen_sum Sum4 {
            }
            [
                position = 8232, 8160
                scale = -1, 1
            ]

            component gen_product Product2 {
                signs = "*/"
            }
            [
                position = 8120, 8168
                scale = -1, 1
            ]

            component src_constant one {
                execution_rate = "Tfast"
                value = "[100]"
            }
            [
                position = 8344, 8312
                scale = -1, 1
            ]

            component gen_gain Gain2 {
                gain = "2.0/3.0"
            }
            [
                position = 8024, 8168
                scale = -1, 1
            ]

            component gen_sum Sum3 {
                signs = "+-"
            }
            [
                position = 8232, 8072
                scale = -1, 1
            ]

            component gen_product Product3 {
            }
            [
                position = 8440, 8008
                scale = -1, 1
            ]

            component gen_comparator Comparator1 {
            }
            [
                position = 8352, 8368
                scale = -1, 1
            ]

            component gen_product Product6 {
            }
            [
                position = 8440, 8224
                scale = -1, 1
            ]

            component gen_product Product5 {
            }
            [
                position = 8440, 8152
                scale = -1, 1
            ]

            component src_constant Limit_zero {
                execution_rate = "Tfast"
                value = "[100]"
            }
            [
                position = 8464, 8408
                scale = -1, 1
            ]

            component gen_product Product1 {
                signs = "*/"
            }
            [
                position = 8120, 8080
                scale = -1, 1
            ]

            component gen_probe Et_sqr {
            }
            [
                position = 8496, 8288
            ]

            component gen_product Product4 {
            }
            [
                position = 8440, 8080
                scale = -1, 1
            ]

            port Et_p2 {
                label = "Et^2"
                position = right:5
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8360
                rotation = down
            ]

            port Xi_rd {
                label = "Xi_rd"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7952, 8168
                rotation = down
            ]

            port Xi_rq {
                label = "Xi_rq"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7952, 8080
                rotation = down
            ]

            port Eq {
                label = "Eq"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8000
                rotation = down
            ]

            port Q_ref {
                label = "Q_ref"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8216
                rotation = down
            ]

            port Ed {
                label = "Ed"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8072
                rotation = down
            ]

            port P_ref {
                label = "P_ref"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8144
                rotation = down
            ]

            junction Junction147 sp
            [
                position = 8184, 8328
            ]

            junction Junction148 sp
            [
                position = 8600, 8144
            ]

            junction Junction149 sp
            [
                position = 8424, 8360
            ]

            junction Junction144 sp
            [
                position = 8408, 8360
            ]

            junction Junction138 sp
            [
                position = 8160, 8176
            ]

            junction Junction139 sp
            [
                position = 8568, 8144
            ]

            junction Junction141 sp
            [
                position = 8560, 8216
            ]

            junction Junction142 sp
            [
                position = 8528, 8072
            ]

            junction Junction143 sp
            [
                position = 8544, 8000
            ]

            connect "Signal switch1.out" Junction147 as Connection39
            connect Product5.in Junction139 as Connection32
            connect Et_p2 Junction149 as Connection49
            connect Junction141 Q_ref as Connection11
            connect Product5.in1 Junction142 as Connection33
            connect Junction142 Ed as Connection12
            connect Pref_probe.in Junction148 as Connection22
            connect Product5.out Sum4.in as Connection34
            connect one.out "Signal switch1.in1" as Connection40
            connect Et_sqr_res.in Junction147 as Connection5
            connect Product6.in Junction141 as Connection35
            connect Product1.in Sum3.out as Connection23
            connect Junction148 P_ref as Connection18
            connect Gain1.in Product1.out as Connection6
            connect Product6.in1 Junction143 as Connection36
            connect Product2.out Gain2.in as Connection24
            connect Product3.out Sum3.in as Connection28
            connect Junction149 Et_sqr.in as Connection48
            connect Gain1.out Xi_rq as Connection7
            connect Comparator1.in1 Junction144 as Connection1
            connect Product2.in1 Junction138 as Connection25
            connect Product6.out Sum4.in1 as Connection37
            connect Gain2.out Xi_rd as Connection8
            connect Limit_zero.out Comparator1.in2 as Connection19
            connect Product2.in Sum4.out as Connection26
            connect Comparator1.out "Signal switch1.in2" as Connection2
            connect Junction144 Junction149 as Connection47
            connect Product4.in1 Junction141 as Connection29
            connect Product4.in Junction142 as Connection30
            connect Junction138 Product1.in1 as Connection9
            connect "Signal switch1.in" Junction144 as Connection38
            connect Product4.out Sum3.in1 as Connection31
            connect Product3.in1 Junction139 as Connection27
            connect Eq Junction143 as Connection3
            connect Junction143 Product3.in as Connection13
            connect Junction139 Junction148 as Connection10
            connect Junction138 Junction147 as Connection50
            [
                breakpoints = 8160, 8176; 8160, 8264
            ]
        }
        [
            position = 10592, 8864
            size = 80, 168
        ]

        component src_scada_input Xi_d_ref1 {
            addr = "1426063428"
            def_value = "10"
            execution_rate = "Tfast"
            unit = ""
        }
        [
            position = 10464, 8992
            rotation = down
            scale = 1, -1
        ]

        component pas_resistor R0c3 {
            resistance = "R0"
        }
        [
            position = 3952, 10064
        ]

        component gen_digital_probe "LED 3" {
        }
        [
            position = 10160, 6048
        ]

        component gen_probe P4 {
        }
        [
            position = 11760, 9888
            rotation = down
        ]

        component src_square "Square Wave Source14" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.3"
            signal_type = "uint"
        }
        [
            position = 10304, 6064
        ]

        component Subsystem Current_abc_to_dq3 {
            layout = dynamic
            component gen_terminator Termination1 {
            }
            [
                position = 7952, 8064
            ]

            component "core/abc to dq" "abc to dq1" {
            }
            [
                position = 7856, 8008
            ]

            port Ib {
                label = "Ib"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 8000
            ]

            port wt {
                label = "wt"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 8088
            ]

            port Ic {
                label = "Ic"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 8040
            ]

            port Iq {
                label = "Iq"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8008, 8016
            ]

            port Id {
                label = "Id"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8008, 7976
            ]

            port Ia {
                label = "Ia"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 7704, 7960
            ]

            connect wt "abc to dq1.wt" as Connection7
            connect "abc to dq1.q_axis" Iq as Connection6
            connect Termination1.in "abc to dq1.zero_axis" as Connection4
            connect Ib "abc to dq1.vb" as Connection2
            connect Ia "abc to dq1.va" as Connection1
            connect Ic "abc to dq1.vc" as Connection3
            connect "abc to dq1.d_axis" Id as Connection5
        }
        [
            position = 10976, 10288
            size = 80, 168
        ]

        component pas_inductor Lc2 {
            inductance = "L"
        }
        [
            position = 6416, 6848
            rotation = down
        ]

        component pas_inductor L0a {
            inductance = "L0"
        }
        [
            position = 6272, 7920
            rotation = down
        ]

        component gen_probe wt_pll2 {
            addr = "8966"
        }
        [
            position = 11152, 7168
            scale = -1, 1
        ]

        component src_scada_input Xi_d_ref2 {
            addr = "1426063428"
            def_value = "10"
            execution_rate = "Tfast"
            unit = ""
        }
        [
            position = 10576, 6976
            rotation = down
            scale = 1, -1
        ]

        component pas_capacitor Cb {
            capacitance = "C"
        }
        [
            position = 6624, 8368
            rotation = right
        ]

        component src_square "Square Wave Source13" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.5"
            signal_type = "uint"
        }
        [
            position = 10304, 6208
        ]

        component Subsystem S_meas_1 {
            layout = dynamic
            component gen_PQ_transform "Power Meter1" {
                filter_cutoff_Hz = "5"
                filter_order = "second order"
            }
            [
                position = 8256, 8224
                scale = -1, 1
            ]

            component gen_terminator Termination1 {
            }
            [
                position = 8072, 8144
                rotation = down
            ]

            component gen_terminator Termination2 {
            }
            [
                position = 8160, 8136
                rotation = down
            ]

            port Q {
                label = "Q"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8032, 8232
                rotation = down
            ]

            port pf {
                label = "pf"
                position = left:4
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8128, 8336
                rotation = down
            ]

            port S {
                label = "S"
                position = left:3
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8096, 8272
                rotation = down
            ]

            port Va {
                label = "Va"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8320, 8112
                rotation = down
            ]

            port Vb {
                label = "Vb"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8368, 8144
                rotation = down
            ]

            port Ia {
                label = "Ia"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8432, 8232
                rotation = down
            ]

            port Vc {
                label = "Vc"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8416, 8168
                rotation = down
            ]

            port Ib {
                label = "Ib"
                position = right:5
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8376, 8272
                rotation = down
            ]

            port Ic {
                label = "Ic"
                position = right:6
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8400, 8336
                rotation = down
            ]

            port P {
                label = "P"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7992, 8176
                rotation = down
            ]

            connect "Power Meter1.vc" Vc as Connection9
            connect "Power Meter1.k_factor" pf as Connection10
            connect Termination1.in "Power Meter1.Qac" as Connection11
            connect Termination2.in "Power Meter1.Pac" as Connection12
            connect P "Power Meter1.Pdc" as Connection1
            connect "Power Meter1.ia" Ia as Connection2
            connect "Power Meter1.ib" Ib as Connection3
            connect "Power Meter1.ic" Ic as Connection4
            connect "Power Meter1.Qdc" Q as Connection5
            connect "Power Meter1.apparent" S as Connection6
            connect "Power Meter1.va" Va as Connection7
            connect "Power Meter1.vb" Vb as Connection8
        }
        [
            position = 12848, 8112
            size = 96, 216
        ]

        component src_scada_input Xi_q_ref {
            addr = "1426063424"
            execution_rate = "Tfast"
            unit = ""
        }
        [
            position = 10608, 8240
            rotation = down
            scale = 1, -1
        ]

        component gen_bus_join "Bus Join2" {
            inputs = "3"
        }
        [
            position = 9520, 9104
            scale = -1, 1
        ]

        component gen_probe Phase2 {
        }
        [
            position = 12912, 8288
        ]

        component gen_bus_split "Bus Split4" {
            outputs = "3"
        }
        [
            position = 3600, 9680
        ]

        component pas_resistor R0b3 {
            resistance = "R0"
        }
        [
            position = 3952, 9968
        ]

        component gen_probe Uq4 {
        }
        [
            position = 10032, 10368
            rotation = down
        ]

        component src_voltage VDC3 {
            param_set = ""
        }
        [
            position = 4208, 6752
            rotation = right
        ]

        component src_square "Square Wave Source5" {
            duty_cycle = "0.1"
            frequency = "0.4"
            phase = "0.4"
            signal_type = "uint"
        }
        [
            position = 10064, 6176
        ]

        component src_scada_input S_control_mode4 {
            execution_rate = "Tfast"
            unit = ""
        }
        [
            position = 10528, 10032
            scale = -1, 1
        ]

        component Subsystem PLL1 {
            layout = dynamic
            component gen_terminator Termination3 {
            }
            [
                position = 8160, 8256
                rotation = down
            ]

            component "core/Three phase PLL" PLL {
            }
            [
                position = 8232, 8136
                scale = -1, 1
            ]

            component gen_gain 2pi {
                gain = "[6.28318530718]"
            }
            [
                position = 8048, 8200
                scale = -1, 1
            ]

            component gen_terminator Termination1 {
            }
            [
                position = 8104, 8136
                rotation = down
            ]

            port Ed {
                label = "Ed"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8024, 8064
                rotation = down
            ]

            port Eq {
                label = "Eq"
                position = left:3
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8160, 8112
                rotation = down
            ]

            port w {
                label = "w"
                position = left:4
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7976, 8200
                rotation = down
            ]

            port wt {
                label = "wt"
                position = left:5
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8048, 8160
                rotation = down
            ]

            port Ea {
                label = "Ea"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8336, 8104
                rotation = down
            ]

            port Ec {
                label = "Ec"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8336, 8168
                rotation = down
            ]

            port Eb {
                label = "Eb"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8392, 8136
                rotation = down
            ]

            connect PLL.va Ea as Connection3
            connect PLL.vb Eb as Connection4
            connect PLL.vc Ec as Connection5
            connect PLL.d_axis Ed as Connection6
            connect PLL.q_axis Eq as Connection7
            connect PLL.theta wt as Connection8
            connect Termination1.in PLL.zero_axis as Connection9
            connect Termination3.in PLL.sin_theta as Connection10
            connect 2pi.out w as Connection1
            connect PLL.freq 2pi.in as Connection2
        }
        [
            position = 11232, 9088
            size = 96, 192
        ]

        component pas_inductor L0a1 {
            inductance = "L0"
        }
        [
            position = 5184, 8848
            rotation = down
        ]

        component "core/Current RMS" Iga_rms {
        }
        [
            position = 7872, 7920
            size = 64, 32
        ]

        component pas_inductor La2 {
            inductance = "L"
        }
        [
            position = 6416, 6656
            rotation = down
        ]

        component pas_resistor Ra2 {
            resistance = "R"
        }
        [
            position = 6304, 6656
        ]

        component gen_digital_probe "LED 15" {
        }
        [
            position = 10400, 6208
        ]

        component "core/Voltage Measurement" Vbc1 {
        }
        [
            position = 4992, 8992
            rotation = right
            size = 64, 32
        ]

        component Subsystem Subsystem2 {
            layout = dynamic
            component gen_sum Sum5 {
                signs = "+-"
            }
            [
                position = 8024, 8104
                scale = -1, 1
            ]

            component gen_product Product1 {
            }
            [
                position = 8168, 8144
                scale = -1, 1
            ]

            component gen_product Product4 {
                signs = "*/"
            }
            [
                position = 7904, 8280
                scale = -1, 1
            ]

            component gen_sum Sum7 {
            }
            [
                position = 7760, 8232
                scale = -1, 1
            ]

            component gen_pid_controller "PID controller2" {
                controller_type = "PI"
                enb_anti_windup_out = "True"
                enb_output_limit_out = "True"
                ki = "1e-1"
                kp = "0.015"
            }
            [
                position = 8200, 8224
                scale = -1, 1
            ]

            component gen_gain Gain2 {
                gain = "L0"
            }
            [
                position = 8280, 8344
                scale = -1, 1
            ]

            component gen_pid_controller "PID controller1" {
                controller_type = "PI"
                enb_anti_windup_out = "True"
                enb_output_limit_out = "True"
                ki = "1e-1"
                kp = "0.015"
            }
            [
                position = 8200, 8040
                scale = -1, 1
            ]

            component gen_sum Sum2 {
                signs = "-+"
            }
            [
                position = 8288, 8224
                rotation = down
            ]

            component gen_gain Gain1 {
                gain = "L0"
            }
            [
                position = 8264, 8152
                scale = -1, 1
            ]

            component gen_product Product2 {
            }
            [
                position = 8184, 8336
                scale = -1, 1
            ]

            component gen_sum Sum1 {
                signs = "-+"
            }
            [
                position = 8288, 8040
                rotation = down
            ]

            component gen_gain Gain3 {
                gain = "[0.5]"
            }
            [
                position = 7976, 8376
                scale = -1, 1
            ]

            component gen_sum Sum3 {
            }
            [
                position = 7760, 8048
                scale = -1, 1
            ]

            component gen_sum Sum6 {
            }
            [
                position = 8032, 8272
                scale = -1, 1
            ]

            component gen_product Product3 {
                signs = "*/"
            }
            [
                position = 7904, 8112
                scale = -1, 1
            ]

            port Xi_d_ref {
                label = "x_di_ref"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8440, 8032
                rotation = down
            ]

            port Ud {
                label = "Ud"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7672, 8048
                rotation = down
            ]

            port Uq {
                label = "Uq"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7672, 8232
                rotation = down
            ]

            port Xi_q_meas {
                label = "Xi_q_meas"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8520, 8232
                rotation = down
            ]

            port Xi_q_ref {
                label = "Xi_q_ref"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8520, 8184
                rotation = down
            ]

            port Xi_d_meas {
                label = "Xi_d_meas"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8440, 8112
                rotation = down
            ]

            tag From26 {
                value = "Eq1"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8128, 8264
                scale = -1, 1
                size = 60, 20
            ]

            tag From27 {
                value = "VDC2"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8056, 8376
                scale = -1, 1
                size = 60, 20
            ]

            tag From24 {
                value = "Ed1"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8112, 8056
                scale = -1, 1
                size = 60, 20
            ]

            tag From25 {
                value = "w1"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8288, 8304
                scale = -1, 1
                size = 60, 20
            ]

            tag From23 {
                value = "w1"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8272, 8112
                scale = -1, 1
                size = 60, 20
            ]

            junction Junction145 sp
            [
                position = 8360, 8232
            ]

            junction Junction146 sp
            [
                position = 8392, 8112
            ]

            junction Junction147 sp
            [
                position = 7944, 8288
            ]

            connect Sum2.in1 Xi_q_ref as Connection22
            connect Ud Sum3.out as Connection30
            connect Gain1.in Junction145 as Connection5
            connect Junction146 Xi_d_meas as Connection12
            connect Sum5.in From24 as Connection23
            connect Junction147 Product3.in1 as Connection13
            connect Gain1.out Product1.in1 as Connection6
            connect "PID controller1.in" Sum1.out as Connection14
            connect Sum5.in1 Product1.out as Connection24
            connect "PID controller1.out" Sum3.in as Connection15
            connect From27 Gain3.in as Connection4
            connect Gain2.in Junction146 as Connection7
            connect Sum6.out Product4.in as Connection27
            connect Sum5.out Product3.in as Connection25
            connect "PID controller2.in" Sum2.out as Connection16
            connect Gain2.out Product2.in1 as Connection8
            connect Product3.out Sum3.in1 as Connection17
            connect Sum6.in1 Product2.out as Connection26
            connect Product4.in1 Junction147 as Connection18
            connect Gain3.out Junction147 as Connection9
            connect From23 Product1.in as Connection1
            connect Junction145 Xi_q_meas as Connection10
            connect Product4.out Sum7.in1 as Connection19
            connect Sum7.in "PID controller2.out" as Connection28
            connect From25 Product2.in as Connection2
            connect Sum1.in1 Xi_d_ref as Connection20
            connect From26 Sum6.in as Connection3
            connect Sum2.in Junction145 as Connection21
            connect Junction146 Sum1.in as Connection11
            connect Sum7.out Uq as Connection29
        }
        [
            position = 10032, 9072
            size = 96, 240
        ]

        component "core/Voltage Measurement" Va12 {
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 6544, 9104
            rotation = right
            size = 64, 32
        ]

        component gen_terminator Termination5 {
        }
        [
            position = 7296, 9328
        ]

        component gen_probe P_bus {
        }
        [
            position = 12720, 7968
            rotation = down
        ]

        component gen_digital_probe "LED 2" {
        }
        [
            position = 10160, 5984
        ]

        component "core/Voltage RMS" Vab_rms3 {
        }
        [
            position = 5952, 9936
            rotation = right
            size = 64, 32
        ]

        component pas_inductor La3 {
            inductance = "L"
        }
        [
            position = 5312, 9872
            rotation = down
        ]

        component pas_inductor Lc3 {
            inductance = "L"
        }
        [
            position = 5312, 10064
            rotation = down
        ]

        component gen_probe Xi_q_ref_res4 {
        }
        [
            position = 10336, 10256
            rotation = down
        ]

        component pas_resistor R0a {
            resistance = "R0"
        }
        [
            position = 6176, 7920
        ]

        component Subsystem P_ref1 {
            layout = dynamic
            component gen_probe RegD_act1 {
            }
            [
                position = 8640, 7928
                rotation = down
                scale = -1, 1
            ]

            component Subsystem RegD_sys {
                layout = dynamic
                component gen_bus_join "Bus Join1" {
                }
                [
                    position = 8024, 8320
                ]

                component gen_bus_join "Bus Join2" {
                }
                [
                    position = 8056, 8232
                ]

                component gen_terminator Termination1 {
                }
                [
                    position = 8512, 8392
                ]

                component gen_probe "Regulation Data" {
                }
                [
                    position = 8824, 8096
                ]

                component src_constant Constant1 {
                    execution_rate = "Tfast"
                    value = "4"
                }
                [
                    position = 7944, 8320
                ]

                component src_constant Constant4 {
                    execution_rate = "Tfast"
                    value = "5"
                }
                [
                    position = 8120, 8272
                ]

                component src_constant Constant6 {
                    execution_rate = "Tfast"
                    value = "4"
                }
                [
                    position = 7944, 8368
                ]

                component src_constant Constant7 {
                    execution_rate = "Tfast"
                    value = "scale_back_const"
                }
                [
                    position = 8784, 8232
                ]

                component gen_probe regD {
                }
                [
                    position = 8968, 8112
                ]

                component gen_product Product2 {
                    signs = "*/"
                }
                [
                    position = 8896, 8184
                ]

                component src_constant Constant2 {
                    execution_rate = "Tfast"
                    value = "2"
                }
                [
                    position = 7976, 8224
                ]

                component src_constant Constant3 {
                    execution_rate = "Tfast"
                    value = "4"
                }
                [
                    position = 8128, 8176
                ]

                component "core/ModBus Device" "ModBus Device1" {
                    execution_rate = "Tfast"
                }
                [
                    position = 8368, 8248
                    size = 184, 184
                ]

                component gen_probe Probe3 {
                }
                [
                    position = 8816, 8040
                ]

                component gen_c_function "C function3" {
                    global_variables = "int temp;"
                    in_terminal_dimensions = "inherit;inherit"
                    in_terminal_dimensions_str = "high inherit;low inherit"
                    in_terminal_labels = "[(\'high\', True), (\'low\', True)]"
                    in_terminal_properties = "real high;real low;"
                    no_feed_inputs = "[\'\']"
                    no_feed_outputs = "[\'\']"
                    out_terminal_dimensions = "inherit"
                    out_terminal_dimensions_str = "regD inherit"
                    out_terminal_labels = "[(\'regD\', True)]"
                    out_terminal_properties = "real regD;"
                    output_fnc = "/*Begin code section*/
temp = (((int)high << 16) & -65536) | ((int)low & 65535);

if(temp < 1e7 && temp > -1e7)
    regD = temp;
else if(temp == 1e7)
    regD = 1e7;
else if(temp == -1e7)
    regD = -1e7;
else if(temp > 1e7)
    regD = 2e7;
else if(temp < -1e7)
    regD = -2e7;
/*End code section*/"
                }
                [
                    position = 8720, 8144
                    size = 48, 48
                ]

                component gen_bus_split "Bus Split2" {
                }
                [
                    position = 8608, 8144
                ]

                port RegDsignal {
                    position = auto:auto
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8992, 8184
                ]

                junction Junction11 sp
                [
                    position = 8936, 8184
                ]

                junction Junction13 sp
                [
                    position = 8008, 8224
                ]

                junction Junction14 sp
                [
                    position = 8768, 8144
                ]

                junction Junction15 sp
                [
                    position = 8536, 8144
                ]

                connect Constant6.out "Bus Join1.in1" as Connection55
                connect Junction11 RegDsignal as Connection96
                connect regD.in Junction11 as Connection97
                connect Constant2.out Junction13 as Connection146
                connect Constant1.out "Bus Join1.in" as Connection15
                connect Junction13 "Bus Join2.in" as Connection147
                connect "Bus Join2.in1" Junction13 as Connection148
                connect Product2.out Junction11 as Connection95
                connect Constant7.out Product2.in1 as Connection89
                connect Constant4.out "ModBus Device1.coil_in" as Connection167
                connect Constant3.out "ModBus Device1.discrete_in" as Connection168
                connect "Bus Join1.out" "ModBus Device1.reg_in" as Connection169
                connect "Bus Join2.out" "ModBus Device1.holding_in" as Connection170
                connect Termination1.in "ModBus Device1.coil_out" as Connection171
                connect "Bus Split2.out" "C function3.high" as Connection160
                connect "Bus Split2.out1" "C function3.low" as Connection161
                connect "C function3.regD" Junction14 as Connection173
                connect Junction14 Product2.in as Connection174
                connect "Regulation Data.in" Junction14 as Connection175
                connect "Bus Split2.in" Junction15 as Connection177
                connect Junction15 "ModBus Device1.holding_out" as Connection178
                [
                    breakpoints = 8528, 8144; 8528, 8176
                ]
                connect Probe3.in Junction15 as Connection179
            }
            [
                position = 8640, 8008
                scale = -1, 1
                size = 48, 48
            ]

            component gen_product Product3 {
            }
            [
                position = 8464, 8016
                scale = -1, 1
            ]

            component gen_sum Sum4 {
                signs = "-+"
            }
            [
                position = 8544, 8176
                scale = -1, 1
            ]

            component gen_gain Gain1 {
                gain = "0.5"
            }
            [
                position = 8328, 8176
                hide_name = True
                scale = -1, 1
            ]

            component src_constant capacity_max {
                execution_rate = "Tfast"
                value = "5000"
            }
            [
                position = 8672, 8224
                scale = -1, 1
            ]

            component gen_sum Sum7 {
            }
            [
                position = 8328, 8080
                scale = -1, 1
            ]

            component src_constant capacity_min {
                execution_rate = "Tfast"
                value = "0"
            }
            [
                position = 8672, 8128
                scale = -1, 1
            ]

            component gen_sum Sum8 {
                signs = "++"
            }
            [
                position = 8392, 8176
                scale = -1, 1
            ]

            component gen_c_function "limit ramp rate" {
                global_variables = "real var;"
                in_terminal_dimensions = "inherit;inherit;inherit"
                in_terminal_dimensions_str = "initial inherit;in inherit;regulate inherit"
                in_terminal_labels = "[(\'initial\', True), (\'in\', True), (\'regulate\', True)]"
                in_terminal_properties = "real initial;real in;int regulate;"
                init_fnc = "/*Begin code section*/
var = 0;
/*End code section*/"
                no_feed_inputs = "[\'\']"
                no_feed_outputs = "[\'\']"
                out_terminal_dimensions = "inherit"
                out_terminal_dimensions_str = "out inherit"
                out_terminal_labels = "[(\'out\', True)]"
                output_fnc = "/*Begin code section*/
out = var;
/*End code section*/"
                update_fnc = "/*Begin code section*/
if (regulate==0)
    var=initial;
else
{
    if ( fabs(in-var) <=50 )
        var = in;
    else if ( (fabs(in-var) >50) && ((in-var)>0))
        var += 50;
    else if ( (fabs(in-var) >50) && ((in-var)<0))
        var -= 50;
}
/*End code section*/"
            }
            [
                position = 8024, 8160
                scale = -1, -1
                size = 144, 64
            ]

            component gen_c_function "Hold after regulation" {
                global_variables = "real var;"
                in_terminal_dimensions = "inherit"
                in_terminal_dimensions_str = "regulate inherit"
                in_terminal_labels = "[(\'regulate\', True)]"
                in_terminal_properties = "int regulate;"
                init_fnc = "/*Begin code section*/
var = 0;
/*End code section*/"
                no_feed_inputs = "[\'\']"
                no_feed_outputs = "[\'\']"
                out_terminal_dimensions = "inherit"
                out_terminal_dimensions_str = "out inherit"
                out_terminal_labels = "[(\'out\', True)]"
                out_terminal_properties = "int out;"
                output_fnc = "/*Begin code section*/
out = var;
/*End code section*/"
                update_fnc = "/*Begin code section*/
if (regulate!=0)
    var = 1;
/*End code section*/"
            }
            [
                position = 8176, 8016
                hide_name = True
                scale = -1, 1
                size = 96, 48
            ]

            port P_ref {
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7792, 8160
                rotation = down
            ]

            junction Junction1 sp
            [
                position = 8584, 8128
            ]

            junction Junction3 sp
            [
                position = 8576, 8008
            ]

            junction Junction4 sp
            [
                position = 8584, 8128
            ]

            junction Junction5 sp
            [
                position = 8584, 8224
            ]

            junction Junction6 sp
            [
                position = 8400, 8016
            ]

            connect Sum7.in1 Junction1 as Connection419
            connect Junction1 Sum4.in as Connection418
            [
                breakpoints = 8584, 8128; 8584, 8176
            ]
            connect RegD_sys.RegDsignal Junction3 as Connection443
            connect Junction3 Product3.in as Connection444
            connect RegD_act1.in Junction3 as Connection445
            connect Product3.in1 Sum4.out as Connection446
            [
                breakpoints = 8504, 8176
            ]
            connect Sum8.out Gain1.in as Connection447
            connect capacity_min.out Junction4 as Connection448
            connect Junction4 Junction1 as Connection449
            connect Sum8.in Junction4 as Connection450
            [
                breakpoints = 8432, 8168; 8432, 8128
            ]
            connect capacity_max.out Junction5 as Connection451
            connect Junction5 Sum4.in1 as Connection452
            connect Sum8.in1 Junction5 as Connection453
            [
                breakpoints = 8432, 8184; 8432, 8224
            ]
            connect "Hold after regulation.out" "limit ramp rate.regulate" as Connection460
            connect Gain1.out "limit ramp rate.initial" as Connection465
            connect "limit ramp rate.out" P_ref as Connection466
            connect "limit ramp rate.in" Sum7.out as Connection467
            [
                breakpoints = 8264, 8080
            ]
            connect Product3.out Junction6 as Connection468
            connect Junction6 Sum7.in as Connection469
            [
                breakpoints = 8400, 8016; 8400, 8064
            ]
            connect "Hold after regulation.regulate" Junction6 as Connection470
        }
        [
            position = 11424, 7872
            size = 88, 48
        ]

        component "core/Voltage RMS" Va_rms {
            sig_output = "True"
        }
        [
            position = 8312, 7968
            rotation = right
            size = 64, 32
        ]

        component gen_probe Q3 {
        }
        [
            position = 11728, 6736
            rotation = down
        ]

        component "core/Voltage Measurement" Eb {
            addr = "9"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 7008, 8224
            rotation = right
            scale = -1, 1
            size = 64, 32
        ]

        component "core/DC Meter" "DC Meter3" {
        }
        [
            position = 4496, 6752
            size = 120, 256
        ]

        component gen_bus_join "Bus Join4" {
            inputs = "3"
        }
        [
            position = 9680, 10304
            scale = -1, 1
        ]

        component gen_probe V3 {
        }
        [
            position = 8592, 8256
        ]

        component "core/Current RMS" Igb_rms1 {
        }
        [
            position = 6752, 8944
            size = 64, 32
        ]

        component pas_inductor L0b2 {
            inductance = "L0"
        }
        [
            position = 5152, 6752
            rotation = down
        ]

        component "core/Current RMS" Igb_rms3 {
        }
        [
            position = 5648, 9968
            size = 64, 32
        ]

        component src_scada_input Q_ref2 {
            def_value = "800"
            execution_rate = "Tfast"
            unit = "VAr"
        }
        [
            position = 10752, 8816
            scale = -1, 1
        ]

        component pas_resistor R0b1 {
            resistance = "R0"
        }
        [
            position = 5072, 8944
        ]

        component gen_probe wt_pll4 {
            addr = "8966"
        }
        [
            position = 11200, 10384
            scale = -1, 1
        ]

        component "core/Voltage Measurement" VDC_4 {
            execution_rate = "Tfast"
            sig_output = "True"
        }
        [
            position = 3216, 9968
            rotation = right
            size = 64, 32
        ]

        component pas_resistor Rt0b {
            resistance = "Rt0"
        }
        [
            position = 6624, 8272
            rotation = left
            scale = -1, 1
        ]

        component Subsystem S_meas1 {
            layout = dynamic
            component gen_PQ_transform "Power Meter1" {
                filter_cutoff_Hz = "5"
                filter_order = "second order"
            }
            [
                position = 8256, 8224
                scale = -1, 1
            ]

            component gen_terminator Termination2 {
            }
            [
                position = 8160, 8136
                rotation = down
            ]

            component gen_terminator Termination1 {
            }
            [
                position = 8080, 8136
                rotation = down
            ]

            port Va {
                label = "Va"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8320, 8112
                rotation = down
            ]

            port S {
                label = "S"
                position = left:3
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8096, 8272
                rotation = down
            ]

            port pf {
                label = "pf"
                position = left:4
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8128, 8336
                rotation = down
            ]

            port Vc {
                label = "Vc"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8416, 8168
                rotation = down
            ]

            port Ia {
                label = "Ia"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8432, 8232
                rotation = down
            ]

            port Vb {
                label = "Vb"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8368, 8144
                rotation = down
            ]

            port Ib {
                label = "Ib"
                position = right:5
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8376, 8272
                rotation = down
            ]

            port Ic {
                label = "Ic"
                position = right:6
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8400, 8336
                rotation = down
            ]

            port P {
                label = "P"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7992, 8176
                rotation = down
            ]

            port Q {
                label = "Q"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 8032, 8232
                rotation = down
            ]

            connect Termination2.in "Power Meter1.Pac" as Connection12
            connect P "Power Meter1.Pdc" as Connection1
            connect "Power Meter1.ia" Ia as Connection2
            connect "Power Meter1.ib" Ib as Connection3
            connect "Power Meter1.ic" Ic as Connection4
            connect "Power Meter1.Qdc" Q as Connection5
            connect "Power Meter1.apparent" S as Connection6
            connect "Power Meter1.va" Va as Connection7
            connect "Power Meter1.vb" Vb as Connection8
            connect "Power Meter1.vc" Vc as Connection9
            connect "Power Meter1.k_factor" pf as Connection10
            connect Termination1.in "Power Meter1.Qac" as Connection11
        }
        [
            position = 11792, 9040
            size = 96, 216
        ]

        component src_scada_input S_control_mode2 {
            execution_rate = "Tfast"
            unit = ""
        }
        [
            position = 10496, 6816
            scale = -1, 1
        ]

        component src_scada_input Xi_q_ref4 {
            addr = "1426063424"
            execution_rate = "Tfast"
            unit = ""
        }
        [
            position = 10544, 10320
            rotation = down
            scale = 1, -1
        ]

        component "core/Current RMS" Igc_rms3 {
        }
        [
            position = 5648, 10064
            size = 64, 32
        ]

        component "core/Current Measurement" Xi_c {
            addr = "16"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 6480, 8112
            scale = 1, -1
            size = 64, 32
        ]

        component "core/Current Measurement" Idc_link1 {
            addr = "7"
            execution_rate = "Tfast"
        }
        [
            position = 4624, 8848
            scale = 1, -1
            size = 64, 32
        ]

        component gen_digital_probe "LED 9" {
        }
        [
            position = 10176, 6480
        ]

        component "core/Voltage Measurement" Eb3 {
            addr = "9"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 4784, 10176
            rotation = right
            scale = -1, 1
            size = 64, 32
        ]

        component pas_inductor L0c2 {
            inductance = "L0"
        }
        [
            position = 5152, 6848
            rotation = down
        ]

        component "core/DC Meter" "DC Meter4" {
        }
        [
            position = 3392, 9968
            size = 120, 256
        ]

        component gen_probe Xi_q_ref_res2 {
        }
        [
            position = 10288, 7040
            rotation = down
        ]

        component Subsystem Current_ref3 {
            layout = dynamic
            component gen_sum Sum4 {
            }
            [
                position = 8232, 8160
                scale = -1, 1
            ]

            component src_constant one {
                execution_rate = "Tfast"
                value = "[100]"
            }
            [
                position = 8344, 8312
                scale = -1, 1
            ]

            component gen_gain Gain2 {
                gain = "2.0/3.0"
            }
            [
                position = 8024, 8168
                scale = -1, 1
            ]

            component gen_probe Pref_probe {
            }
            [
                position = 8752, 8176
            ]

            component gen_product Product5 {
            }
            [
                position = 8440, 8152
                scale = -1, 1
            ]

            component gen_product Product2 {
                signs = "*/"
            }
            [
                position = 8120, 8168
                scale = -1, 1
            ]

            component gen_product Product4 {
            }
            [
                position = 8440, 8080
                scale = -1, 1
            ]

            component gen_gain Gain1 {
                gain = "2.0/3.0"
            }
            [
                position = 8024, 8080
                scale = -1, 1
            ]

            component sys_signal_switch "Signal switch1" {
                threshold = "0.5"
            }
            [
                position = 8256, 8328
                scale = -1, -1
            ]

            component gen_probe Et_sqr {
            }
            [
                position = 8496, 8288
            ]

            component gen_probe Et_sqr_res {
            }
            [
                position = 8224, 8256
            ]

            component gen_sum Sum3 {
                signs = "+-"
            }
            [
                position = 8232, 8072
                scale = -1, 1
            ]

            component gen_product Product1 {
                signs = "*/"
            }
            [
                position = 8120, 8080
                scale = -1, 1
            ]

            component src_constant Limit_zero {
                execution_rate = "Tfast"
                value = "[100]"
            }
            [
                position = 8464, 8408
                scale = -1, 1
            ]

            component gen_product Product6 {
            }
            [
                position = 8440, 8224
                scale = -1, 1
            ]

            component gen_comparator Comparator1 {
            }
            [
                position = 8352, 8368
                scale = -1, 1
            ]

            component gen_product Product3 {
            }
            [
                position = 8440, 8008
                scale = -1, 1
            ]

            port P_ref {
                label = "P_ref"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8144
                rotation = down
            ]

            port Ed {
                label = "Ed"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8072
                rotation = down
            ]

            port Et_p2 {
                label = "Et^2"
                position = right:5
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8592, 8360
                rotation = down
            ]

            port Xi_rq {
                label = "Xi_rq"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7952, 8080
                rotation = down
            ]

            port Xi_rd {
                label = "Xi_rd"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7952, 8168
                rotation = down
            ]

            port Q_ref {
                label = "Q_ref"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8216
                rotation = down
            ]

            port Eq {
                label = "Eq"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8648, 8000
                rotation = down
            ]

            junction Junction147 sp
            [
                position = 8184, 8328
            ]

            junction Junction148 sp
            [
                position = 8600, 8144
            ]

            junction Junction149 sp
            [
                position = 8424, 8360
            ]

            junction Junction138 sp
            [
                position = 8160, 8176
            ]

            junction Junction139 sp
            [
                position = 8568, 8144
            ]

            junction Junction141 sp
            [
                position = 8560, 8216
            ]

            junction Junction142 sp
            [
                position = 8528, 8072
            ]

            junction Junction143 sp
            [
                position = 8544, 8000
            ]

            junction Junction144 sp
            [
                position = 8408, 8360
            ]

            connect Product5.in1 Junction142 as Connection33
            connect Et_p2 Junction149 as Connection46
            connect Junction142 Ed as Connection12
            connect one.out "Signal switch1.in1" as Connection40
            connect Product4.out Sum3.in1 as Connection31
            connect Product5.out Sum4.in as Connection34
            connect Product1.in Sum3.out as Connection23
            connect Junction148 P_ref as Connection18
            connect Et_sqr_res.in Junction147 as Connection5
            connect Product6.in Junction141 as Connection35
            connect Product2.out Gain2.in as Connection24
            connect Pref_probe.in Junction148 as Connection22
            connect Junction149 Et_sqr.in as Connection45
            connect Gain1.in Product1.out as Connection6
            connect Product6.in1 Junction143 as Connection36
            connect Product2.in1 Junction138 as Connection25
            connect Comparator1.in1 Junction144 as Connection1
            connect Gain1.out Xi_rq as Connection7
            connect Limit_zero.out Comparator1.in2 as Connection19
            connect Product2.in Sum4.out as Connection26
            connect Product6.out Sum4.in1 as Connection37
            connect Gain2.out Xi_rd as Connection8
            connect Junction143 Product3.in as Connection13
            connect Product3.in1 Junction139 as Connection27
            connect Junction138 Product1.in1 as Connection9
            connect Comparator1.out "Signal switch1.in2" as Connection2
            connect Product3.out Sum3.in as Connection28
            connect "Signal switch1.in" Junction144 as Connection38
            connect Junction139 Junction148 as Connection10
            connect Junction144 Junction149 as Connection44
            connect Product4.in1 Junction141 as Connection29
            connect Eq Junction143 as Connection3
            connect Product5.in Junction139 as Connection32
            connect Junction141 Q_ref as Connection11
            connect "Signal switch1.out" Junction147 as Connection39
            connect Product4.in Junction142 as Connection30
            connect Junction138 Junction147 as Connection47
            [
                breakpoints = 8160, 8176; 8160, 8264
            ]
        }
        [
            position = 10752, 10048
            size = 80, 168
        ]

        component src_scada_input Pref_in {
            execution_rate = "Tfast"
            unit = ""
        }
        [
            position = 12096, 7520
            scale = -1, 1
        ]

        component sys_signal_switch "Signal switch5" {
            threshold = "0.5"
        }
        [
            position = 10384, 7072
            scale = -1, 1
        ]

        component pas_resistor Rb1 {
            resistance = "R"
        }
        [
            position = 6304, 8944
        ]

        component gen_probe Xi_d_ref_res4 {
        }
        [
            position = 10304, 10128
            rotation = down
        ]

        component gen_terminator Termination4 {
        }
        [
            position = 7296, 9280
        ]

        component gen_probe pf2 {
        }
        [
            position = 11680, 9120
            rotation = down
        ]

        component gen_probe wt_pll1 {
            addr = "8966"
        }
        [
            position = 11040, 9184
            scale = -1, 1
        ]

        component src_voltage VDC4 {
            param_set = ""
        }
        [
            position = 3120, 9968
            rotation = right
        ]

        component "core/Voltage Measurement" Vb12 {
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 6624, 9168
            rotation = right
            size = 64, 32
        ]

        component "core/Voltage Measurement" Ea {
            addr = "7"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 6928, 8160
            rotation = right
            scale = -1, 1
            size = 64, 32
        ]

        component gen_probe Ptotal {
        }
        [
            position = 12224, 7200
        ]

        component pas_inductor L0b1 {
            inductance = "L0"
        }
        [
            position = 5184, 8944
            rotation = down
        ]

        component "core/Voltage Measurement" VDC_3 {
            execution_rate = "Tfast"
            sig_output = "True"
        }
        [
            position = 4304, 6752
            rotation = right
            size = 64, 32
        ]

        component gen_probe Q2 {
        }
        [
            position = 11680, 9008
            rotation = down
        ]

        component "core/Voltage Measurement" Vb {
            addr = "9"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 8048, 8256
            rotation = right
            scale = -1, 1
            size = 64, 32
        ]

        component "core/Voltage Measurement" Va {
            addr = "7"
            bw_limit = "True"
            execution_rate = "Tfast"
            frequency = "BW"
            sig_output = "True"
        }
        [
            position = 7984, 8192
            rotation = right
            scale = -1, 1
            size = 64, 32
        ]

        component Subsystem Subsystem1 {
            layout = dynamic
            component gen_gain Gain1 {
                gain = "L0"
            }
            [
                position = 8264, 8152
                scale = -1, 1
            ]

            component gen_sum Sum2 {
                signs = "-+"
            }
            [
                position = 8288, 8224
                rotation = down
            ]

            component gen_sum Sum6 {
            }
            [
                position = 8032, 8272
                scale = -1, 1
            ]

            component gen_pid_controller "PID controller2" {
                controller_type = "PI"
                enb_anti_windup_out = "True"
                enb_output_limit_out = "True"
                ki = "1e-1"
                kp = "0.015"
            }
            [
                position = 8200, 8224
                scale = -1, 1
            ]

            component gen_gain Gain2 {
                gain = "L0"
            }
            [
                position = 8280, 8344
                scale = -1, 1
            ]

            component gen_product Product1 {
            }
            [
                position = 8168, 8144
                scale = -1, 1
            ]

            component gen_sum Sum7 {
            }
            [
                position = 7760, 8232
                scale = -1, 1
            ]

            component gen_sum Sum5 {
                signs = "+-"
            }
            [
                position = 8024, 8104
                scale = -1, 1
            ]

            component gen_product Product4 {
                signs = "*/"
            }
            [
                position = 7904, 8280
                scale = -1, 1
            ]

            component gen_product Product2 {
            }
            [
                position = 8184, 8336
                scale = -1, 1
            ]

            component gen_gain Gain3 {
                gain = "[0.5]"
            }
            [
                position = 7976, 8376
                scale = -1, 1
            ]

            component gen_sum Sum3 {
            }
            [
                position = 7760, 8048
                scale = -1, 1
            ]

            component gen_product Product3 {
                signs = "*/"
            }
            [
                position = 7904, 8112
                scale = -1, 1
            ]

            component gen_pid_controller "PID controller3" {
                controller_type = "PI"
                enb_output_limit_out = "True"
                ki = "1e-1"
                kp = "0.015"
            }
            [
                position = 8192, 8040
                scale = -1, 1
            ]

            component gen_sum Sum8 {
                signs = "+-"
            }
            [
                position = 8312, 8040
                scale = -1, 1
            ]

            port Ud {
                label = "Ud"
                position = left:1
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7672, 8048
                rotation = down
            ]

            port Xi_d_meas {
                label = "Xi_d_meas"
                position = right:2
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8440, 8112
                rotation = down
            ]

            port Xi_q_ref {
                label = "Xi_q_ref"
                position = right:3
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8520, 8184
                rotation = down
            ]

            port Xi_d_ref {
                label = "x_di_ref"
                position = right:1
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8440, 8032
                rotation = down
            ]

            port Xi_q_meas {
                label = "Xi_q_meas"
                position = right:4
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 8520, 8232
                rotation = down
            ]

            port Uq {
                label = "Uq"
                position = left:2
                kind = sp
                direction =  in
                sp_type {
                    default = inherit
                    readonly = True
                }
            }
            [
                position = 7672, 8232
                rotation = down
            ]

            tag From25 {
                value = "w"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8288, 8304
                scale = -1, 1
                size = 60, 20
            ]

            tag From27 {
                value = "VDC1"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8056, 8376
                scale = -1, 1
                size = 60, 20
            ]

            tag From24 {
                value = "Ed"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8112, 8056
                scale = -1, 1
                size = 60, 20
            ]

            tag From23 {
                value = "w"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8272, 8112
                scale = -1, 1
                size = 60, 20
            ]

            tag From26 {
                value = "Eq"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8128, 8264
                scale = -1, 1
                size = 60, 20
            ]

            junction Junction145 sp
            [
                position = 8360, 8232
            ]

            junction Junction147 sp
            [
                position = 7944, 8288
            ]

            junction Junction148 sp
            [
                position = 8392, 8112
            ]

            connect Gain3.out Junction147 as Connection9
            connect Product4.out Sum7.in1 as Connection19
            connect Sum7.in "PID controller2.out" as Connection28
            connect Junction145 Xi_q_meas as Connection10
            connect From25 Product2.in as Connection2
            connect Sum2.in Junction145 as Connection21
            connect Sum7.out Uq as Connection29
            connect From26 Sum6.in as Connection3
            connect Ud Sum3.out as Connection30
            connect Sum2.in1 Xi_q_ref as Connection22
            connect From27 Gain3.in as Connection4
            connect Junction147 Product3.in1 as Connection13
            connect Sum5.in From24 as Connection23
            connect Gain1.in Junction145 as Connection5
            connect Sum5.in1 Product1.out as Connection24
            connect "PID controller2.in" Sum2.out as Connection16
            connect Gain1.out Product1.in1 as Connection6
            connect Product3.out Sum3.in1 as Connection17
            connect Sum5.out Product3.in as Connection25
            connect Product4.in1 Junction147 as Connection18
            connect From23 Product1.in as Connection1
            connect Sum6.in1 Product2.out as Connection26
            connect Gain2.out Product2.in1 as Connection8
            connect Sum6.out Product4.in as Connection27
            connect "PID controller3.out" Sum3.in as Connection32
            connect Sum8.out "PID controller3.in" as Connection34
            connect Xi_d_ref Sum8.in as Connection35
            connect Gain2.in Junction148 as Connection36
            connect Junction148 Xi_d_meas as Connection37
            [
                breakpoints = 8392, 8112
            ]
            connect Sum8.in1 Junction148 as Connection38
        }
        [
            position = 10256, 8192
            size = 96, 240
        ]

        component gen_digital_probe "LED 14" {
        }
        [
            position = 10416, 6144
        ]

        component gen_probe Eq2 {
        }
        [
            position = 10976, 6800
            rotation = down
        ]

        component gen_bus_join "Bus Join3" {
            inputs = "3"
        }
        [
            position = 9632, 7088
            scale = -1, 1
        ]

        component "core/Voltage RMS" Vbc_rms1 {
        }
        [
            position = 7120, 8992
            rotation = right
            size = 64, 32
        ]

        component gen_product Product1 {
            execution_rate = "Tfast"
            signs = "*/"
        }
        [
            position = 7552, 8928
        ]

        component src_constant Constant5 {
            execution_rate = "Tfast"
        }
        [
            position = 7488, 8992
        ]

        component gen_product Product2 {
            signs = "*/"
        }
        [
            position = 8448, 8176
        ]

        component src_constant Constant6 {
            execution_rate = "Tfast"
        }
        [
            position = 8384, 8240
        ]

        component "core/Voltage RMS" Vbc_rms {
        }
        [
            position = 8208, 8064
            rotation = right
            size = 64, 32
        ]

        tag Goto67 {
            value = "Eb4"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 4592, 10176
            scale = -1, 1
            size = 60, 20
        ]

        tag From39 {
            value = "Xi_a1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11920, 9056
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto24 {
            value = "Eb1"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 5728, 9152
            scale = -1, 1
            size = 60, 20
        ]

        tag From56 {
            value = "Xi_c2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11952, 6848
            scale = -1, 1
            size = 60, 20
        ]

        tag From70 {
            value = "Eq4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11152, 10048
            scale = -1, 1
            size = 60, 20
        ]

        tag From88 {
            value = "Xi_c4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11120, 10304
            scale = -1, 1
            size = 60, 20
        ]

        tag From6 {
            value = "Xi_b"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11232, 8192
            scale = -1, 1
            size = 60, 20
        ]

        tag From93 {
            value = "S1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12352, 7456
            size = 60, 20
        ]

        tag Goto19 {
            value = "Xi_a1"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 5184, 9120
            scale = -1, 1
            size = 60, 20
        ]

        tag From46 {
            value = "Ec2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11472, 7136
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto73 {
            value = "Pref3"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 10848, 6608
            scale = -1, 1
            size = 60, 20
        ]

        tag From69 {
            value = "Xi_b4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12064, 10032
            scale = -1, 1
            size = 60, 20
        ]

        tag From7 {
            value = "Xi_c"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11184, 8240
            scale = -1, 1
            size = 60, 20
        ]

        tag From20 {
            value = "Vc"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 13040, 8096
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto_P_bus {
            value = "P_bus"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 12672, 8032
            scale = -1, 1
        ]

        tag From84 {
            value = "Xi_b4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11168, 10272
            scale = -1, 1
            size = 60, 20
        ]

        tag From86 {
            value = "Ec4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12064, 9968
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto55 {
            value = "Xi_b4"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 4064, 10192
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto69 {
            value = "Eq4"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11264, 10256
            scale = -1, 1
            size = 60, 20
        ]

        tag From34 {
            value = "Xi_b1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11008, 9072
            scale = -1, 1
            size = 60, 20
        ]

        tag From18 {
            value = "Vb"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12960, 8064
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto63 {
            value = "Ea4"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 4592, 10112
            scale = -1, 1
            size = 60, 20
        ]

        tag From43 {
            value = "Ec1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11360, 9152
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto20 {
            value = "Ec1"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 5728, 9216
            scale = -1, 1
            size = 60, 20
        ]

        tag From71 {
            value = "Ec4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11504, 10352
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto15 {
            value = "Ib"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 7536, 8208
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto77 {
            value = "P1"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11808, 7968
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto12 {
            value = "Vc"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 7872, 8320
            scale = -1, 1
            size = 60, 20
        ]

        tag From17 {
            value = "Ib"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 13040, 8160
            scale = -1, 1
            size = 60, 20
        ]

        tag From24 {
            value = "Ec1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11984, 9024
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto42 {
            value = "VDC3"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 4384, 6752
            size = 60, 20
        ]

        tag From16 {
            value = "Ec"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12128, 8144
            scale = -1, 1
            size = 60, 20
        ]

        tag From32 {
            value = "Eq1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 10992, 8864
            scale = -1, 1
            size = 60, 20
        ]

        tag From51 {
            value = "wt2"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10064, 7232
            scale = -1, 1
            size = 25, 25
        ]

        tag From9 {
            value = "Eb"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11584, 8208
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto78 {
            value = "P2"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11696, 8864
            scale = -1, 1
            size = 60, 20
        ]

        tag From29 {
            value = "Eb1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11920, 8992
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto4 {
            value = "Ed"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11328, 8128
            scale = -1, 1
            size = 60, 20
        ]

        tag From44 {
            value = "Xi_a1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 10960, 9040
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto37 {
            value = "Eb2"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 5696, 6960
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto7 {
            value = "Xi_c"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 6288, 8272
            scale = -1, 1
            size = 60, 20
        ]

        tag From_P_bus {
            value = "P_bus"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 8160, 6424
        ]

        tag Goto83 {
            value = "S4"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11680, 9984
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto25 {
            value = "VDC2"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 4416, 8944
            size = 60, 20
        ]

        tag From28 {
            value = "wt1"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 9952, 9248
            scale = -1, 1
            size = 25, 25
        ]

        tag From81 {
            value = "Ea4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12064, 9904
            scale = -1, 1
            size = 60, 20
        ]

        tag From65 {
            value = "Eb2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11472, 7056
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto30 {
            value = "Xi_b1"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 5184, 9168
            scale = -1, 1
            size = 60, 20
        ]

        tag From57 {
            value = "Eq2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11088, 6832
            scale = -1, 1
            size = 60, 20
        ]

        tag From83 {
            value = "Ed4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11312, 10080
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto64 {
            value = "VDC4"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 3296, 9968
            size = 60, 20
        ]

        tag Goto61 {
            value = "Xi_c4"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 4064, 10224
            scale = -1, 1
            size = 60, 20
        ]

        tag From68 {
            value = "Eb4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12000, 9936
            scale = -1, 1
            size = 60, 20
        ]

        tag From23 {
            value = "modulator1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 4656, 8672
            size = 60, 20
        ]

        tag Goto6 {
            value = "Xi_b"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 6288, 8224
            scale = -1, 1
            size = 60, 20
        ]

        tag From40 {
            value = "Eb1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11360, 9088
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto54 {
            value = "modulator2"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 9536, 7088
            scale = -1, 1
            size = 60, 20
        ]

        tag From12 {
            value = "Xi_a"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12064, 8176
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto70 {
            value = "modulator4"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 9568, 10304
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto80 {
            value = "P3"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11728, 6592
            scale = -1, 1
            size = 60, 20
        ]

        tag From10 {
            value = "Ec"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11584, 8272
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto47 {
            value = "Ec2"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 5696, 7024
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto41 {
            value = "Xi_c2"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 5152, 7008
            scale = -1, 1
            size = 60, 20
        ]

        tag From5 {
            value = "Xi_a"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11184, 8160
            scale = -1, 1
            size = 60, 20
        ]

        tag From85 {
            value = "Xi_a4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11120, 10224
            scale = -1, 1
            size = 60, 20
        ]

        tag From31 {
            value = "Xi_c1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 10960, 9120
            scale = -1, 1
            size = 60, 20
        ]

        tag From87 {
            value = "Xi_c4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12000, 10064
            scale = -1, 1
            size = 60, 20
        ]

        tag From59 {
            value = "Xi_a2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11072, 7008
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto36 {
            value = "wt1"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 11040, 9248
            scale = -1, 1
            size = 25, 25
        ]

        tag From11 {
            value = "Xi_c"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12064, 8240
            scale = -1, 1
            size = 60, 20
        ]

        tag From21 {
            value = "Ic"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12960, 8192
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto44 {
            value = "Xi_b2"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 5152, 6960
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto51 {
            value = "Eq2"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11216, 7040
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto72 {
            value = "w4"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11264, 10304
            scale = -1, 1
            size = 60, 20
        ]

        tag From89 {
            value = "P1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11792, 7168
            size = 60, 20
        ]

        tag From78 {
            value = "wt4"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10112, 10448
            scale = -1, 1
            size = 25, 25
        ]

        tag Goto10 {
            value = "Ec"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 6816, 8288
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto5 {
            value = "Xi_a"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 6288, 8192
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto84 {
            value = "S3"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11648, 6768
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto18 {
            value = "VDC1"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 5520, 8016
            size = 60, 20
        ]

        tag From45 {
            value = "modulator2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 4608, 6464
            size = 60, 20
        ]

        tag From14 {
            value = "Eb"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12064, 8112
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto34 {
            value = "Eq1"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11104, 9056
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto33 {
            value = "w1"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11104, 9104
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto82 {
            value = "S2"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11600, 9024
            scale = -1, 1
            size = 60, 20
        ]

        tag From95 {
            value = "S3"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12352, 7568
            size = 60, 20
        ]

        tag Goto_Q_bus {
            value = "Q_bus"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 12560, 8080
            scale = -1, 1
        ]

        tag Goto50 {
            value = "w2"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11216, 7088
            scale = -1, 1
            size = 60, 20
        ]

        tag From96 {
            value = "S4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12352, 7616
            size = 60, 20
        ]

        tag From35 {
            value = "Ea1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11360, 9008
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto1 {
            value = "wt"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 11264, 8368
            scale = -1, 1
            size = 25, 25
        ]

        tag Goto8 {
            value = "Ea"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 6816, 8160
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto9 {
            value = "Eb"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 6816, 8224
            scale = -1, 1
            size = 60, 20
        ]

        tag From15 {
            value = "Ea"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12128, 8080
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto16 {
            value = "Ia"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 7536, 8160
            scale = -1, 1
            size = 60, 20
        ]

        tag From80 {
            value = "Eb4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11504, 10272
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto52 {
            value = "wt2"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 11152, 7216
            scale = -1, 1
            size = 25, 25
        ]

        tag Goto3 {
            value = "Eq"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11328, 8176
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto79 {
            value = "P4"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11760, 9792
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto2 {
            value = "modulator"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 9648, 8224
            scale = -1, 1
            size = 60, 20
        ]

        tag From50 {
            value = "Xi_b2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12032, 6816
            scale = -1, 1
            size = 60, 20
        ]

        tag From48 {
            value = "Ea2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12032, 6688
            scale = -1, 1
            size = 60, 20
        ]

        tag From60 {
            value = "Ec2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12032, 6752
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto32 {
            value = "Ed1"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11104, 9008
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto26 {
            value = "Xi_c1"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 5184, 9200
            scale = -1, 1
            size = 60, 20
        ]

        tag From2 {
            value = "modulator"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 5744, 7728
            size = 60, 20
        ]

        tag Goto81 {
            value = "S1"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11760, 8144
            scale = -1, 1
            size = 60, 20
        ]

        tag From3 {
            value = "Eq"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11216, 7984
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto68 {
            value = "Ed4"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11264, 10208
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto59 {
            value = "Xi_a4"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 4064, 10144
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto13 {
            value = "Va"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 7872, 8192
            scale = -1, 1
            size = 60, 20
        ]

        tag From55 {
            value = "Ed2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11264, 6864
            scale = -1, 1
            size = 60, 20
        ]

        tag From8 {
            value = "Ea"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11584, 8128
            scale = -1, 1
            size = 60, 20
        ]

        tag From1 {
            value = "wt"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10176, 8368
            scale = -1, 1
            size = 25, 25
        ]

        tag Goto76 {
            value = "Pref4"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 10864, 9824
            scale = -1, 1
            size = 60, 20
        ]

        tag From94 {
            value = "S2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12352, 7520
            size = 60, 20
        ]

        tag Goto74 {
            value = "Pref1"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 10960, 7760
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto75 {
            value = "Pref2"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 10736, 8656
            scale = -1, 1
            size = 60, 20
        ]

        tag From22 {
            value = "Ia"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12960, 8128
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto40 {
            value = "Ea2"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 5696, 6896
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto39 {
            value = "Xi_a2"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 5152, 6928
            scale = -1, 1
            size = 60, 20
        ]

        tag From41 {
            value = "Ed1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11152, 8896
            scale = -1, 1
            size = 60, 20
        ]

        tag From47 {
            value = "Ea2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11472, 6992
            scale = -1, 1
            size = 60, 20
        ]

        tag From66 {
            value = "Xi_b2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11120, 7056
            scale = -1, 1
            size = 60, 20
        ]

        tag From54 {
            value = "Eb2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11952, 6720
            scale = -1, 1
            size = 60, 20
        ]

        tag From19 {
            value = "Va"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 13040, 8032
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto31 {
            value = "Ea1"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 5728, 9088
            scale = -1, 1
            size = 60, 20
        ]

        tag From72 {
            value = "Ea4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11504, 10208
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto14 {
            value = "Ic"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 7536, 8240
            scale = -1, 1
            size = 60, 20
        ]

        tag From38 {
            value = "Xi_b1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11984, 9088
            scale = -1, 1
            size = 60, 20
        ]

        tag From92 {
            value = "P4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11792, 7328
            size = 60, 20
        ]

        tag From67 {
            value = "modulator4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 3520, 9680
            size = 60, 20
        ]

        tag Goto17 {
            value = "w"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11328, 8224
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto35 {
            value = "modulator1"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 9424, 9104
            scale = -1, 1
            size = 60, 20
        ]

        tag From64 {
            value = "Xi_a2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11952, 6784
            scale = -1, 1
            size = 60, 20
        ]

        tag From27 {
            value = "Ea1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11984, 8960
            scale = -1, 1
            size = 60, 20
        ]

        tag From52 {
            value = "Xi_c2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11072, 7088
            scale = -1, 1
            size = 60, 20
        ]

        tag From36 {
            value = "Xi_c1"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11920, 9120
            scale = -1, 1
            size = 60, 20
        ]

        tag From4 {
            value = "Ed"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11376, 8016
            scale = -1, 1
            size = 60, 20
        ]

        tag From_Q_bus {
            value = "Q_bus"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 8160, 6504
        ]

        tag Goto53 {
            value = "Ed2"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 11216, 6992
            scale = -1, 1
            size = 60, 20
        ]

        tag From90 {
            value = "P2"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11792, 7216
            size = 60, 20
        ]

        tag From76 {
            value = "Xi_a4"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12000, 10000
            scale = -1, 1
            size = 60, 20
        ]

        tag From91 {
            value = "P3"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 11792, 7280
            size = 60, 20
        ]

        tag Goto60 {
            value = "Ec4"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 4592, 10240
            scale = -1, 1
            size = 60, 20
        ]

        tag From13 {
            value = "Xi_b"
            scope = global
            kind = sp
            direction = out
        }
        [
            position = 12128, 8208
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto11 {
            value = "Vb"
            scope = global
            kind = sp
            direction = in
        }
        [
            position = 7872, 8256
            scale = -1, 1
            size = 60, 20
        ]

        tag Goto71 {
            value = "wt4"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 11200, 10432
            scale = -1, 1
            size = 37, 25
        ]

        junction Junction297 pe
        [
            position = 4480, 10064
        ]

        junction Junction279 sp
        [
            position = 10928, 6864
        ]

        junction Junction412 pe
        [
            position = 5664, 7280
        ]

        junction Junction348 sp
        [
            position = 10992, 10048
        ]

        junction Junction414 pe
        [
            position = 5872, 7312
        ]

        junction Junction384 sp
        [
            position = 11872, 8176
        ]

        junction Junction331 pe
        [
            position = 5952, 9872
        ]

        junction Junction277 sp
        [
            position = 10048, 7088
        ]

        junction Junction417 pe
        [
            position = 5504, 7312
        ]

        junction Junction272 sp
        [
            position = 10784, 7136
        ]

        junction Junction429 sp
        [
            position = 10896, 6704
        ]

        junction Junction286 pe
        [
            position = 7088, 6752
        ]

        junction Junction366 pe
        [
            position = 7248, 8016
        ]

        junction Junction165 pe
        [
            position = 4992, 8944
        ]

        junction Junction222 pe
        [
            position = 5536, 9392
        ]

        junction Junction274 sp
        [
            position = 11216, 7136
        ]

        junction Junction381 sp
        [
            position = 11728, 8944
        ]

        junction Junction282 pe
        [
            position = 7088, 6848
        ]

        junction Junction273 sp
        [
            position = 10784, 7008
        ]

        junction Junction268 sp
        [
            position = 10448, 6816
        ]

        junction Junction164 pe
        [
            position = 5536, 8944
        ]

        junction Junction229 pe
        [
            position = 7152, 7920
        ]

        junction Junction161 pe
        [
            position = 5616, 9040
        ]

        junction Junction185 sp
        [
            position = 10816, 8896
        ]

        junction Junction256 pe
        [
            position = 4960, 6656
        ]

        junction Junction313 pe
        [
            position = 4320, 9872
        ]

        junction Junction136 sp
        [
            position = 11040, 8016
        ]

        junction Junction234 pe
        [
            position = 5584, 6848
        ]

        junction Junction186 sp
        [
            position = 10192, 8976
        ]

        junction Junction193 sp
        [
            position = 9936, 9104
        ]

        junction Junction323 pe
        [
            position = 6032, 8848
        ]

        junction Junction127 pe
        [
            position = 6624, 8016
        ]

        junction Junction346 sp
        [
            position = 10080, 10240
        ]

        junction Junction431 sp
        [
            position = 10928, 9936
        ]

        junction Junction432 sp
        [
            position = 12784, 8032
        ]

        junction Junction352 sp
        [
            position = 11264, 10384
        ]

        junction Junction138 sp
        [
            position = 10560, 7952
        ]

        junction Junction416 pe
        [
            position = 5584, 7312
        ]

        junction Junction365 pe
        [
            position = 7344, 8112
        ]

        junction Junction230 pe
        [
            position = 7248, 8016
        ]

        junction Junction355 sp
        [
            position = 11088, 10048
        ]

        junction Junction142 sp
        [
            position = 11312, 8016
        ]

        junction Junction383 sp
        [
            position = 11776, 6672
        ]

        junction Junction275 sp
        [
            position = 10048, 7024
        ]

        junction Junction409 pe
        [
            position = 6928, 8528
        ]

        junction Junction150 pe
        [
            position = 5440, 8112
        ]

        junction Junction166 pe
        [
            position = 4992, 8848
        ]

        junction Junction367 pe
        [
            position = 7344, 7920
        ]

        junction Junction123 sp
        [
            position = 10896, 8160
        ]

        junction Junction354 sp
        [
            position = 11264, 10352
        ]

        junction Junction170 pe
        [
            position = 4992, 9040
        ]

        junction Junction130 pe
        [
            position = 6096, 8112
        ]

        junction Junction322 pe
        [
            position = 5984, 9040
        ]

        junction Junction411 pe
        [
            position = 7088, 8528
        ]

        junction Junction143 sp
        [
            position = 10464, 8224
        ]

        junction Junction157 pe
        [
            position = 5456, 8848
        ]

        junction Junction285 pe
        [
            position = 7088, 6752
        ]

        junction Junction333 pe
        [
            position = 5952, 10064
        ]

        junction Junction257 pe
        [
            position = 4960, 6848
        ]

        junction Junction189 sp
        [
            position = 10240, 9104
        ]

        junction Junction380 sp
        [
            position = 11872, 8064
        ]

        junction Junction402 pe
        [
            position = 6784, 8528
        ]

        junction Junction433 sp
        [
            position = 12672, 8080
        ]

        junction Junction289 pe
        [
            position = 7088, 6656
        ]

        junction Junction191 sp
        [
            position = 10672, 9040
        ]

        junction Junction195 sp
        [
            position = 11088, 8896
        ]

        junction Junction343 sp
        [
            position = 10336, 10160
        ]

        junction Junction126 pe
        [
            position = 6544, 7920
        ]

        junction Junction338 pe
        [
            position = 4784, 10384
        ]

        junction Junction350 sp
        [
            position = 10832, 10352
        ]

        junction Junction379 sp
        [
            position = 10928, 9936
        ]

        junction Junction270 sp
        [
            position = 10960, 6832
        ]

        junction Junction220 pe
        [
            position = 5840, 9392
        ]

        junction Junction188 sp
        [
            position = 10672, 9168
        ]

        junction Junction280 sp
        [
            position = 10304, 6944
        ]

        junction Junction196 sp
        [
            position = 11104, 9184
        ]

        junction Junction194 sp
        [
            position = 10928, 8864
        ]

        junction Junction300 pe
        [
            position = 4784, 9968
        ]

        junction Junction424 pe
        [
            position = 4560, 10384
        ]

        junction Junction324 pe
        [
            position = 6128, 8944
        ]

        junction Junction309 pe
        [
            position = 4704, 9872
        ]

        junction Junction321 pe
        [
            position = 5904, 8944
        ]

        junction Junction398 pe
        [
            position = 6624, 8944
        ]

        junction Junction430 sp
        [
            position = 10784, 8752
        ]

        junction Junction345 sp
        [
            position = 10080, 10304
        ]

        junction Junction141 sp
        [
            position = 11152, 7984
        ]

        junction Junction332 pe
        [
            position = 5952, 9968
        ]

        junction Junction128 pe
        [
            position = 6704, 8112
        ]

        junction Junction152 pe
        [
            position = 4336, 9040
        ]

        junction Junction426 pe
        [
            position = 4400, 10384
        ]

        junction Junction391 pe
        [
            position = 6624, 9392
        ]

        junction Junction221 pe
        [
            position = 5616, 9392
        ]

        junction Junction281 pe
        [
            position = 7152, 8112
        ]

        junction Junction318 pe
        [
            position = 5952, 9968
        ]

        junction Junction410 pe
        [
            position = 7008, 8528
        ]

        junction Junction393 pe
        [
            position = 6688, 9392
        ]

        junction Junction385 sp
        [
            position = 11728, 9056
        ]

        junction Junction251 pe
        [
            position = 5504, 6752
        ]

        junction Junction125 sp
        [
            position = 11328, 8272
        ]

        junction Junction342 sp
        [
            position = 10480, 10032
        ]

        junction Junction137 sp
        [
            position = 11072, 7984
        ]

        junction Junction306 pe
        [
            position = 3872, 9872
        ]

        junction Junction146 sp
        [
            position = 10160, 8224
        ]

        junction Junction135 pe
        [
            position = 7088, 8112
        ]

        junction Junction304 pe
        [
            position = 4864, 10064
        ]

        junction Junction307 pe
        [
            position = 3216, 10064
        ]

        junction Junction224 pe
        [
            position = 6624, 8528
        ]

        junction Junction320 pe
        [
            position = 5840, 8848
        ]

        junction Junction415 pe
        [
            position = 5808, 7312
        ]

        junction Junction421 pe
        [
            position = 8144, 8528
        ]

        junction Junction399 pe
        [
            position = 6688, 9040
        ]

        junction Junction403 pe
        [
            position = 7040, 8528
        ]

        junction Junction405 pe
        [
            position = 7456, 8528
        ]

        junction Junction219 pe
        [
            position = 5904, 9392
        ]

        junction Junction118 pe
        [
            position = 6096, 8016
        ]

        junction Junction122 sp
        [
            position = 11328, 8304
        ]

        junction Junction242 pe
        [
            position = 5952, 6848
        ]

        junction Junction326 pe
        [
            position = 5984, 9392
        ]

        junction Junction315 pe
        [
            position = 3872, 10064
        ]

        junction Junction139 pe
        [
            position = 5440, 7920
        ]

        junction Junction134 pe
        [
            position = 7008, 8016
        ]

        junction Junction397 pe
        [
            position = 6544, 8848
        ]

        junction Junction167 pe
        [
            position = 4336, 8848
        ]

        junction Junction312 pe
        [
            position = 4400, 9968
        ]

        junction Junction238 pe
        [
            position = 5872, 6752
        ]

        junction Junction124 sp
        [
            position = 10896, 8288
        ]

        junction Junction349 sp
        [
            position = 10832, 10224
        ]

        junction Junction92 pe
        [
            position = 7984, 7920
        ]

        junction Junction389 pe
        [
            position = 6544, 9392
        ]

        junction Junction337 pe
        [
            position = 4864, 10384
        ]

        junction Junction192 sp
        [
            position = 9936, 9040
        ]

        junction Junction298 pe
        [
            position = 3872, 9968
        ]

        junction Junction145 sp
        [
            position = 10160, 8160
        ]

        junction Junction413 pe
        [
            position = 5952, 7312
        ]

        junction Junction267 sp
        [
            position = 11216, 7168
        ]

        junction Junction325 pe
        [
            position = 6224, 9040
        ]

        junction Junction133 pe
        [
            position = 6928, 7920
        ]

        junction Junction344 sp
        [
            position = 10384, 10288
        ]

        junction Junction425 pe
        [
            position = 4480, 10384
        ]

        junction Junction373 sp
        [
            position = 10896, 6704
        ]

        junction Junction377 sp
        [
            position = 10784, 8752
        ]

        junction Junction197 sp
        [
            position = 10336, 8832
        ]

        junction Junction407 pe
        [
            position = 8048, 8528
        ]

        junction Junction356 sp
        [
            position = 12016, 7520
        ]

        junction Junction236 pe
        [
            position = 5808, 6656
        ]

        junction Junction386 sp
        [
            position = 11808, 10000
        ]

        junction Junction423 pe
        [
            position = 4704, 10384
        ]

        junction Junction252 pe
        [
            position = 4304, 6656
        ]

        junction Junction190 sp
        [
            position = 10848, 8864
        ]

        junction Junction254 pe
        [
            position = 4960, 6752
        ]

        junction Junction144 sp
        [
            position = 10416, 8096
        ]

        junction Junction314 pe
        [
            position = 3216, 9872
        ]

        junction Junction278 sp
        [
            position = 10352, 7072
        ]

        junction Junction330 pe
        [
            position = 6320, 9392
        ]

        junction Junction129 pe
        [
            position = 6096, 7920
        ]

        junction Junction187 sp
        [
            position = 11104, 9152
        ]

        junction Junction422 pe
        [
            position = 9296, 8208
        ]

        junction Junction351 sp
        [
            position = 10960, 10080
        ]

        junction Junction255 pe
        [
            position = 5424, 6656
        ]

        junction Junction400 sp
        [
            position = 12768, 8192
        ]

        junction Junction387 sp
        [
            position = 11760, 6784
        ]

        junction Junction269 sp
        [
            position = 11200, 6864
        ]

        junction Junction382 sp
        [
            position = 11808, 9888
        ]

        junction Junction250 pe
        [
            position = 4304, 6848
        ]

        junction Junction276 sp
        [
            position = 11024, 6832
        ]

        junction Junction347 sp
        [
            position = 11248, 10080
        ]

        junction Junction408 pe
        [
            position = 7984, 8528
        ]

        junction Junction434 sp
        [
            position = 10976, 7872
        ]

        junction Junction435 sp
        [
            position = 11056, 7872
        ]

        junction Junction396 pe
        [
            position = 7120, 9040
        ]

        junction Junction226 pe
        [
            position = 7120, 8944
        ]

        junction Junction93 pe
        [
            position = 8048, 8016
        ]

        junction Junction120 pe
        [
            position = 8128, 8112
        ]

        junction Junction420 pe
        [
            position = 8208, 8096
        ]

        junction Junction436 pe
        [
            position = 8200, 8016
        ]

        junction Junction437 pe
        [
            position = 8312, 8528
        ]

        junction Junction438 pe
        [
            position = 8312, 7920
        ]

        junction Junction439 pe
        [
            position = 7440, 8848
        ]

        junction Junction440 pe
        [
            position = 7152, 8848
        ]

        connect From11 S_meas.Ic as Connection21
        connect Vab2.p_node Junction256 as Connection669
        connect "Core Coupling 2.c_in" Junction366 as Connection1265
        [
            breakpoints = 7248, 7744; 7248, 8016
        ]
        connect Junction137 Current_ref.Eq as Connection88
        connect VDC2.p_node Junction167 as Connection288
        connect From76 S_meas3.Ia as Connection1131
        connect "Square Wave Source12.out" "LED 18.in" as Connection1434
        connect Q3.in S_meas2.Q as Connection803
        connect Xi_c2.n_node Junction234 as Connection677
        connect Goto69 PLL3.Eq as Connection1088
        connect Junction279 Current_ref2.Ed as Connection789
        connect From81 S_meas3.Va as Connection1128
        connect "Trigonometric function2.out" Phase2.in as Connection1439
        connect Xi_d_ref2.out "Signal switch6.in1" as Connection808
        connect "Core Coupling 3.d_out" Junction331 as Connection1056
        connect Junction272 Subsystem3.Xi_q_meas as Connection796
        connect Junction325 Rc1.p_node as Connection1037
        connect Junction250 "DC Meter3.P4" as Connection703
        [
            breakpoints = 4304, 6848
        ]
        connect squared_Vt1.Et_p2 Current_ref1.Et_p2 as Connection447
        connect Ib12.out "Power Meter1.ib" as Connection1394
        connect From9 PLL.Eb as Connection42
        connect "Square Wave Source13.out" "LED 15.in" as Connection1429
        connect Junction322 Junction161 as Connection1024
        [
            breakpoints = 5984, 9040
        ]
        connect Junction188 Current_abc_to_dq1.Iq as Connection438
        connect Rt0c1.n_node Junction161 as Connection342
        connect Goto64 VDC_4.out as Connection928
        connect Junction278 Subsystem3.Xi_q_ref as Connection793
        connect VDC3.n_node Junction250 as Connection651
        connect Junction134 Junction127 as Connection85
        connect Ra1.n_node Junction397 as Connection1400
        connect Junction373 Current_ref2.P_ref as Connection1642
        [
            breakpoints = 10896, 6704; 10896, 6720
        ]
        connect Junction324 Junction321 as Connection1030
        [
            breakpoints = 5904, 8944
        ]
        connect "Core Coupling 2.b_in" Junction281 as Connection886
        [
            breakpoints = 7152, 7520; 7152, 7744
        ]
        connect Rt0c1.p_node Cc1.p_node as Connection264
        [
            breakpoints = 5616, 9248; 5616, 9248
        ]
        connect Xi_d_ref_res2.in Junction280 as Connection779
        connect R0c.n_node L0c.n_node as Connection123
        connect Junction276 Junction270 as Connection786
        connect "Core Coupling 3.c_out" Junction332 as Connection1059
        connect Junction133 Junction229 as Connection611
        [
            breakpoints = 7152, 7840; 7152, 7840
        ]
        connect squared_Vt2.Ed Junction279 as Connection809
        connect Goto73 Junction373 as Connection1291
        connect Junction384 S_meas.S as Connection1338
        connect squared_Vt3.Eq Junction348 as Connection1158
        connect From23 "Bus Split2.in" as Connection289
        connect "Square Wave Source14.out" "LED 13.in" as Connection1427
        connect VDC3.p_node Junction252 as Connection674
        connect Uq2.in Junction277 as Connection823
        connect From57 Junction276 as Connection788
        connect Junction138 "Signal switch1.in2" as Connection89
        connect Junction220 Junction219 as Connection581
        connect squared_Vt1.Ed Junction185 as Connection453
        connect From32 Junction194 as Connection413
        connect Junction322 Junction325 as Connection1036
        [
            breakpoints = 5984, 9040; 6192, 9040
        ]
        connect From83 Junction347 as Connection1163
        connect From85 Current_abc_to_dq3.Ia as Connection1166
        connect Xi_c3.n_node Junction297 as Connection987
        connect Goto70 "Bus Join4.out" as Connection1162
        connect From59 Current_abc_to_dq2.Ia as Connection837
        connect Junction407 Junction421 as Connection1586
        [
            breakpoints = 8048, 8528; 8048, 8528; 8048, 8528
        ]
        connect Vab3.n_node Junction298 as Connection983
        connect "Core Coupling 3.b_out" Junction333 as Connection1062
        connect Junction381 S_meas1.P as Connection1323
        [
            breakpoints = 11728, 8944; 11728, 8944
        ]
        connect Vb12.out "Power Meter1.vb" as Connection1383
        [
            breakpoints = 7008, 9136
        ]
        connect Xi_d_ref4.out "Signal switch8.in1" as Connection1095
        connect Xi_b.n_node Junction127 as Connection173
        connect From78 "dq to abc3.wt" as Connection1160
        connect Uq4.in Junction345 as Connection1137
        connect Xi_d_ref_res4.in Junction343 as Connection1154
        connect Termination6.in "Bus Split5.out" as Connection1622
        connect Rb2.n_node Lb2.n_node as Connection649
        connect Junction139 "DC Meter1.P1" as Connection206
        connect VDC4.n_node Junction307 as Connection991
        connect Junction188 Subsystem2.Xi_q_meas as Connection414
        connect From12 S_meas.Ia as Connection22
        connect Rt0c.n_node Junction128 as Connection135
        connect From29 S_meas1.Vb as Connection387
        connect Junction222 Junction221 as Connection587
        connect Cb.n_node Junction224 as Connection596
        connect Lb3.p_node Igb_rms3.p_node as Connection1174
        connect Goto50 PLL2.w as Connection781
        connect Q_ref2.out Current_ref1.Q_ref as Connection428
        connect Eb2.n_node Junction414 as Connection1522
        connect Junction383 S_meas2.P as Connection1329
        [
            breakpoints = 11776, 6672
        ]
        connect Junction224 Junction402 as Connection1453
        [
            breakpoints = 6624, 8528; 6624, 8528
        ]
        connect "Three Phase Inverter3.InB" "Bus Split3.out1" as Connection673
        connect VDC_3.p_node Junction252 as Connection721
        connect Eb3.p_node Junction300 as Connection986
        connect Junction124 Subsystem1.Xi_q_meas as Connection76
        connect "Grid Simulator1.Phase A" "Core Coupling 4.d_in" as Connection1582
        connect Xi_b2.n_node Junction251 as Connection630
        connect Eb3.n_node Junction338 as Connection1076
        connect Cb1.n_node Junction222 as Connection586
        connect Ic12.out "Power Meter1.ic" as Connection1387
        [
            breakpoints = 7072, 9200; 7072, 9200
        ]
        connect From15 S_meas.Va as Connection25
        connect Junction338 Junction337 as Connection1077
        connect Ec.out Goto10 as Connection15
        connect From36 S_meas1.Ic as Connection391
        connect "Three Phase Inverter3.neg_out" "DC Meter3.P3" as Connection637
        connect Goto51 PLL2.Eq as Connection776
        connect Ec.p_node Junction135 as Connection16
        connect VDC_4.n_node Junction307 as Connection969
        connect L0a1.n_node R0a1.n_node as Connection331
        connect Junction125 PLL.wt as Connection77
        connect iq1.in Junction188 as Connection389
        connect Junction256 R0a2.p_node as Connection706
        connect Goto36 Junction196 as Connection429
        connect Cb2.n_node Junction417 as Connection1531
        connect wt_pll1.in Junction196 as Connection436
        connect Ec.n_node Junction411 as Connection1486
        connect Goto5 Xi_a.out as Connection55
        connect From16 S_meas.Vc as Connection26
        connect VDC_4.p_node Junction314 as Connection976
        connect Ec1.out Goto20 as Connection263
        connect Junction224 Ca.n_node as Connection1452
        [
            breakpoints = 6624, 8528; 6544, 8528
        ]
        connect Junction128 Junction135 as Connection79
        connect Junction344 Subsystem4.Xi_q_ref as Connection1161
        connect Goto52 Junction267 as Connection769
        connect "Grid Simulator1.Neutral" Junction422 as Connection1589
        connect Ec1.p_node Junction322 as Connection1023
        connect "Three Phase Inverter3.b_in" Junction254 as Connection658
        connect Xi_b3.out Goto55 as Connection999
        connect "DC Meter2.P2" Idc_link1.p_node as Connection339
        connect Junction126 Junction133 as Connection1499
        [
            breakpoints = 6544, 7920; 6544, 7920; 6544, 7920; 6688, 7920; 6768, 7920; 6816, 7920
        ]
        connect Xi_b2.out Goto44 as Connection718
        connect From17 S_meas_1.Ib as Connection27
        connect "Power Meter1.Qdc" Q12.in as Connection1443
        connect Ec1.n_node Junction326 as Connection1039
        connect Va.n_node Junction408 as Connection1473
        connect "DC Meter3.P2" Idc_link2.p_node as Connection701
        connect From88 Current_abc_to_dq3.Ic as Connection1092
        connect Junction337 "Core Coupling 3.a_out" as Connection1511
        [
            breakpoints = 4864, 10384; 4864, 10384; 5264, 10384; 5760, 10384; 5760, 10384; 5824, 10384; 5824, 10384; 5824, 10384; 5904, 10384; 5904, 10384; 6320, 10384
        ]
        connect iq2.in Junction272 as Connection766
        connect Junction410 Junction403 as Connection1478
        connect Junction350 Subsystem4.Xi_q_meas as Connection1126
        connect L0a.n_node R0a.n_node as Connection101
        connect Rb1.n_node Junction398 as Connection1403
        connect Sum2.out Stotal.in as Connection1336
        connect Junction432 P_bus.in as Connection1654
        [
            breakpoints = 12784, 8032
        ]
        connect "Signal switch3.in2" Junction197 as Connection460
        connect VDC.p_node Junction139 as Connection151
        connect Igc_rms1.p_node Junction399 as Connection1404
        connect Ia.p_node Junction367 as Connection1270
        connect Rc1.n_node Junction399 as Connection1406
        connect Junction145 Subsystem1.Ud as Connection96
        connect S_control_mode.out Junction138 as Connection138
        connect From51 "dq to abc2.wt" as Connection804
        connect Junction277 Subsystem3.Uq as Connection831
        [
            breakpoints = 10080, 7088; 10080, 7104
        ]
        connect "Bus Split3.out" "Three Phase Inverter3.InA" as Connection631
        connect Junction230 Junction134 as Connection615
        connect Junction286 Junction285 as Connection867
        connect Goto19 Xi_a1.out as Connection268
        connect From84 Current_abc_to_dq3.Ib as Connection1118
        connect Junction411 Junction403 as Connection1485
        connect Constant9.out "ModBus Device6.discrete_in" as Connection1668
        connect From46 PLL2.Ec as Connection811
        connect "Bus Join2.in1" "dq to abc1.b" as Connection425
        connect Junction409 Junction410 as Connection1477
        connect "Bus Split3.out2" "Three Phase Inverter3.InC" as Connection652
        connect Constant8.out "ModBus Device6.coil_in" as Connection1669
        connect Junction150 "DC Meter1.P4" as Connection213
        [
            breakpoints = 5440, 8112
        ]
        connect Vbc2.n_node Junction257 as Connection691
        connect Junction398 Vb12.p_node as Connection1402
        [
            breakpoints = 6624, 8944
        ]
        connect "Three Phase Inverter1.InB" "Bus Split1.out1" as Connection144
        connect Junction192 Subsystem2.Ud as Connection407
        connect Ia12.p_node Iga_rms1.n_node as Connection1368
        connect "Square Wave Source2.out" "LED 2.in" as Connection1415
        connect From94 Sum2.in1 as Connection1333
        connect Junction414 Junction413 as Connection1521
        connect L0a3.p_node Xi_a3.p_node as Connection945
        connect From41 Junction195 as Connection400
        connect From3 Junction141 as Connection36
        connect Vbc3.p_node Junction298 as Connection964
        connect Junction185 Current_ref1.Ed as Connection443
        connect "Core Coupling 3.c_in" Junction324 as Connection1031
        connect Igc_rms3.n_node Junction333 as Connection1170
        [
            breakpoints = 5904, 10064
        ]
        connect "Power Meter1.k_factor" "Trigonometric function1.in" as Connection1424
        connect Rt0a.p_node Ca.p_node as Connection130
        [
            breakpoints = 6544, 8320; 6544, 8320
        ]
        connect Eq1.in Junction194 as Connection454
        connect Junction413 Ec2.n_node as Connection1518
        [
            breakpoints = 5952, 7312; 5952, 7280
        ]
        connect Goto16 Ia.out as Connection47
        connect "dq to abc3.d" Junction346 as Connection1156
        connect P12.in "Power Meter1.Pdc" as Connection1388
        connect "Bus Split4.out" "Three Phase Inverter4.InA" as Connection933
        connect Q_bus.in Junction433 as Connection1667
        [
            breakpoints = 12672, 8144
        ]
        connect Pref4.in Junction379 as Connection1316
        connect Idc_link3.n_node "Three Phase Inverter4.pos_out" as Connection942
        connect Xi_q_ref_res2.in Junction278 as Connection815
        connect Xi_a1.n_node Junction157 as Connection301
        connect L0b.p_node Xi_b.p_node as Connection103
        connect Xi_d_ref_res.in Junction144 as Connection177
        connect Igc_rms2.n_node Junction282 as Connection1188
        [
            breakpoints = 7008, 6848
        ]
        connect Vab_rms2.n_node Junction285 as Connection863
        connect Goto4 PLL.Ed as Connection54
        connect Junction387 S_meas2.S as Connection1347
        connect Eq2.in Junction276 as Connection828
        connect Junction193 Subsystem2.Uq as Connection426
        [
            breakpoints = 9968, 9104; 9968, 9120
        ]
        connect "Bus Join2.in2" "dq to abc1.c" as Connection434
        connect Junction146 Subsystem1.Uq as Connection97
        [
            breakpoints = 10192, 8224; 10192, 8240
        ]
        connect P1.in Junction380 as Connection1319
        [
            breakpoints = 11856, 8064; 11840, 8064; 11856, 8064; 11856, 8064
        ]
        connect Vbc3.n_node Junction315 as Connection915
        connect From52 Current_abc_to_dq2.Ic as Connection822
        connect Rt0c3.n_node Junction297 as Connection961
        connect From69 S_meas3.Ib as Connection1143
        connect Goto17 PLL.w as Connection48
        connect L0b3.p_node Xi_b3.p_node as Connection952
        connect Goto39 Xi_a2.out as Connection681
        [
            breakpoints = 5248, 6912; 5248, 6912
        ]
        connect S_control_mode1.out Junction197 as Connection394
        connect Vb12.n_node Junction391 as Connection1360
        connect Junction195 Junction185 as Connection390
        connect VDC.n_node Junction150 as Connection212
        connect "Three Phase Inverter1.neg_out" "DC Meter1.P3" as Connection208
        connect "Signal switch4.out" Junction186 as Connection415
        connect Junction330 Junction326 as Connection1052
        connect "Square Wave Source20.out" "LED 19.in" as Connection1431
        connect From10 PLL.Ec as Connection20
        connect Goto80 Junction383 as Connection1330
        connect gnd2.node Ground2.n_node as Connection1596
        connect From56 S_meas2.Ic as Connection777
        connect "dq to abc1.d" Junction192 as Connection406
        connect "Bus Split4.out2" "Three Phase Inverter4.InC" as Connection970
        connect L0b1.p_node Xi_b1.p_node as Connection335
        connect R0b1.n_node L0b1.n_node as Connection283
        connect Iga_rms.n_node Junction92 as Connection65
        connect Junction152 "DC Meter2.P4" as Connection292
        [
            breakpoints = 4336, 9040
        ]
        connect Junction194 Junction190 as Connection404
        connect S_control_mode2.out Junction268 as Connection805
        connect squared_Vt3.Et_p2 Current_ref3.Et_p2 as Connection1150
        connect Junction355 Junction348 as Connection1099
        connect Igc_rms3.p_node Lc3.p_node as Connection1175
        connect From43 PLL1.Ec as Connection383
        connect Eq4.in Junction355 as Connection1119
        connect VDC1.p_node Junction139 as Connection153
        connect "Three Phase Inverter1.b_in" Junction118 as Connection145
        connect Goto18 VDC.out as Connection49
        connect "Signal switch4.in" Current_ref1.Xi_rd as Connection412
        [
            breakpoints = 10480, 8960; 10480, 8800
        ]
        connect "Bus Join3.in1" "dq to abc2.b" as Connection774
        connect Junction252 "DC Meter3.P1" as Connection683
        connect pf4.in S_meas3.pf as Connection1090
        connect C.out "Three Phase Inverter1.En" as Connection6
        connect Vab_rms3.p_node Junction331 as Connection1054
        connect Junction326 Junction219 as Connection1040
        [
            breakpoints = 5984, 9392
        ]
        connect Q2.in S_meas1.Q as Connection396
        connect Current_abc_to_dq2.wt Junction274 as Connection821
        connect From47 PLL2.Ea as Connection832
        connect Rt0c3.p_node Cc3.p_node as Connection962
        [
            breakpoints = 4480, 10272; 4480, 10272
        ]
        connect Goto2 "Bus Join1.out" as Connection51
        connect Vbc.p_node Junction118 as Connection165
        connect Q_ref4.out Current_ref3.Q_ref as Connection1140
        connect Xi_a2.n_node Junction255 as Connection624
        connect Junction365 Junction281 as Connection1263
        [
            breakpoints = 7344, 8112; 7344, 8112; 7344, 8112; 7152, 8112
        ]
        connect C1.out "Three Phase Inverter2.En" as Connection305
        connect "Signal switch2.out" Junction143 as Connection143
        connect P3.in Junction383 as Connection1328
        [
            breakpoints = 11760, 6672; 11744, 6672; 11760, 6672; 11760, 6672; 11760, 6672
        ]
        connect Rb1.p_node Junction324 as Connection1029
        [
            breakpoints = 6256, 8944
        ]
        connect "Square Wave Source3.out" "LED 3.in" as Connection1416
        connect Junction164 Junction321 as Connection1020
        [
            breakpoints = 5536, 8944
        ]
        connect Vab.p_node Junction129 as Connection160
        connect Goto33 PLL1.w as Connection419
        connect "Signal switch5.in2" Junction268 as Connection792
        connect From95 Sum2.in2 as Connection1334
        connect Xi_q_ref2.out "Signal switch5.in1" as Connection799
        connect From1 "dq to abc.wt" as Connection19
        connect VDC1.n_node Junction150 as Connection214
        connect iq4.in Junction350 as Connection1144
        connect Goto81 Junction384 as Connection1339
        connect P2.in Junction381 as Connection1322
        [
            breakpoints = 11712, 8944; 11696, 8944; 11712, 8944; 11712, 8944
        ]
        connect Current_abc_to_dq3.Id Junction349 as Connection1121
        connect Pref_in.out Junction356 as Connection1195
        connect From34 Current_abc_to_dq1.Ib as Connection430
        connect "Core Coupling 2.a_in" Junction409 as Connection1474
        connect From86 S_meas3.Vc as Connection1112
        connect Junction273 Subsystem3.Xi_d_meas as Connection765
        connect Goto34 PLL1.Eq as Connection444
        connect R0c1.n_node L0c1.n_node as Connection256
        connect "Signal switch7.out" Junction344 as Connection1152
        connect From91 Sum1.in2 as Connection1212
        [
            breakpoints = 11856, 7280; 11856, 7200; 12080, 7200
        ]
        connect squared_Vt3.Ed Junction351 as Connection1111
        connect id.in Junction123 as Connection186
        connect From24 S_meas1.Vc as Connection437
        connect Junction343 Subsystem4.Xi_d_ref as Connection1109
        connect "Bus Split1.out" "Three Phase Inverter1.InA" as Connection5
        connect From8 PLL.Ea as Connection41
        connect "Grid Simulator1.Phase C" "Core Coupling 4.b_in" as Connection1578
        connect Junction400 S_meas_1.pf as Connection1441
        connect Vc12.n_node Junction393 as Connection1366
        connect Igc_rms1.n_node Ic12.p_node as Connection1378
        connect VDC4.p_node Junction314 as Connection935
        connect Xi_b1.out Goto30 as Connection319
        connect Goto32 PLL1.Ed as Connection410
        connect Ud.in Junction145 as Connection149
        connect Rb2.p_node Junction238 as Connection734
        [
            breakpoints = 6128, 6752
        ]
        connect "Square Wave Source9.out" "LED 9.in" as Connection1422
        connect Vab2.n_node Junction254 as Connection728
        connect Q4.in S_meas3.Q as Connection1139
        connect Junction236 Ra2.p_node as Connection730
        [
            breakpoints = 5808, 6656; 6032, 6656
        ]
        connect Xi_d_ref.out "Signal switch1.in1" as Connection176
        connect "ModBus Device6.holding_in" "Bus Join5.out" as Connection1678
        connect squared_Vt1.Eq Junction190 as Connection388
        connect VDC_2.n_node Junction152 as Connection306
        connect Igb_rms3.n_node Junction318 as Connection1171
        [
            breakpoints = 5824, 9968; 5824, 9968
        ]
        connect Junction187 PLL1.wt as Connection446
        connect Goto42 VDC_3.out as Connection667
        connect "Signal switch8.out" Junction343 as Connection1101
        connect Xi_a.n_node Junction126 as Connection171
        connect From96 Sum2.in3 as Connection1335
        connect Goto67 Eb3.out as Connection953
        connect "Bus Split1.out2" "Three Phase Inverter1.InC" as Connection4
        connect Junction136 Current_ref.Ed as Connection87
        connect id4.in Junction349 as Connection1165
        connect L0a.p_node Xi_a.p_node as Connection102
        connect R0c2.n_node L0c2.n_node as Connection663
        connect Junction274 PLL2.wt as Connection767
        connect Junction382 S_meas3.P as Connection1326
        [
            breakpoints = 11808, 9888
        ]
        connect La2.p_node Iga_rms2.p_node as Connection1183
        connect Ud1.in Junction192 as Connection440
        connect Junction197 "Signal switch4.in2" as Connection432
        connect P4.in Junction382 as Connection1325
        [
            breakpoints = 11792, 9888; 11776, 9888; 11792, 9888; 11792, 9888; 11808, 9888
        ]
        connect Sum2.in From93 as Connection1332
        connect Ib.p_node Junction366 as Connection1267
        connect Ib12.p_node Igb_rms1.n_node as Connection1374
        connect Rt0b2.n_node Junction251 as Connection695
        connect "Three Phase Inverter4.a_in" Junction306 as Connection949
        connect From27 S_meas1.Va as Connection424
        connect Ic.p_node Junction365 as Connection1264
        connect Rb3.n_node Lb3.n_node as Connection954
        connect Ud2.in Junction275 as Connection830
        connect Xi_c1.n_node Junction161 as Connection311
        connect "Signal switch8.in" Current_ref3.Xi_rd as Connection1091
        [
            breakpoints = 10640, 10144; 10640, 9984
        ]
        connect squared_Vt.Ed Junction136 as Connection191
        connect From80 PLL3.Eb as Connection1093
        connect Junction403 Junction402 as Connection1457
        connect Junction425 Junction424 as Connection1609
        connect From20 S_meas_1.Vc as Connection31
        connect Junction320 Ea1.p_node as Connection1018
        [
            breakpoints = 5840, 8848; 5840, 8848
        ]
        connect Junction402 Cc.n_node as Connection1454
        [
            breakpoints = 6784, 8528; 6784, 8400
        ]
        connect R0b3.p_node Junction298 as Connection931
        connect "Square Wave Source1.out" "LED 1.in" as Connection1414
        connect From35 PLL1.Ea as Connection405
        connect "Core Coupling 3.d_in" Junction323 as Connection1028
        connect Current_abc_to_dq.wt Junction125 as Connection10
        connect "Three Phase Inverter1.a_in" Junction129 as Connection146
        connect From7 Current_abc_to_dq.Ic as Connection40
        connect Junction415 Junction414 as Connection1524
        connect Cb3.n_node Junction426 as Connection1613
        connect Xi_q_ref1.out "Signal switch3.in1" as Connection449
        connect Goto53 PLL2.Ed as Connection760
        connect L0c.p_node Xi_c.p_node as Connection104
        connect Junction348 Current_ref3.Eq as Connection1145
        connect C2.out "Three Phase Inverter3.En" as Connection705
        connect Ec2.out Goto47 as Connection654
        connect Iga_rms1.p_node Junction397 as Connection1398
        connect "dq to abc1.q" Junction193 as Connection398
        connect "Three Phase Inverter1.c_in" Junction130 as Connection147
        connect "Three Phase Inverter3.a_in" Junction256 as Connection655
        connect Junction389 Junction330 as Connection1353
        connect "Three Phase Inverter2.InB" "Bus Split2.out1" as Connection322
        connect Ec2.p_node Junction242 as Connection661
        connect Goto25 VDC_2.out as Connection262
        connect Junction166 R0a1.p_node as Connection298
        connect pf_bus.in Junction400 as Connection1440
        connect Xi_b3.n_node Junction312 as Connection990
        connect "Bus Join3.in" "dq to abc2.a" as Connection780
        connect "dq to abc2.d" Junction275 as Connection764
        connect Junction257 R0c2.p_node as Connection665
        connect gnd3.node Ground1.n_node as Connection1594
        connect C3.out "Three Phase Inverter4.En" as Connection975
        connect Junction350 Current_abc_to_dq3.Iq as Connection1110
        connect Ec3.out Goto60 as Connection958
        connect Vab_rms3.n_node Junction332 as Connection1057
        connect Junction416 Junction415 as Connection1527
        connect Junction186 Subsystem2.Xi_d_ref as Connection397
        connect From18 S_meas_1.Vb as Connection28
        connect Vbc_rms2.n_node Junction282 as Connection853
        connect "Signal switch5.in" Current_ref2.Xi_rq as Connection834
        [
            breakpoints = 10648, 7056; 10648, 6896
        ]
        connect "Three Phase Inverter2.neg_out" "DC Meter2.P3" as Connection300
        connect "Square Wave Source4.out" "LED 4.in" as Connection1417
        connect Ib.out Goto15 as Connection59
        connect Ec3.p_node Junction304 as Connection996
        connect S1.in Junction384 as Connection1337
        connect Junction399 Vc12.p_node as Connection1405
        [
            breakpoints = 6688, 9040
        ]
        connect Junction346 Subsystem4.Ud as Connection1098
        connect From48 S_meas2.Va as Connection791
        connect Xi_c.out Goto7 as Connection174
        connect Junction417 Junction416 as Connection1530
        connect "Bus Split5.in" "ModBus Device6.coil_out" as Connection1675
        connect "DC Meter4.P2" Idc_link3.p_node as Connection984
        connect Ec3.n_node Junction337 as Connection1073
        connect Iga_rms3.p_node La3.p_node as Connection1173
        connect From14 S_meas.Vb as Connection24
        connect Ca1.n_node Junction222 as Connection588
        connect Goto54 "Bus Join3.out" as Connection838
        connect Junction424 Junction423 as Connection1606
        connect From64 S_meas2.Ia as Connection802
        connect "Three Phase Inverter2.b_in" Junction165 as Connection293
        connect Ed.in Junction142 as Connection17
        connect Xi_q_ref_res4.in Junction344 as Connection1096
        connect L0c1.p_node Xi_c1.p_node as Connection336
        connect Goto61 Xi_c3.out as Connection1436
        connect Pref_out.in Junction356 as Connection1197
        connect Junction391 Junction389 as Connection1359
        connect Va.p_node Junction92 as Connection157
        connect Junction122 Junction125 as Connection73
        connect R0b2.p_node Junction254 as Connection708
        connect Ed1.in Junction195 as Connection461
        connect "Bus Join3.in2" "dq to abc2.c" as Connection761
        connect Ea.p_node Junction133 as Connection12
        connect Junction315 R0c3.p_node as Connection924
        connect Junction342 "Signal switch8.in2" as Connection1148
        connect Vb.n_node Junction407 as Connection1470
        connect "Power Meter1.Qac" Termination4.in as Connection1391
        connect S_control_mode4.out Junction342 as Connection1123
        connect Vbc_rms2.p_node Junction286 as Connection866
        connect Current_abc_to_dq1.wt Junction187 as Connection399
        connect Cc1.n_node Junction221 as Connection583
        connect "dq to abc.d" Junction145 as Connection180
        connect "Square Wave Source5.out" "LED 5.in" as Connection1418
        connect Junction267 Junction274 as Connection784
        connect From5 Current_abc_to_dq.Ia as Connection38
        connect Rt0a1.n_node Junction157 as Connection1500
        [
            breakpoints = 5456, 8848
        ]
        connect Junction229 "Core Coupling 1.d_in" as Connection1483
        [
            breakpoints = 7152, 7920; 7088, 7920
        ]
        connect Ca2.n_node Junction417 as Connection1529
        connect Ed2.in Junction269 as Connection770
        connect "Signal switch5.out" Junction278 as Connection812
        connect Q_ref3.out Current_ref2.Q_ref as Connection801
        connect Junction421 Vc.n_node as Connection1587
        [
            breakpoints = 8144, 8528; 8144, 8528; 8128, 8528
        ]
        connect "Three Phase Inverter3.c_in" Junction257 as Connection680
        connect Junction289 "Core Coupling 2.d_out" as Connection881
        connect Junction393 Junction391 as Connection1365
        connect Ea.n_node Junction409 as Connection1476
        connect squared_Vt.Et_p2 Current_ref.Et_p2 as Connection190
        connect Junction338 Junction423 as Connection1602
        [
            breakpoints = 4784, 10384
        ]
        connect Junction423 Ea3.n_node as Connection1603
        [
            breakpoints = 4704, 10384
        ]
        connect Junction129 R0a.p_node as Connection80
        connect Junction426 Junction425 as Connection1612
        connect Ed4.in Junction347 as Connection1089
        connect Goto3 PLL.Eq as Connection53
        connect "Signal switch2.in2" Junction138 as Connection142
        connect From_P_bus "Bus Join5.in" as Connection1657
        connect From44 Current_abc_to_dq1.Ia as Connection439
        connect "Bus Join4.in1" "dq to abc3.b" as Connection1146
        connect Junction285 "Core Coupling 2.c_out" as Connection883
        connect From19 S_meas_1.Va as Connection29
        connect Va12.n_node Junction389 as Connection1354
        connect From54 S_meas2.Vb as Connection820
        connect R0b2.n_node L0b2.n_node as Connection626
        connect Junction297 Junction304 as Connection943
        connect Cc2.n_node Junction416 as Connection1528
        connect holding_out1.in "ModBus Device6.holding_out" as Connection1676
        connect S_meas_1.P Junction432 as Connection1653
        connect Vbc1.p_node Junction165 as Connection266
        connect Eq.in Junction141 as Connection18
        connect "Signal switch6.out" Junction280 as Connection835
        connect Rt0b1.n_node Junction164 as Connection327
        connect Ea1.n_node Junction220 as Connection580
        connect Vab3.p_node Junction306 as Connection966
        connect Xi_c.n_node Junction128 as Connection175
        connect "dq to abc2.q" Junction277 as Connection810
        connect "Square Wave Source6.out" "LED 6.in" as Connection1419
        connect Current_abc_to_dq1.Id Junction191 as Connection421
        connect Junction229 Junction367 as Connection1268
        [
            breakpoints = 7152, 7920; 7152, 7920
        ]
        connect Junction356 Termination1.in as Connection1196
        [
            breakpoints = 12032, 7520
        ]
        connect Ia12.out "Power Meter1.ia" as Connection1385
        [
            breakpoints = 7088, 8832; 7088, 9168
        ]
        connect "Three Phase Inverter4.InB" "Bus Split4.out1" as Connection959
        connect Junction189 Subsystem2.Xi_q_ref as Connection452
        connect Igb_rms1.p_node Junction398 as Connection1401
        connect "Signal switch1.out" Junction144 as Connection140
        connect Cc3.n_node Junction425 as Connection1610
        connect L0a2.n_node R0a2.n_node as Connection639
        connect Junction234 Junction242 as Connection629
        connect Junction407 Junction408 as Connection1503
        [
            breakpoints = 8048, 8528; 8032, 8528
        ]
        connect id1.in Junction191 as Connection385
        connect Junction345 Subsystem4.Uq as Connection1136
        [
            breakpoints = 10112, 10304; 10112, 10320
        ]
        connect Goto68 PLL3.Ed as Connection1132
        connect Goto71 Junction352 as Connection1094
        connect Ground2.p_node Junction422 as Connection1597
        connect squared_Vt2.Et_p2 Current_ref2.Et_p2 as Connection807
        connect "ModBus Device6.reg_in" "Input Register IP.out" as Connection1679
        connect "DC Meter1.P2" Idc_link.p_node as Connection207
        connect Junction380 S_meas.P as Connection1320
        [
            breakpoints = 11872, 8064; 11872, 8064
        ]
        connect Junction236 Junction255 as Connection1502
        [
            breakpoints = 5808, 6656; 5696, 6656; 5680, 6656; 5696, 6656; 5424, 6656; 5424, 6656
        ]
        connect Xi_a3.n_node Junction313 as Connection978
        connect Junction323 Junction320 as Connection1027
        connect Xi_b.out Goto6 as Connection172
        connect S2.in Junction385 as Connection1340
        connect Eb2.p_node Junction238 as Connection694
        connect Xi_d_ref1.out "Signal switch4.in1" as Connection422
        connect Goto40 Ea2.out as Connection648
        connect Junction306 R0a3.p_node as Connection967
        connect Rt0c.p_node Cc.p_node as Connection134
        [
            breakpoints = 6704, 8320; 6704, 8320
        ]
        connect Xi_q_ref4.out "Signal switch7.in1" as Connection1114
        connect From_Q_bus "Bus Join5.in1" as Connection1663
        [
            breakpoints = 8208, 6472
        ]
        connect "Core Coupling 3.b_in" Junction325 as Connection1038
        connect Vab1.n_node Junction165 as Connection330
        connect Ud4.in Junction346 as Connection1129
        connect "Signal switch3.out" Junction189 as Connection457
        connect From39 S_meas1.Ia as Connection392
        connect From66 Current_abc_to_dq2.Ib as Connection818
        connect Junction408 Junction405 as Connection1472
        connect Current_abc_to_dq3.wt Junction354 as Connection1157
        [
            breakpoints = 11040, 10288; 11264, 10288
        ]
        connect R0b.p_node Junction118 as Connection121
        connect R0c3.n_node L0c3.n_node as Connection971
        connect Junction309 Junction313 as Connection1447
        [
            breakpoints = 4704, 9872; 4608, 9872; 4592, 9872; 4320, 9872
        ]
        connect Idc_link2.n_node "Three Phase Inverter3.pos_out" as Connection697
        connect Xi_d_ref_res1.in Junction186 as Connection420
        connect From90 Sum1.in1 as Connection1331
        [
            breakpoints = 11840, 7184; 12080, 7184
        ]
        connect Ic.out Goto14 as Connection62
        connect "Core Coupling 2.a_out" Junction413 as Connection1517
        [
            breakpoints = 7008, 7312; 6928, 7312; 6848, 7312
        ]
        connect VDC2.n_node Junction152 as Connection341
        connect P_ref2.P_ref Junction430 as Connection1639
        connect Goto84 Junction387 as Connection1348
        [
            breakpoints = 11680, 6768; 11696, 6768
        ]
        connect Junction332 Junction318 as Connection1058
        connect pf1.in S_meas.pf as Connection188
        connect Junction238 Junction251 as Connection638
        connect Rt0a2.p_node Ca2.p_node as Connection688
        [
            breakpoints = 5424, 7056; 5424, 7056
        ]
        connect From31 Current_abc_to_dq1.Ic as Connection395
        connect "Core Coupling 3.a_in" Junction330 as Connection1053
        connect Junction422 "Core Coupling 4.a_in" as Connection1590
        connect From92 Sum1.in3 as Connection1213
        [
            breakpoints = 11888, 7328; 11888, 7216
        ]
        connect Junction275 Subsystem3.Ud as Connection836
        connect "Square Wave Source10.out" "LED 10.in" as Connection1423
        connect Junction331 Iga_rms3.n_node as Connection1172
        [
            breakpoints = 5952, 9872; 5760, 9872; 5760, 9872
        ]
        connect Junction307 "DC Meter4.P4" as Connection982
        [
            breakpoints = 3216, 10064
        ]
        connect id2.in Junction273 as Connection819
        connect "dq to abc.q" Junction146 as Connection181
        connect La2.n_node Ra2.n_node as Connection656
        connect "Signal switch3.in" Current_ref1.Xi_rq as Connection458
        [
            breakpoints = 10544, 8928
        ]
        connect Ra1.p_node Junction323 as Connection1026
        connect Uq.in Junction146 as Connection150
        connect R0b.n_node L0b.n_node as Connection122
        connect From28 "dq to abc1.wt" as Connection417
        connect Goto78 Junction381 as Connection1324
        connect "Square Wave Source11.out" "LED 16.in" as Connection1433
        connect Goto72 PLL3.w as Connection1122
        connect Uq1.in Junction193 as Connection451
        connect "Power Meter1.apparent" Termination5.in as Connection1392
        connect Ic.n_node Igc_rms.p_node as Connection63
        connect squared_Vt2.Eq Junction270 as Connection785
        connect La3.n_node Ra3.n_node as Connection925
        connect Goto63 Ea3.out as Connection937
        connect From6 Current_abc_to_dq.Ib as Connection39
        connect From13 S_meas.Ib as Connection23
        connect P_ref4.P_ref Junction431 as Connection1647
        connect "Core Coupling 1.b_in" Junction365 as Connection1262
        connect VDC_2.p_node Junction167 as Connection282
        connect Rt0b2.p_node Cb2.p_node as Connection725
        [
            breakpoints = 5504, 7056; 5504, 7056
        ]
        connect Rt0b3.n_node Junction312 as Connection948
        connect From87 S_meas3.Ic as Connection1133
        connect Junction270 Current_ref2.Eq as Connection826
        connect Xi_b1.n_node Junction164 as Connection287
        connect squared_Vt.Eq Junction137 as Connection192
        connect Rt0b3.p_node Cb3.p_node as Connection998
        [
            breakpoints = 4400, 10272; 4400, 10272
        ]
        connect "Three Phase Inverter4.c_in" Junction315 as Connection963
        connect Q_ref1.out Current_ref.Q_ref as Connection228
        connect wt_pll2.in Junction267 as Connection795
        connect Xi_q_ref.out "Signal switch2.in1" as Connection178
        connect Junction221 Junction220 as Connection584
        connect Vc12.out "Power Meter1.vc" as Connection1384
        [
            breakpoints = 7024, 9152
        ]
        connect From72 PLL3.Ea as Connection1120
        connect "Grid Simulator1.Phase B" "Core Coupling 4.c_in" as Connection1580
        connect Xi_c2.out Goto41 as Connection720
        connect Junction379 Junction431 as Connection1645
        connect VDC_3.n_node Junction250 as Connection726
        connect From89 Sum1.in as Connection1201
        connect "Trigonometric function1.out" Phase1.in as Connection1425
        connect Junction282 "Core Coupling 2.b_out" as Connection885
        [
            breakpoints = 7152, 6848; 7152, 7488
        ]
        connect From21 S_meas_1.Ic as Connection32
        connect Rt0a2.n_node Junction255 as Connection643
        connect Vab1.p_node Junction166 as Connection258
        connect Goto35 "Bus Join2.out" as Connection433
        connect "Signal switch7.in" Current_ref3.Xi_rq as Connection1159
        [
            breakpoints = 10688, 10112
        ]
        connect R0b3.n_node L0b3.n_node as Connection960
        connect Junction272 Current_abc_to_dq2.Iq as Connection773
        connect iq.in Junction124 as Connection187
        connect "Core Coupling 1.a_in" Junction405 as Connection1464
        connect Current_abc_to_dq.Id Junction123 as Connection9
        connect Junction130 R0c.p_node as Connection81
        connect Junction321 Eb1.p_node as Connection1021
        [
            breakpoints = 5904, 8944
        ]
        connect Junction280 Subsystem3.Xi_d_ref as Connection778
        connect Ib.n_node Igb_rms.p_node as Connection60
        connect Vbc.n_node Junction130 as Connection166
        connect Junction405 Junction411 as Connection1484
        connect wt_pll.in Junction122 as Connection193
        connect From60 S_meas2.Vc as Connection827
        connect From22 S_meas_1.Ia as Connection33
        connect Goto75 Junction377 as Connection1311
        connect Rb3.p_node Junction300 as Connection979
        [
            breakpoints = 5024, 9968
        ]
        connect "Trigonometric function2.in" Junction400 as Connection1442
        connect Idc_link.n_node "Three Phase Inverter1.pos_out" as Connection64
        connect wt_pll4.in Junction352 as Connection1134
        connect Ia.n_node Iga_rms.p_node as Connection58
        connect Junction349 Subsystem4.Xi_d_meas as Connection1108
        [
            breakpoints = 10832, 10224; 10240, 10224
        ]
        connect "Bus Join1.in2" "dq to abc.c" as Connection1
        connect Junction281 Junction135 as Connection851
        [
            breakpoints = 7088, 8112
        ]
        connect Xi_q_ref_res.in Junction143 as Connection179
        connect Goto59 Xi_a3.out as Connection950
        [
            breakpoints = 4160, 10128; 4160, 10128
        ]
        connect Ground1.p_node Junction424 as Connection1605
        connect From67 "Bus Split4.in" as Connection916
        connect Constant7.out V3.in as Connection1413
        connect Ea2.p_node Junction236 as Connection659
        connect Rc2.n_node Lc2.n_node as Connection668
        connect Junction366 Junction230 as Connection1266
        [
            breakpoints = 7248, 8016; 7248, 8016
        ]
        connect From45 "Bus Split3.in" as Connection682
        connect Junction351 Current_ref3.Ed as Connection1100
        connect "Square Wave Source15.out" "LED 17.in" as Connection1435
        connect "Bus Join4.in2" "dq to abc3.c" as Connection1102
        connect Junction347 Junction351 as Connection1142
        connect "Signal switch6.in" Current_ref2.Xi_rd as Connection768
        [
            breakpoints = 10592, 6928; 10592, 6768
        ]
        connect "Signal switch2.in" Current_ref.Xi_rq as Connection141
        [
            breakpoints = 10768, 8048
        ]
        connect pf2.in S_meas1.pf as Connection384
        connect Va12.out "Power Meter1.va" as Connection1382
        connect S3.in Junction387 as Connection1346
        connect "Power Meter1.Pac" Termination3.in as Connection1390
        [
            breakpoints = 7280, 9216
        ]
        connect Junction268 "Signal switch6.in2" as Connection775
        connect From70 Junction355 as Connection1105
        connect From4 Junction142 as Connection37
        connect "Three Phase Inverter4.neg_out" "DC Meter4.P3" as Connection956
        connect Pref2.in Junction430 as Connection1637
        connect L0a1.p_node Xi_a1.p_node as Connection272
        connect Rc2.p_node Junction242 as Connection732
        [
            breakpoints = 6224, 6848
        ]
        connect "Square Wave Source16.out" "LED 11.in" as Connection1430
        connect From68 S_meas3.Vb as Connection1097
        connect Goto77 Junction380 as Connection1321
        connect Goto11 Vb.out as Connection44
        connect From2 "Bus Split1.in" as Connection30
        connect Junction167 "DC Meter2.P1" as Connection329
        connect L0c2.p_node Xi_c2.p_node as Connection636
        connect Junction190 Current_ref1.Eq as Connection445
        connect Goto79 Junction382 as Connection1327
        connect Junction320 Junction157 as Connection1446
        [
            breakpoints = 5840, 8848; 5744, 8848; 5744, 8848; 5728, 8848
        ]
        connect From65 PLL2.Eb as Connection825
        connect Idc_link1.n_node "Three Phase Inverter2.pos_out" as Connection261
        connect Junction309 Ra3.p_node as Connection1501
        [
            breakpoints = 4704, 9872; 4704, 9872; 4928, 9872; 4720, 9872
        ]
        connect Ea2.n_node Junction415 as Connection1525
        connect "Three Phase Inverter4.b_in" Junction298 as Connection965
        connect Rt0a1.p_node Ca1.p_node as Connection313
        [
            breakpoints = 5456, 9248; 5456, 9248
        ]
        connect Vbc1.n_node Junction170 as Connection278
        connect Pref3.in Junction429 as Connection1631
        connect From71 PLL3.Ec as Connection1141
        connect "Bus Join1.in" "dq to abc.a" as Connection2
        connect Junction289 Iga_rms2.n_node as Connection1189
        [
            breakpoints = 7088, 6656; 6848, 6656
        ]
        connect Junction429 Junction373 as Connection1632
        connect R0b1.p_node Junction165 as Connection291
        connect Lc2.p_node Igc_rms2.p_node as Connection1185
        connect Igb_rms2.p_node Lb2.p_node as Connection1184
        connect Goto1 Junction122 as Connection43
        connect Goto_Q_bus Junction433 as Connection1665
        connect "Square Wave Source17.out" "LED 14.in" as Connection1426
        connect Current_abc_to_dq2.Id Junction273 as Connection816
        connect L0a2.p_node Xi_a2.p_node as Connection678
        connect Xi_c1.out Goto26 as Connection1437
        connect Junction191 Subsystem2.Xi_d_meas as Connection459
        connect Goto37 Eb2.out as Connection719
        connect Vbc_rms3.p_node Junction318 as Connection1010
        connect Rt0a3.n_node Junction313 as Connection985
        connect "Signal switch1.in" Current_ref.Xi_rd as Connection139
        [
            breakpoints = 10704, 8080; 10704, 7920
        ]
        connect Junction269 Junction279 as Connection794
        connect Junction196 Junction187 as Connection462
        connect Ea3.p_node Junction309 as Connection995
        connect Junction431 Current_ref3.P_ref as Connection1646
        [
            breakpoints = 10928, 9936; 10928, 9936
        ]
        connect S4.in Junction386 as Connection1343
        connect "Square Wave Source7.out" "LED 7.in" as Connection1420
        connect Junction300 Junction312 as Connection922
        connect Goto12 Vc.out as Connection45
        connect Xi_q_ref_res1.in Junction189 as Connection431
        connect Goto82 Junction385 as Connection1342
        connect "Bus Join1.in1" "dq to abc.b" as Connection3
        connect Goto31 Ea1.out as Connection270
        connect Vab.n_node Junction118 as Connection159
        connect "Signal switch7.in2" Junction342 as Connection1147
        connect Vab_rms2.p_node Junction289 as Connection877
        connect Goto9 Eb.out as Connection57
        connect Q1.in S_meas.Q as Connection116
        connect Eb.p_node Junction134 as Connection14
        connect From50 S_meas2.Ib as Connection824
        connect Junction170 R0c1.p_node as Connection332
        connect From38 S_meas1.Ib as Connection386
        connect Rt0b.n_node Junction127 as Connection133
        connect Rt0b1.p_node Cb1.p_node as Connection333
        [
            breakpoints = 5536, 9248; 5536, 9248
        ]
        connect Junction141 Junction137 as Connection92
        connect pf3.in S_meas2.pf as Connection759
        connect Goto_P_bus Junction432 as Connection1655
        connect "Square Wave Source18.out" "LED 20.in" as Connection1432
        connect Vbc2.p_node Junction254 as Connection650
        connect Igb_rms2.n_node Junction286 as Connection1187
        [
            breakpoints = 6928, 6752
        ]
        connect Junction142 Junction136 as Connection93
        connect Junction314 "DC Meter4.P1" as Connection919
        connect "Core Coupling 1.c_in" Junction230 as Connection616
        connect Junction352 Junction354 as Connection1135
        connect Rc3.n_node Lc3.n_node as Connection968
        connect "Bus Join4.in" "dq to abc3.a" as Connection1125
        connect Rt0c2.n_node Junction234 as Connection707
        connect "Three Phase Inverter2.a_in" Junction166 as Connection323
        connect L0b2.p_node Xi_b2.p_node as Connection633
        connect Junction397 Va12.p_node as Connection1399
        [
            breakpoints = 6544, 8848
        ]
        connect Goto83 Junction386 as Connection1345
        [
            breakpoints = 11728, 9984; 11808, 9984
        ]
        connect "Bus Split2.out" "Three Phase Inverter2.InA" as Connection271
        connect Junction385 S_meas1.S as Connection1341
        connect "Bus Join2.in" "dq to abc1.a" as Connection409
        connect L0a3.n_node R0a3.n_node as Connection957
        connect From40 PLL1.Eb as Connection435
        connect Junction143 Subsystem1.Xi_q_ref as Connection94
        connect Junction123 Subsystem1.Xi_d_meas as Connection74
        connect Junction433 S_meas_1.Q as Connection1666
        connect Junction377 Current_ref1.P_ref as Connection1643
        [
            breakpoints = 10784, 8752; 10784, 8752
        ]
        connect L0c3.p_node Xi_c3.p_node as Connection972
        connect Rt0c2.p_node Cc2.p_node as Connection664
        [
            breakpoints = 5584, 7056; 5584, 7056
        ]
        connect Eb.n_node Junction410 as Connection1479
        connect Junction386 S_meas3.S as Connection1344
        connect Sum1.out Ptotal.in as Connection1656
        [
            breakpoints = 12176, 7200
        ]
        connect Ca3.n_node Junction426 as Connection1611
        connect "dq to abc3.q" Junction345 as Connection1130
        connect Rt0a3.p_node Ca3.p_node as Connection941
        [
            breakpoints = 4320, 10272; 4320, 10272
        ]
        connect Goto76 Junction379 as Connection1318
        connect Junction144 Subsystem1.Xi_d_ref as Connection95
        connect Eb1.out Goto24 as Connection1438
        connect "Square Wave Source19.out" "LED 12.in" as Connection1428
        connect Junction430 Junction377 as Connection1638
        [
            breakpoints = 10768, 8752
        ]
        connect Vbc_rms3.n_node Junction333 as Connection1060
        connect Goto8 Ea.out as Connection56
        connect "Three Phase Inverter2.c_in" Junction170 as Connection274
        connect Rt0a.n_node Junction126 as Connection131
        connect Rc3.p_node Junction304 as Connection938
        [
            breakpoints = 5120, 10064
        ]
        connect From55 Junction269 as Connection782
        connect S_bus.in S_meas_1.S as Connection137
        connect Junction354 PLL3.wt as Connection1167
        connect Eb1.n_node Junction219 as Connection576
        connect Junction367 "Core Coupling 2.d_in" as Connection1269
        [
            breakpoints = 7344, 7920; 7344, 7920; 7344, 7776; 7344, 7520
        ]
        connect "Bus Split2.out2" "Three Phase Inverter2.InC" as Connection340
        connect Rt0b.p_node Cb.p_node as Connection132
        [
            breakpoints = 6624, 8320; 6624, 8320
        ]
        connect Junction124 Current_abc_to_dq.Iq as Connection75
        connect "Square Wave Source8.out" "LED 8.in" as Connection1421
        connect Goto13 Va.out as Connection46
        connect P_ref3.P_ref Junction429 as Connection1633
        connect Junction434 Current_ref.P_ref as Connection1682
        connect Pref1.in Junction434 as Connection1683
        connect P_ref1.P_ref Junction435 as Connection1684
        connect Junction435 Junction434 as Connection1685
        connect Goto74 Junction435 as Connection1686
        connect "Core Coupling 1.c_out" Junction226 as Connection604
        connect Vbc_rms1.n_node Junction396 as Connection1379
        connect Vbc_rms1.p_node Junction226 as Connection602
        connect Junction396 "Core Coupling 1.b_out" as Connection1380
        [
            breakpoints = 7120, 9040; 7120, 9040
        ]
        connect Ic12.n_node Junction396 as Connection1381
        connect Product1.out V1.in as Connection1409
        connect Product1.in1 Constant5.out as Connection1408
        connect Va_rms1.out Product1.in as Connection1407
        connect Product2.in1 Constant6.out as Connection1411
        connect Product2.out V2.in as Connection1410
        connect Igb_rms.n_node Junction93 as Connection66
        connect Vb.p_node Junction93 as Connection163
        connect Vc.p_node Junction120 as Connection169
        connect Junction120 Igc_rms.n_node as Connection72
        connect Vbc_rms.n_node Junction420 as Connection1568
        connect "Core Coupling 4.b_out" Junction420 as Connection1579
        connect Junction420 Junction120 as Connection1569
        [
            breakpoints = 8208, 8112; 8208, 8112; 8128, 8112
        ]
        connect Junction93 Junction436 as Connection1688
        [
            breakpoints = 8048, 8016
        ]
        connect Junction436 Vbc_rms.p_node as Connection1689
        [
            breakpoints = 8208, 8016; 8208, 8016; 8208, 8016; 8208, 8016; 8208, 8016
        ]
        connect "Core Coupling 4.c_out" Junction436 as Connection1690
        connect "Core Coupling 4.a_out" Junction437 as Connection1691
        [
            breakpoints = 8816, 8208; 8816, 8528
        ]
        connect Junction437 Junction421 as Connection1692
        connect Va_rms.n_node Junction437 as Connection1693
        connect Va_rms.out Product2.in as Connection1694
        connect "Core Coupling 4.d_out" Junction438 as Connection1696
        connect Junction438 Junction92 as Connection1697
        [
            breakpoints = 8208, 7920; 7984, 7920
        ]
        connect Va_rms.p_node Junction438 as Connection1698
        connect Junction226 Ib12.n_node as Connection1703
        [
            breakpoints = 7120, 8944; 7120, 8944; 7120, 8944
        ]
        connect "Core Coupling 1.a_out" Junction439 as Connection1709
        connect Junction439 Junction393 as Connection1710
        [
            breakpoints = 7440, 8912; 7440, 8920; 7440, 9392; 6928, 9392; 6848, 9392; 6752, 9392; 6688, 9392
        ]
        connect Va_rms1.n_node Junction439 as Connection1711
        [
            breakpoints = 7336, 8848; 7440, 8848
        ]
        connect Ia12.n_node Junction440 as Connection1712
        [
            breakpoints = 7120, 8848; 7120, 8848; 7120, 8848; 7120, 8848; 7120, 8848
        ]
        connect Junction440 "Core Coupling 1.d_out" as Connection1713
        [
            breakpoints = 7152, 8848
        ]
        connect Va_rms1.p_node Junction440 as Connection1714
    }

    default {
        gen_PQ_transform {
            filter_order = "first order"
            filter_cutoff_Hz = "30"
            initial_filter_input = "0"
            initial_filter_output = "0"
            execution_rate = "inherit"
        }

        gen_bus_join {
            inputs = "2"
            execution_rate = "inherit"
        }

        gen_bus_split {
            outputs = "2"
            execution_rate = "inherit"
        }

        gen_c_function {
            in_terminal_properties = "real in;"
            in_terminal_labels = ""
            out_terminal_properties = "real out;"
            out_terminal_labels = ""
            no_feed_inputs = ""
            no_feed_outputs = ""
            in_terminal_dimensions = ""
            in_terminal_dimensions_str = ""
            out_terminal_dimensions = ""
            out_terminal_dimensions_str = ""
            output_fnc = ""
            update_fnc = ""
            init_fnc = ""
            global_variables = ""
            parameters = ""
            execution_rate = "inherit"
        }

        gen_comparator {
            execution_rate = "inherit"
        }

        gen_digital_probe {
            override_signal_name = "False"
            signal_name = ""
            streaming_en = "False"
            addr = "0"
            streaming_er_idx = "0"
            execution_rate = "inherit"
        }

        gen_gain {
            gain = "1"
            multiplication = "Element-wise(K.*u)"
            execution_rate = "inherit"
        }

        gen_pid_controller {
            controller_type = "PID"
            kp = "1"
            ki = "1"
            kd = "0"
            filt_coef = "100"
            int_init_value = "0"
            filt_init_value = "0"
            enb_output_limit_out = "False"
            upper_sat_lim = "1"
            lower_sat_lim = "-1"
            enb_anti_windup_out = "False"
            signal_out_type = "inherit"
            execution_rate = "inherit"
        }

        gen_probe {
            addr = "0"
            override_signal_name = "False"
            signal_name = ""
            signal_type = "generic"
            streaming_en = "False"
            streaming_er_idx = "0"
            execution_rate = "inherit"
        }

        gen_product {
            signs = "2"
            execution_rate = "inherit"
        }

        gen_sum {
            signs = "2"
            execution_rate = "inherit"
        }

        gen_terminator {
            execution_rate = "inherit"
        }

        gen_trigonometric {
            trigonometric_fn = "sin"
            execution_rate = "inherit"
        }

        pas_capacitor {
            capacitance = "1e-6"
            initial_voltage = "0"
            pole_shift_ignore = "False"
            visible = "True"
        }

        pas_inductor {
            inductance = "1e-3"
            initial_current = "0.0"
            pole_shift_ignore = "False"
            visible = "True"
        }

        pas_resistor {
            resistance = "1"
        }

        src_constant {
            value = "1"
            signal_type = "real"
            execution_rate = "100e-6"
        }

        src_scada_input {
            addr = "0"
            format = "real"
            override_signal_name = "False"
            signal_name = ""
            signal_type = "real"
            min = "-1e6"
            max = "1e6"
            def_value = "0"
            unit = " "
            execution_rate = "100e-6"
        }

        src_square {
            hs_output = "1"
            ls_output = "0"
            frequency = "50"
            duty_cycle = "0.5"
            phase = "0"
            signal_type = "real"
            execution_rate = "100e-6"
        }

        src_voltage {
            sig_input = "False"
            type = "signal generator"
            param_set = "1phase"
            parent_label = ""
            addr = "0"
            spc_nb = "0"
            execution_rate = "100e-6"
            cpd_visible = "True"
            enable_snb = "False"
            snb_type = "R2"
            R2 = "0.0"
            L1 = "0.1"
            override_signal_name = "False"
            signal_name = ""
        }

        sys_signal_switch {
            criterion = "ctrl >= threshold"
            threshold = "0"
            execution_rate = "inherit"
        }

        "core/Grid Simulator" {
            resistance_grid_simulator = "1.0"
            inductance_grid_simulator = "1e-3"
        }

        "core/Voltage RMS" {
            op_mode = "PLL based"
            frequency = "50"
            sig_output = "False"
            execution_rate = "inherit"
            feed_forward = "false"
            nd_msr_estimation = "false"
        }

        "core/Three phase PLL" {
            initial_filter_output = "60"
            wn = "157.0796"
            zeta = "0.707"
            rate_high = "12"
            rate_low = "-12"
            freq_unit = "Hz"
            kp = "100"
            ki = "3200"
            kd = "1"
            N = "714.2857"
            initial_pid_output = "376.99111843"
            up_lim = "1e4"
            low_lim = "-1e4"
            kb = "1"
            power_form = "variant - Clarke\'s original"
            alignment = "-pi/2"
            disable_filter = "False"
            wn_LPFdq = "62.83185307"
            execution_rate = "inherit"
            enable_pk = "False"
            enable_zero = "True"
            enable_sin = "True"
        }

        "core/Three Phase Inverter" {
            ctrl_src = "Digital input per switch"
            op_mode = "Fixed carrier frequency"
            carrier_freq = "10000.0"
            carr_ph_offset = "0.0"
            d_time = "5e-6"
            ref_sig_min_max = "[-1.0, 1.0]"
            execution_rate = "inherit"
            Sa_top = "1"
            Sa_top_logic = "active high"
            Sa_bot = "2"
            Sa_bot_logic = "active high"
            Sb_top = "3"
            Sb_top_logic = "active high"
            Sb_bot = "4"
            Sb_bot_logic = "active high"
            Sc_top = "5"
            Sc_top_logic = "active high"
            Sc_bot = "6"
            Sc_bot_logic = "active high"
            delay_enabled = "False"
            fixed_delay = "1e-6"
            var_delay_lut = "[-10.0, 1e-6, 10.0, 1e-6]"
            preview_var_delay = "Preview"
            Sa_top_I = "False"
            Sa_bot_I = "False"
            Sb_top_I = "False"
            Sb_bot_I = "False"
            Sc_top_I = "False"
            Sc_bot_I = "False"
            losses_estimation = "False"
            Vce = "1.3"
            Vd = "1.2"
            i_et_on = "[0.0, 6.0, 12.0, 18.0, 24.0]"
            temp_et_on = "[25.0, 50.0, 75.0, 100.0, 125.0]"
            et_on_table_out = "[[0.0, 0.0275e-3, 0.15e-3, 0.275e-3, 0.3e-3], [0.35*3.8e-3, 0.4*3.8e-3, 0.8*3.8e-3, 0.68*3.8e-3, 0.9*3.8e-3], [0.65*3.8e-3, 0.9*3.8e-3, 1.2*3.8e-3, 1.5*3.8e-3, 1.7*3.8e-3], [0.9*3.8e-3, 1.3*3.8e-3, 1.7*3.8e-3, 1.9*3.8e-3, 2.25*3.8e-3], [1.1*3.8e-3, 1.7*3.8e-3, 2.1*3.8e-3, 2.3*3.8e-3, 2.5*3.8e-3]]"
            i_et_off = "[0.0, 6.0, 12.0, 18.0, 24.0]"
            temp_et_off = "[25.0, 50.0, 75.0, 100.0, 125.0]"
            et_off_table_out = "[[0.0, 0.0275e-3, 0.15e-3, 0.275e-3, 0.3e-3], [0.35*2.1e-3, 0.4*2.1e-3, 0.8*2.1e-3, 0.68*2.1e-3, 0.9*2.1e-3], [0.65*2.1e-3, 0.9*2.1e-3, 1.2*2.1e-3, 1.5*2.1e-3, 1.7*2.1e-3], [0.9*2.1e-3, 1.3*2.1e-3, 1.7*2.1e-3, 1.9*2.1e-3, 2.25*2.1e-3], [1.1*2.1e-3, 1.7*2.1e-3, 2.1*2.1e-3, 2.3*2.1e-3, 2.5*2.1e-3]]"
            i_ed_off = "[0.0, 6.0, 12.0, 18.0, 24.0]"
            temp_ed_off = "[25.0, 50.0, 75.0, 100.0, 125.0]"
            ed_off_table_out = "[[0.0, 0.0275e-3, 0.15e-3, 0.275e-3, 0.3e-3], [0.35*2.2e-3, 0.4*2.2e-3, 0.8*2.2e-3, 0.68*2.2e-3, 0.9*2.2e-3], [0.65*2.2e-3, 0.9*2.2e-3, 1.2*2.2e-3, 1.5*2.2e-3, 1.7*2.2e-3], [0.9*2.2e-3, 1.3*2.2e-3, 1.7*2.2e-3, 1.9*2.2e-3, 2.25*2.2e-3], [1.1*2.2e-3, 1.7*2.2e-3, 2.1*2.2e-3, 2.3*2.2e-3, 2.5*2.2e-3]]"
            loss_exec_rate = "100e-6"
            show_cnt_out = "False"
            show_monitoring = "false"
            _control_property = "all high"
            dtv_flag_en = "True"
        }

        "core/dq to abc" {
            power_form = "variant - Clarke\'s original"
            alignment = "-pi/2"
            execution_rate = "0"
        }

        "core/abc to dq" {
            power_form = "variant - Clarke\'s original"
            alignment = "-pi/2"
            disable_filter = "True"
            initial_filter_output = "0"
            wn_LPFdq = "1000"
            execution_rate = "inherit"
        }

        "core/Four Phase Core Coupling" {
            snb_type_i = "none"
            R1 = "100e3"
            C1 = "1e-06"
            C2 = "1e-06"
            fixed_snb_i = "false"
            snb_type_u = "none"
            R2 = "0.1"
            L1 = "0.1"
            L2 = "0.1"
            fixed_snb_u = "false"
            cpl_connection = "star"
        }

        "core/Voltage Measurement" {
            bw_limit = "False"
            frequency = "10e3"
            comparator_enable = "False"
            operator = "greater"
            threshold = "0"
            cmp_abs_value = "False"
            feed_forward = "false"
            sig_output = "False"
            execution_rate = "100e-6"
            addr = "0"
            nd_msr_estimation = "false"
            dev_cpl_msr = "false"
            host_device = "0"
            output_to_device = "0"
            dev_cpl_index = "0"
            dev_cpl_var_nb = "0"
            visible = "True"
            override_signal_name = "False"
            signal_name = ""
        }

        "core/ModBus Device" {
            hil_id = "0"
            configuration = "config1"
            preview = "Configuration preview"
            ip_address_port = "False"
            defines = ""
            modbus_sunspec = "False"
            execution_rate = "100e-6"
        }

        "core/Current RMS" {
            op_mode = "PLL based"
            frequency = "50"
            sig_output = "False"
            execution_rate = "inherit"
            feed_forward = "false"
            nd_msr_estimation = "false"
        }

        "core/Current Measurement" {
            bw_limit = "False"
            frequency = "10e3"
            comparator_enable = "False"
            operator = "greater"
            threshold = "0"
            cmp_abs_value = "False"
            feed_forward = "false"
            sig_output = "False"
            execution_rate = "100e-6"
            addr = "0"
            nd_msr_estimation = "false"
            dev_cpl_msr = "false"
            host_device = "0"
            output_to_device = "0"
            dev_cpl_index = "0"
            dev_cpl_var_nb = "0"
            visible = "True"
            override_signal_name = "False"
            signal_name = ""
        }
    }

    CODE model_init
        # Numpy module is imported as 'np'
        # Scipy module is imported as 'sp'
        Tfast = 200e-6
        
        scale_back_const=1e7
        
        R0=.0407753
        L0=2.06374e-3
        BW=120
        R=1e-1
        #R=0
        L=30.6125e-4
        
        Rt0=0.427726
        C=30.002852e-6
        
        Lgrid=0.4e-3
        Rgrid=41.901e-3
        
        config1 = {
                                          'port': 502,
                                          'ip_addr': '192.168.2.61',
                                          'netmask': '255.255.255.0',
                                          'slave_id': 1,
                                          'coil_input_addresses': '',
                                          'coil_output_addresses': '',
                                          'discrete_input_addresses': '',
                                          'holding_register_input_addresses': '3,4',
                                          'holding_register_output_addresses': '0i,1i',
                                          'input_register_adresses': '5,6'
                                        }
        
        config2 = {
                                          'port': 502,
                                          'ip_addr': '192.168.2.62',
                                          'netmask': '255.255.255.0',
                                          'slave_id': 2,
                                          'coil_input_addresses': '',
                                          'coil_output_addresses': '',
                                          'discrete_input_addresses': '',
                                          'holding_register_input_addresses': '3,4',
                                          'holding_register_output_addresses': '0i,1i',
                                          'input_register_adresses': '5,6'
                                        }
        
        config3 = {
                                          'port': 502,
                                          'ip_addr': '192.168.2.63',
                                          'netmask': '255.255.255.0',
                                          'slave_id': 3,
                                          'coil_input_addresses': '',
                                          'coil_output_addresses': '',
                                          'discrete_input_addresses': '',
                                          'holding_register_input_addresses': '3,4',
                                          'holding_register_output_addresses': '0i,1i',
                                          'input_register_adresses': '5,6'
                                        }
        
        config4 = {
                                          'port': 502,
                                          'ip_addr': '192.168.2.64',
                                          'netmask': '255.255.255.0',
                                          'slave_id': 7,
                                          'coil_input_addresses': '',
                                          'coil_output_addresses': '',
                                          'discrete_input_addresses': '',
                                          'holding_register_input_addresses': '3,4',
                                          'holding_register_output_addresses': '0i,1i',
                                          'input_register_adresses': '5,6'
                                        }
        
        config5 = {
                                            'port': 502,
                                            'ip_addr': '169.254.0.211',
                                            'netmask': '255.255.0.0',
                                            'slave_id': 17,
                                            'coil_input_addresses': '',
                                            'coil_output_addresses': '',
                                            'discrete_input_addresses': '',
                                            'holding_register_input_addresses': '[0,1]i, [2,3]i',
                                            'holding_register_output_addresses': '2000i',
                                            'input_register_adresses': '0i'
        }
    ENDCODE
}
