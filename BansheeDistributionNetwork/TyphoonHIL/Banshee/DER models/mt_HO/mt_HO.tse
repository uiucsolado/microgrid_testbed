version = 4.2

//
// Saved by sw version: 2020.1 SP2
// Save timestamp: 26-Jun-2020 @ 05:44:36 PM
//

model "mt_ho" {
    configuration {
        hil_device = "HIL603"
        hil_configuration_id = 1
        simulation_method = trapezoidal
        simulation_time_step = auto
        simulation_discret_scaling = 1.0
        dsp_timer_periods = 100e-6, 50e-3
        ss_calc_method = "systematic elimination"
        enb_pole_shift = True
        enb_gds_oversampling = True
        show_modes = False
        device_ao_limit_enable = True
        cpl_stb = False
        enb_dep_sw_detect = False
        code_section = "internal memory"
        data_section = "internal memory"
        sys_sp_rate_1 = 0.0001
        sys_sp_rate_2 = 0.05
        sys_real_type_precision = "default"
        user_real_type_precision = "default"
        sys_cpu_optimization = "high"
        user_cpu_optimization = "high"
    }

    component Subsystem Root {
        component Subsystem Microturbine {
            layout = dynamic
            component src_sine "Sinusoidal Source1" {
                execution_rate = "Ts"
                frequency = "60"
            }
            [
                position = 7448, 8168
                hide_name = True
            ]

            component src_scada_input Connect {
                execution_rate = "Ts"
                format = "int"
                max = "1"
                min = "0"
                signal_type = "int"
                unit = ""
            }
            [
                position = 7448, 8008
            ]

            component gen_probe w_bus {
            }
            [
                position = 7520, 8384
            ]

            component src_constant Constant1 {
                execution_rate = "Ts"
            }
            [
                position = 8456, 8280
                hide_name = True
            ]

            component gen_terminator Termination1 {
            }
            [
                position = 7704, 8296
                hide_name = True
            ]

            component src_sine "Sinusoidal Source2" {
                execution_rate = "Ts"
                frequency = "60"
                phase = "-120"
            }
            [
                position = 7448, 8224
                hide_name = True
            ]

            component src_sine "Sinusoidal Source3" {
                execution_rate = "Ts"
                frequency = "60"
                phase = "120"
            }
            [
                position = 7448, 8272
                hide_name = True
            ]

            component gen_gain Gain1 {
                gain = "-1"
            }
            [
                position = 7736, 8248
                hide_name = True
            ]

            component sys_signal_switch "Signal switch1" {
                criterion = "ctrl != threshold"
                threshold = "1"
            }
            [
                position = 8456, 8328
                hide_name = True
                scale = 1, -1
            ]

            component src_constant Constant2 {
                execution_rate = "Ts"
                value = "0"
            }
            [
                position = 8408, 8344
                hide_name = True
            ]

            component gen_probe bus_angle {
            }
            [
                position = 8272, 8280
            ]

            component src_constant Constant3 {
                execution_rate = "Ts"
                value = "2*np.pi*60"
            }
            [
                position = 7400, 8360
                hide_name = True
            ]

            component gen_gain Gain2 {
                gain = "-1"
            }
            [
                position = 7816, 8280
                hide_name = True
                scale = 1, -1
            ]

            component gen_trigonometric "Trigonometric function1" {
                trigonometric_fn = "atan2"
            }
            [
                position = 7952, 8232
                hide_name = True
                scale = 1, -1
            ]

            component gen_probe V_d_a_B {
            }
            [
                position = 7848, 8336
            ]

            component gen_c_function remainder {
                global_variables = "real out;"
                in_terminal_dimensions = "inherit"
                in_terminal_dimensions_str = "in inherit"
                in_terminal_labels = "[(\'in\', True)]"
                init_fnc = "/*Begin code section*/
out = 0;
in = 0;
/*End code section*/"
                no_feed_inputs = "[\'\']"
                no_feed_outputs = "[\'\']"
                out_terminal_dimensions = "inherit"
                out_terminal_dimensions_str = "output inherit"
                out_terminal_labels = "[(\'output\', True)]"
                out_terminal_properties = "real output;"
                output_fnc = "/*Begin code section*/
output = out+0.0;
/*End code section*/"
                parameters = "real Ts;"
                update_fnc = "/*Begin code section*/
out = fmod(in,6.283185307179586);
/*End code section*/"
            }
            [
                position = 8144, 8304
                hide_name = True
                size = 112, 48
            ]

            component gen_probe V_q_a_B {
            }
            [
                position = 7848, 8096
            ]

            component src_clock Clock1 {
                execution_rate = "Ts"
            }
            [
                position = 7400, 8312
                hide_name = True
            ]

            component gen_product Product1 {
            }
            [
                position = 7520, 8336
                hide_name = True
            ]

            component gen_logic_op "Logical operator1" {
                operator = "NOT"
            }
            [
                position = 8456, 8464
                rotation = right
                hide_name = True
            ]

            component gen_digital_probe "governor OFF" {
            }
            [
                position = 8512, 8496
            ]

            component gen_digital_probe "governor ON" {
            }
            [
                position = 8512, 8400
            ]

            component gen_probe "bus_|V|" {
            }
            [
                position = 7880, 8232
            ]

            component gen_product Product3 {
            }
            [
                position = 8648, 8160
                hide_name = True
                scale = 1, -1
            ]

            component gen_product Product4 {
            }
            [
                position = 8648, 8064
                hide_name = True
                scale = 1, -1
            ]

            component gen_digital_probe Ready_to_connect {
            }
            [
                position = 8752, 8160
            ]

            component gen_probe "pds signal" {
            }
            [
                position = 8752, 8016
            ]

            component gen_sum Sum1 {
            }
            [
                position = 8040, 8304
                hide_name = True
            ]

            component src_scada_input MT_sync {
                execution_rate = "Ts"
                format = "int"
                max = "1"
                min = "0"
                signal_type = "int"
                unit = ""
            }
            [
                position = 8408, 8400
            ]

            component "core/abc to dq" "abc to dq1" {
            }
            [
                position = 7624, 8248
                size = 48, 80
            ]

            component Subsystem "qd0(PU)" {
                layout = dynamic
                component gen_gain Gain1 {
                    gain = "pms"
                }
                [
                    position = 7664, 8400
                    hide_name = True
                ]

                component src_constant Constant1 {
                    execution_rate = "Ts"
                    value = "0"
                }
                [
                    position = 8008, 7704
                    hide_name = True
                ]

                component sys_signal_switch q-Current {
                    criterion = "ctrl != threshold"
                    threshold = "1"
                }
                [
                    position = 8056, 7720
                ]

                component src_constant Constant2 {
                    execution_rate = "Ts"
                    value = "0"
                }
                [
                    position = 8320, 7704
                    hide_name = True
                    scale = -1, 1
                ]

                component sys_signal_switch d-Current {
                    criterion = "ctrl != threshold"
                    threshold = "1"
                }
                [
                    position = 8272, 7720
                    scale = -1, 1
                ]

                component sys_signal_switch q-flux {
                    criterion = "ctrl != threshold"
                    threshold = "1"
                }
                [
                    position = 8064, 8016
                ]

                component sys_signal_switch d-flux {
                    criterion = "ctrl != threshold"
                    threshold = "1"
                }
                [
                    position = 8280, 8016
                    scale = -1, 1
                ]

                component sys_signal_switch q-Voltage {
                    criterion = "ctrl != threshold"
                    threshold = "1"
                }
                [
                    position = 8360, 8376
                ]

                component sys_signal_switch d-Voltage {
                    criterion = "ctrl != threshold"
                    threshold = "1"
                }
                [
                    position = 8360, 8576
                    rotation = down
                    scale = -1, 1
                ]

                component gen_probe E_qp_M {
                }
                [
                    position = 7704, 7920
                ]

                component gen_probe T_m_M {
                }
                [
                    position = 7696, 8448
                ]

                component gen_probe Phi_1d_a_M {
                }
                [
                    position = 7944, 8168
                ]

                component gen_probe Phi_2q_a_M {
                }
                [
                    position = 8416, 8168
                    scale = -1, 1
                ]

                component gen_probe "|V|_M" {
                }
                [
                    position = 8584, 8416
                ]

                component gen_probe E_F_M {
                }
                [
                    position = 8760, 8464
                    scale = -1, 1
                ]

                component gen_probe theta_G_M {
                }
                [
                    position = 8608, 8288
                    scale = -1, 1
                ]

                component gen_probe Phi_d_a_M {
                }
                [
                    position = 8128, 7952
                ]

                component gen_probe Phi_q_a_M {
                }
                [
                    position = 8216, 7952
                    scale = -1, 1
                ]

                component gen_probe E_dp_M {
                }
                [
                    position = 8648, 7920
                    scale = -1, 1
                ]

                component gen_probe w_m_M {
                }
                [
                    position = 7744, 8288
                ]

                component gen_probe VdG {
                }
                [
                    position = 8464, 8616
                ]

                component gen_probe VqG {
                }
                [
                    position = 8464, 8336
                ]

                component Subsystem Phi_1d_a {
                    layout = dynamic
                    component src_constant Constant1 {
                        execution_rate = "Ts"
                        value = "X_dp-X_ls"
                    }
                    [
                        position = 8024, 8224
                        hide_name = True
                    ]

                    component gen_gain Gain1 {
                        gain = "1/T_dopp"
                    }
                    [
                        position = 8288, 8152
                        hide_name = True
                    ]

                    component gen_product Product1 {
                    }
                    [
                        position = 8096, 8232
                        hide_name = True
                    ]

                    component gen_integrator Integrator1 {
                    }
                    [
                        position = 8352, 8152
                        hide_name = True
                    ]

                    component gen_sum Sum1 {
                        signs = "-+-"
                    }
                    [
                        position = 8208, 8152
                        hide_name = True
                    ]

                    port Phi_1d_a {
                        label = "Phi_1d_a"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8424, 8152
                    ]

                    port E_qp {
                        label = "E_qp"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8136, 8152
                    ]

                    port I_d_a {
                        label = "I_d_a"
                        position = left:3
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8024, 8264
                    ]

                    junction Junction1 sp
                    [
                        position = 8392, 8152
                    ]

                    connect Constant1.out Product1.in as Connection26
                    connect Integrator1.in Gain1.out as Connection24
                    connect Integrator1.out Junction1 as Connection31
                    connect Junction1 Phi_1d_a as Connection32
                    connect Product1.in1 I_d_a as Connection29
                    connect Product1.out Sum1.in2 as Connection27
                    connect Sum1.in1 E_qp as Connection30
                    connect Sum1.out Gain1.in as Connection25
                    connect Sum1.in Junction1 as Connection33
                    [
                        breakpoints = 8168, 8096; 8392, 8096
                    ]
                }
                [
                    position = 7808, 8216
                    size = 96, 64
                ]

                component Subsystem Phi_2q_a {
                    layout = dynamic
                    component gen_gain Gain1 {
                        gain = "1/T_qopp"
                    }
                    [
                        position = 8288, 8152
                        hide_name = True
                    ]

                    component gen_integrator Integrator1 {
                    }
                    [
                        position = 8352, 8152
                        hide_name = True
                    ]

                    component gen_sum Sum1 {
                        signs = "---"
                    }
                    [
                        position = 8208, 8152
                        hide_name = True
                    ]

                    component gen_product Product1 {
                    }
                    [
                        position = 8096, 8232
                        hide_name = True
                    ]

                    component src_constant Constant1 {
                        execution_rate = "Ts"
                        value = "X_qp-X_ls"
                    }
                    [
                        position = 8024, 8224
                        hide_name = True
                    ]

                    port E_dp {
                        label = "E_dp"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8136, 8152
                    ]

                    port Phi_2q_a {
                        label = "Phi_2q_a"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8424, 8152
                    ]

                    port I_q_a {
                        label = "I_q_a"
                        position = left:3
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8024, 8264
                    ]

                    junction Junction1 sp
                    [
                        position = 8392, 8152
                    ]

                    connect Constant1.out Product1.in as Connection26
                    connect Integrator1.in Gain1.out as Connection24
                    connect Integrator1.out Junction1 as Connection31
                    connect Junction1 Phi_2q_a as Connection32
                    connect Product1.in1 I_q_a as Connection29
                    connect Product1.out Sum1.in2 as Connection27
                    connect Sum1.in1 E_dp as Connection30
                    connect Sum1.out Gain1.in as Connection25
                    connect Sum1.in Junction1 as Connection33
                    [
                        breakpoints = 8168, 8096; 8392, 8096
                    ]
                }
                [
                    position = 8544, 8216
                    scale = -1, 1
                    size = 96, 64
                ]

                component Subsystem Phi_q_a {
                    layout = dynamic
                    component gen_sum Sum1 {
                        signs = "+-"
                    }
                    [
                        position = 8208, 8200
                        hide_name = True
                    ]

                    component gen_sum Sum2 {
                    }
                    [
                        position = 8288, 8280
                        hide_name = True
                    ]

                    component gen_product Product2 {
                    }
                    [
                        position = 8128, 8264
                        hide_name = True
                    ]

                    component gen_integrator Integrator1 {
                        show_init_condition = "external"
                    }
                    [
                        position = 8424, 8288
                        hide_name = True
                    ]

                    component gen_gain Gain1 {
                        gain = "w_0"
                    }
                    [
                        position = 8352, 8280
                        hide_name = True
                    ]

                    component src_constant Constant1 {
                        execution_rate = "Ts"
                        value = "R_s+R_G"
                    }
                    [
                        position = 8048, 8104
                        hide_name = True
                    ]

                    component src_constant Constant2 {
                        execution_rate = "Ts"
                        value = "w_0"
                    }
                    [
                        position = 7960, 8248
                        hide_name = True
                    ]

                    component gen_product Product1 {
                    }
                    [
                        position = 8128, 8128
                        hide_name = True
                    ]

                    component gen_product Product3 {
                        signs = "*/"
                    }
                    [
                        position = 8032, 8216
                        hide_name = True
                    ]

                    component tm_delay "Unit Delay1" {
                    }
                    [
                        position = 8336, 8352
                        hide_name = True
                    ]

                    port w_e {
                        label = "w_e"
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7960, 8184
                    ]

                    port Phi_q_a {
                        label = "Phi_q_a"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8496, 8288
                    ]

                    port V_q_a {
                        label = "V_q_a"
                        position = left:4
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8216, 8288
                    ]

                    port I_q_a {
                        label = "I_q_a"
                        position = left:3
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8048, 8144
                    ]

                    port Phi_d_a {
                        label = "Phi_d_a"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8056, 8272
                    ]

                    port Phi_q_a1 {
                        label = "Phi_q_a"
                        position = right:auto
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8272, 8352
                    ]

                    connect Constant1.out Product1.in as Connection1
                    connect Constant2.out Product3.in1 as Connection5
                    connect Gain1.out Integrator1.in as Connection8
                    connect Integrator1.out Phi_q_a as Connection10
                    connect Phi_q_a1 "Unit Delay1.in" as Connection14
                    connect Product1.in1 I_q_a as Connection9
                    connect Product1.out Sum1.in as Connection2
                    connect Product2.in1 Phi_d_a as Connection13
                    connect Product2.out Sum1.in1 as Connection3
                    connect Product3.out Product2.in as Connection4
                    connect Product3.in w_e as Connection11
                    connect Sum1.out Sum2.in as Connection6
                    connect Sum2.out Gain1.in as Connection7
                    connect Sum2.in1 V_q_a as Connection12
                    connect "Unit Delay1.out" Integrator1.init_condition_port as Connection15
                }
                [
                    position = 8408, 8080
                    scale = -1, 1
                    size = 96, 96
                ]

                component Subsystem w_m {
                    layout = dynamic
                    component gen_product Product3 {
                    }
                    [
                        position = 8032, 8096
                        hide_name = True
                    ]

                    component gen_integrator Integrator1 {
                    }
                    [
                        position = 8376, 8144
                        hide_name = True
                    ]

                    component gen_product Product1 {
                    }
                    [
                        position = 8112, 8264
                        hide_name = True
                    ]

                    component gen_gain Gain2 {
                        gain = "w_0/(2*H)"
                    }
                    [
                        position = 8312, 8144
                        hide_name = True
                    ]

                    component gen_sum Sum1 {
                        signs = "+-"
                    }
                    [
                        position = 8112, 8144
                        hide_name = True
                    ]

                    component gen_gain Gain1 {
                        gain = "pms/w_0"
                    }
                    [
                        position = 8032, 8248
                        hide_name = True
                    ]

                    component gen_sum Sum2 {
                        signs = "+--"
                    }
                    [
                        position = 8248, 8144
                        hide_name = True
                    ]

                    component src_constant Constant1 {
                        execution_rate = "Ts"
                        value = "D_FW"
                    }
                    [
                        position = 7968, 8248
                        hide_name = True
                    ]

                    component gen_product Product2 {
                    }
                    [
                        position = 8032, 8184
                        hide_name = True
                    ]

                    port w_m2 {
                        label = "w_m"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8448, 8144
                    ]

                    port T_M {
                        label = "T_M"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8112, 8056
                    ]

                    port Phi_d_a {
                        label = "Phi_d_a"
                        position = left:3
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7960, 8040
                    ]

                    port I_q_a {
                        label = "I_q_a"
                        position = left:3
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7960, 8096
                    ]

                    port Phi_q_a {
                        label = "Phi_q_a"
                        position = left:5
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7960, 8144
                    ]

                    port I_d_a {
                        label = "I_d_a"
                        position = left:4
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7960, 8192
                    ]

                    tag w_m1 {
                        value = "w_m"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 7968, 8280
                        hide_name = True
                    ]

                    tag w_m {
                        value = "w_m"
                        scope = local
                        kind = sp
                        direction = in
                    }
                    [
                        position = 8456, 8240
                        hide_name = True
                    ]

                    junction Junction1 sp
                    [
                        position = 8416, 8144
                    ]

                    connect Constant1.out Gain1.in as Connection1
                    connect Gain1.out Product1.in as Connection2
                    connect Gain2.out Integrator1.in as Connection8
                    connect Integrator1.out Junction1 as Connection16
                    connect Junction1 w_m2 as Connection17
                    connect Product1.out Sum2.in2 as Connection6
                    connect Product2.in1 I_d_a as Connection10
                    connect Product2.in Phi_q_a as Connection13
                    connect Product2.out Sum1.in1 as Connection3
                    connect Product3.in1 I_q_a as Connection14
                    connect Product3.in Phi_d_a as Connection11
                    connect Product3.out Sum1.in as Connection4
                    connect Sum1.out Sum2.in1 as Connection5
                    connect Sum2.out Gain2.in as Connection7
                    connect Sum2.in T_M as Connection15
                    [
                        breakpoints = 8208, 8128; 8208, 8056
                    ]
                    connect w_m Junction1 as Connection18
                    connect w_m1 Product1.in1 as Connection9
                }
                [
                    position = 7536, 8352
                    size = 160, 96
                ]

                component Subsystem Phi_d_a {
                    layout = dynamic
                    component gen_product Product1 {
                    }
                    [
                        position = 8128, 8128
                        hide_name = True
                    ]

                    component src_constant Constant1 {
                        execution_rate = "Ts"
                        value = "R_s+R_G"
                    }
                    [
                        position = 8048, 8104
                        hide_name = True
                    ]

                    component gen_integrator Integrator1 {
                        show_init_condition = "external"
                    }
                    [
                        position = 8424, 8288
                        hide_name = True
                    ]

                    component gen_sum Sum1 {
                    }
                    [
                        position = 8208, 8200
                        hide_name = True
                    ]

                    component gen_sum Sum2 {
                    }
                    [
                        position = 8288, 8280
                        hide_name = True
                    ]

                    component src_constant Constant2 {
                        execution_rate = "Ts"
                        value = "w_0"
                    }
                    [
                        position = 7960, 8248
                        hide_name = True
                    ]

                    component gen_product Product3 {
                        signs = "*/"
                    }
                    [
                        position = 8032, 8216
                        hide_name = True
                    ]

                    component gen_gain Gain1 {
                        gain = "w_0"
                    }
                    [
                        position = 8352, 8280
                        hide_name = True
                    ]

                    component gen_product Product2 {
                    }
                    [
                        position = 8128, 8264
                        hide_name = True
                    ]

                    component tm_delay "Unit Delay1" {
                    }
                    [
                        position = 8352, 8352
                        hide_name = True
                    ]

                    port I_d_a {
                        label = "I_d_a"
                        position = left:3
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8048, 8144
                    ]

                    port w_e {
                        label = "w_e"
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7960, 8184
                    ]

                    port Phi_q_a {
                        label = "Phi_q_a"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8056, 8272
                    ]

                    port V_d_a {
                        label = "V_d_a"
                        position = left:4
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8216, 8288
                    ]

                    port Phi_d_a {
                        label = "Phi_d_a"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8496, 8288
                    ]

                    port Phi_d_a1 {
                        label = "Phi_d_a"
                        position = right:auto
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8288, 8352
                    ]

                    connect Constant1.out Product1.in as Connection1
                    connect Constant2.out Product3.in1 as Connection5
                    connect Gain1.out Integrator1.in as Connection8
                    connect Integrator1.out Phi_d_a as Connection10
                    connect Phi_d_a1 "Unit Delay1.in" as Connection14
                    connect Product1.in1 I_d_a as Connection9
                    [
                        breakpoints = 8104, 8136; 8088, 8136
                    ]
                    connect Product1.out Sum1.in as Connection2
                    connect Product2.in1 Phi_q_a as Connection13
                    connect Product2.out Sum1.in1 as Connection3
                    connect Product3.out Product2.in as Connection4
                    connect Product3.in w_e as Connection11
                    connect Sum1.out Sum2.in as Connection6
                    connect Sum2.out Gain1.in as Connection7
                    connect Sum2.in1 V_d_a as Connection12
                    connect "Unit Delay1.out" Integrator1.init_condition_port as Connection15
                }
                [
                    position = 7944, 8080
                    size = 96, 96
                ]

                component Subsystem E_qp {
                    layout = dynamic
                    component gen_product Product3 {
                    }
                    [
                        position = 8016, 8272
                        hide_name = True
                    ]

                    component src_constant Constant1 {
                        execution_rate = "Ts"
                        value = "X_d-X_dp"
                    }
                    [
                        position = 8272, 8088
                        hide_name = True
                    ]

                    component gen_product Product2 {
                    }
                    [
                        position = 8192, 8224
                        hide_name = True
                    ]

                    component gen_sum Sum3 {
                        signs = "++-"
                    }
                    [
                        position = 8096, 8272
                        hide_name = True
                    ]

                    component src_constant Constant2 {
                        execution_rate = "Ts"
                        value = "(X_dp-X_dpp)/(X_dp-X_ls)**2"
                    }
                    [
                        position = 8096, 8200
                        hide_name = True
                    ]

                    component src_constant Constant3 {
                        execution_rate = "Ts"
                        value = "X_dp-X_ls"
                    }
                    [
                        position = 7936, 8248
                        hide_name = True
                    ]

                    component gen_sum Sum1 {
                        signs = "--+"
                    }
                    [
                        position = 8448, 8112
                        hide_name = True
                    ]

                    component gen_sum Sum2 {
                        signs = "+-"
                    }
                    [
                        position = 8272, 8160
                        hide_name = True
                    ]

                    component gen_product Product1 {
                    }
                    [
                        position = 8352, 8112
                        hide_name = True
                    ]

                    component gen_integrator Integrator1 {
                    }
                    [
                        position = 8568, 8112
                        hide_name = True
                    ]

                    component gen_gain Gain1 {
                        gain = "1/T_dop"
                    }
                    [
                        position = 8512, 8112
                        hide_name = True
                    ]

                    port E_qp3 {
                        label = "E_qp"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8632, 8112
                        hide_name = True
                    ]

                    port E_F {
                        label = "E_F"
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8352, 8176
                    ]

                    port I_d_a {
                        label = "I_d_a"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7816, 8152
                    ]

                    port Phi_1d_a {
                        label = "Phi_1d_a"
                        position = left:3
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8024, 8208
                    ]

                    tag E_qp1 {
                        value = "E_qp"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8352, 8056
                        hide_name = True
                    ]

                    tag E_qp2 {
                        value = "E_qp"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8016, 8328
                        hide_name = True
                        size = 60, 20
                    ]

                    tag E_qp {
                        value = "E_qp"
                        scope = local
                        kind = sp
                        direction = in
                    }
                    [
                        position = 8656, 8192
                        hide_name = True
                    ]

                    junction Junction2 sp
                    [
                        position = 7856, 8152
                    ]

                    junction Junction3 sp
                    [
                        position = 8600, 8112
                    ]

                    connect Constant1.out Product1.in as Connection3
                    connect Constant2.out Product2.in as Connection6
                    connect Constant3.out Product3.in as Connection19
                    connect E_qp Junction3 as Connection29
                    connect E_qp1 Sum1.in as Connection1
                    connect E_qp2 Sum3.in2 as Connection9
                    connect Gain1.in Sum1.out as Connection26
                    [
                        breakpoints = 8480, 8112
                    ]
                    connect Integrator1.in Gain1.out as Connection24
                    connect Integrator1.out Junction3 as Connection27
                    connect Junction2 I_d_a as Connection21
                    connect Junction3 E_qp3 as Connection28
                    connect Product1.out Sum1.in1 as Connection2
                    connect Product2.out Sum2.in1 as Connection5
                    connect Product3.in1 Junction2 as Connection22
                    connect Product3.out Sum3.in1 as Connection8
                    connect Sum1.in2 E_F as Connection13
                    connect Sum2.in Junction2 as Connection20
                    connect Sum2.out Product1.in1 as Connection4
                    connect Sum3.in Phi_1d_a as Connection15
                    connect Sum3.out Product2.in1 as Connection7
                }
                [
                    position = 7576, 8000
                    size = 96, 88
                ]

                component Subsystem "I_d_a (algebraic)" {
                    layout = dynamic
                    component src_constant Constant1 {
                        execution_rate = "Ts"
                        value = "(X_dpp-X_ls)/(X_dp-X_ls)"
                    }
                    [
                        position = 8040, 8136
                        hide_name = True
                    ]

                    component src_constant Constant2 {
                        execution_rate = "Ts"
                        value = "(X_dp-X_dpp)/(X_dp-X_ls)"
                    }
                    [
                        position = 8040, 8232
                        hide_name = True
                    ]

                    component gen_product Product1 {
                    }
                    [
                        position = 8144, 8160
                        hide_name = True
                    ]

                    component gen_product Product2 {
                    }
                    [
                        position = 8144, 8256
                        hide_name = True
                    ]

                    component gen_gain Gain1 {
                        gain = "1/(X_dpp+X_G)"
                    }
                    [
                        position = 8336, 8160
                        hide_name = True
                    ]

                    component gen_sum Sum1 {
                        signs = "-++"
                    }
                    [
                        position = 8256, 8160
                        hide_name = True
                    ]

                    port I_d_a {
                        label = "I_d_a"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8400, 8160
                    ]

                    port Phi_d_a {
                        label = "Phi_d_a"
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8040, 8064
                    ]

                    port E_qp {
                        label = "E_qp"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8040, 8176
                    ]

                    port Phi_1d_a {
                        label = "Phi_1d_a"
                        position = left:3
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8040, 8280
                    ]

                    connect Constant1.out Product1.in as Connection4
                    connect Constant2.out Product2.in as Connection5
                    connect E_qp Product1.in1 as Connection10
                    connect Gain1.out I_d_a as Connection6
                    connect Product1.out Sum1.in1 as Connection2
                    connect Product2.in1 Phi_1d_a as Connection9
                    connect Product2.out Sum1.in2 as Connection3
                    connect Sum1.out Gain1.in as Connection1
                    connect Sum1.in Phi_d_a as Connection7
                }
                [
                    position = 8400, 7736
                    scale = -1, 1
                    size = 112, 64
                ]

                component Subsystem Governor {
                    layout = dynamic
                    component gen_gain Gain1 {
                        gain = "pms/w_0"
                    }
                    [
                        position = 7928, 8216
                        hide_name = True
                    ]

                    component gen_sum Sum1 {
                        signs = "+-"
                    }
                    [
                        position = 8072, 8192
                        hide_name = True
                    ]

                    component gen_gain Gain4 {
                        gain = "1/w_0"
                    }
                    [
                        position = 7928, 8168
                        hide_name = True
                    ]

                    component gen_rate_limiter "Rate Limiter1" {
                        falling_limit = "inner_w_fall"
                        rising_limit = "inner_w_rise"
                    }
                    [
                        position = 7984, 8168
                        hide_name = True
                    ]

                    component gen_abs Abs1 {
                    }
                    [
                        position = 8160, 8288
                        hide_name = True
                    ]

                    component gen_comparator Comparator1 {
                    }
                    [
                        position = 8232, 8312
                        hide_name = True
                        scale = 1, -1
                    ]

                    component src_constant Constant1 {
                        execution_rate = "Ts"
                        value = "4*max_slip"
                    }
                    [
                        position = 8160, 8336
                        hide_name = True
                    ]

                    component gen_logic_op "Logical operator1" {
                    }
                    [
                        position = 8440, 8280
                        hide_name = True
                    ]

                    component gen_probe Exc_state {
                    }
                    [
                        position = 8736, 8288
                    ]

                    component gen_probe "speed difference" {
                    }
                    [
                        position = 8216, 8232
                    ]

                    component gen_c_function wait_to_trip {
                        global_variables = "real time_acc;"
                        in_terminal_dimensions = "inherit;inherit"
                        in_terminal_dimensions_str = "boolean inherit;Reset inherit"
                        in_terminal_labels = "[(\'boolean\', True), (\'Reset\', True)]"
                        in_terminal_properties = "inherit boolean;inherit Reset;"
                        init_fnc = "/*Begin code section*/
time_acc = 0;
Trip = 0;
/*End code section*/"
                        no_feed_inputs = "[\'\']"
                        no_feed_outputs = "[\'\']"
                        out_terminal_dimensions = "inherit"
                        out_terminal_dimensions_str = "Trip inherit"
                        out_terminal_labels = "[(\'Trip\', True)]"
                        out_terminal_properties = "int Trip;"
                        output_fnc = "/*Begin code section*/
if(time_acc>=5.0){
    Trip = 1;
}
else{
    time_acc += execution_rate*boolean;
}
if(Reset ==1){
    time_acc = 0;
    Trip = 0;
}
/*End code section*/"
                    }
                    [
                        position = 8616, 8288
                        size = 112, 48
                    ]

                    component "core/Edge Detection" "Edge Detection1" {
                    }
                    [
                        position = 8512, 8296
                        hide_name = True
                        size = 32, 32
                    ]

                    port w_ref {
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7864, 8168
                    ]

                    port P_SV {
                        label = "P_SV"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8584, 8056
                    ]

                    port w_m {
                        label = "w_m"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7864, 8216
                    ]

                    port ON_OFF2 {
                        label = "exc ON/OFF"
                        position = right:auto
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8736, 8344
                    ]

                    port ON_OFF1 {
                        label = "gov ON/OFF"
                        position = left:auto
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8360, 8240
                    ]

                    tag df {
                        value = "df"
                        scope = global
                        kind = sp
                        direction = in
                    }
                    [
                        position = 8160, 8136
                        rotation = down
                        hide_name = True
                        scale = -1, 1
                    ]

                    tag pds {
                        value = "pds"
                        scope = global
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8312, 8056
                    ]

                    junction Junction5 sp
                    [
                        position = 8472, 8280
                    ]

                    junction Junction6 sp
                    [
                        position = 8704, 8288
                    ]

                    junction Junction11 sp
                    [
                        position = 8112, 8192
                    ]

                    junction Junction12 sp
                    [
                        position = 8112, 8232
                    ]

                    connect Abs1.out Comparator1.in2 as Connection105
                    connect Abs1.in Junction12 as Connection102
                    connect Constant1.out Comparator1.in1 as Connection18
                    connect "Edge Detection1.In1" Junction5 as Connection36
                    connect "Edge Detection1.Out1" wait_to_trip.Reset as Connection33
                    connect Gain1.out Sum1.in1 as Connection61
                    connect Gain1.in w_m as Connection7
                    connect Gain4.in w_ref as Connection11
                    connect Junction11 Sum1.out as Connection114
                    [
                        breakpoints = 8112, 8192; 8112, 8192; 8112, 8192; 8112, 8192
                    ]
                    connect Junction12 Junction11 as Connection103
                    connect Junction5 wait_to_trip.boolean as Connection35
                    connect Junction6 Exc_state.in as Connection39
                    connect "Logical operator1.in1" Comparator1.out as Connection21
                    connect "Logical operator1.out" Junction5 as Connection34
                    connect ON_OFF1 "Logical operator1.in" as Connection113
                    [
                        breakpoints = 8400, 8240; 8400, 8240; 8400, 8240; 8400, 8240; 8400, 8272
                    ]
                    connect ON_OFF2 Junction6 as Connection40
                    connect "Rate Limiter1.in" Gain4.out as Connection13
                    connect "Rate Limiter1.out" Sum1.in as Connection116
                    connect df Junction11 as Connection101
                    connect pds P_SV as Connection117
                    connect "speed difference.in" Junction12 as Connection104
                    connect wait_to_trip.Trip Junction6 as Connection38
                }
                [
                    position = 7392, 8528
                    size = 176, 80
                ]

                component Subsystem Engine {
                    layout = dynamic
                    component gen_integrator Integrator1 {
                    }
                    [
                        position = 8272, 8192
                        hide_name = True
                    ]

                    component gen_sum Sum1 {
                        signs = "-+"
                    }
                    [
                        position = 8112, 8192
                        hide_name = True
                    ]

                    component gen_gain Gain1 {
                        gain = "1/T_CH"
                    }
                    [
                        position = 8192, 8192
                        hide_name = True
                    ]

                    port T_M2 {
                        label = "T_M"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8344, 8192
                    ]

                    port P_SV {
                        label = "P_SV"
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8016, 8216
                    ]

                    tag T_M {
                        value = "T_M"
                        scope = local
                        kind = sp
                        direction = in
                    }
                    [
                        position = 8368, 8264
                    ]

                    tag T_M1 {
                        value = "T_M"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8016, 8152
                        hide_name = True
                    ]

                    junction Junction1 sp
                    [
                        position = 8312, 8192
                    ]

                    connect Gain1.out Integrator1.in as Connection2
                    connect Integrator1.out Junction1 as Connection6
                    connect Junction1 T_M2 as Connection7
                    connect Sum1.out Gain1.in as Connection1
                    connect Sum1.in1 P_SV as Connection5
                    connect T_M Junction1 as Connection8
                    connect T_M1 Sum1.in as Connection3
                }
                [
                    position = 7592, 8496
                    size = 80, 56
                ]

                component Subsystem "I_q_a (algebraic)" {
                    layout = dynamic
                    component src_constant Constant1 {
                        execution_rate = "Ts"
                        value = "(X_qpp-X_ls)/(X_qp-X_ls)"
                    }
                    [
                        position = 8040, 8136
                        hide_name = True
                    ]

                    component gen_gain Gain1 {
                        gain = "1/(X_qpp+X_G)"
                    }
                    [
                        position = 8336, 8160
                        hide_name = True
                    ]

                    component gen_product Product1 {
                    }
                    [
                        position = 8144, 8160
                        hide_name = True
                    ]

                    component gen_product Product2 {
                    }
                    [
                        position = 8144, 8256
                        hide_name = True
                    ]

                    component gen_sum Sum1 {
                        signs = "--+"
                    }
                    [
                        position = 8256, 8160
                        hide_name = True
                    ]

                    component src_constant Constant2 {
                        execution_rate = "Ts"
                        value = "(X_qp-X_qpp)/(X_qp-X_ls)"
                    }
                    [
                        position = 8040, 8232
                        hide_name = True
                    ]

                    port Phi_q_a {
                        label = "Phi_q_a"
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8040, 8064
                    ]

                    port Phi_2q_a {
                        label = "Phi_2q_a"
                        position = left:3
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8040, 8280
                    ]

                    port E_dp {
                        label = "E_dp"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8040, 8176
                    ]

                    port I_q_a {
                        label = "I_q_a"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8400, 8160
                    ]

                    connect Constant1.out Product1.in as Connection4
                    connect Constant2.out Product2.in as Connection5
                    connect E_dp Product1.in1 as Connection10
                    connect Gain1.out I_q_a as Connection6
                    connect Product1.out Sum1.in1 as Connection2
                    connect Product2.in1 Phi_2q_a as Connection9
                    [
                        breakpoints = 8104, 8264; 8104, 8280
                    ]
                    connect Product2.out Sum1.in2 as Connection3
                    connect Sum1.out Gain1.in as Connection1
                    connect Sum1.in Phi_q_a as Connection7
                    [
                        breakpoints = 8216, 8144; 8216, 8064
                    ]
                }
                [
                    position = 7928, 7736
                    size = 112, 64
                ]

                component Subsystem E_dp {
                    layout = dynamic
                    component src_constant Constant1 {
                        execution_rate = "Ts"
                        value = "X_q-X_qp"
                    }
                    [
                        position = 8272, 8088
                        hide_name = True
                    ]

                    component gen_sum Sum2 {
                        signs = "+-"
                    }
                    [
                        position = 8272, 8160
                        hide_name = True
                    ]

                    component src_constant Constant3 {
                        execution_rate = "Ts"
                        value = "X_qp-X_ls"
                    }
                    [
                        position = 7936, 8248
                        hide_name = True
                    ]

                    component gen_product Product1 {
                    }
                    [
                        position = 8352, 8112
                        hide_name = True
                    ]

                    component gen_sum Sum1 {
                        signs = "-+"
                    }
                    [
                        position = 8448, 8104
                        hide_name = True
                    ]

                    component gen_sum Sum3 {
                        signs = "+++"
                    }
                    [
                        position = 8096, 8272
                        hide_name = True
                    ]

                    component src_constant Constant2 {
                        execution_rate = "Ts"
                        value = "(X_qp-X_qpp)/(X_qp-X_ls)**2"
                    }
                    [
                        position = 8096, 8200
                        hide_name = True
                    ]

                    component gen_product Product2 {
                    }
                    [
                        position = 8192, 8224
                        hide_name = True
                    ]

                    component gen_product Product3 {
                    }
                    [
                        position = 8016, 8272
                        hide_name = True
                    ]

                    component gen_gain Gain1 {
                        gain = "1/T_qop"
                    }
                    [
                        position = 8504, 8104
                        hide_name = True
                    ]

                    component gen_integrator Integrator1 {
                    }
                    [
                        position = 8560, 8104
                        hide_name = True
                    ]

                    port I_q_a {
                        label = "I_q_a"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7816, 8152
                    ]

                    port E_dp3 {
                        label = "E_dp"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8656, 8104
                        hide_name = True
                    ]

                    port Phi_2q_a {
                        label = "Phi_2q_a"
                        position = left:3
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8024, 8208
                    ]

                    tag E_dp1 {
                        value = "E_dp"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8352, 8048
                        hide_name = True
                    ]

                    tag E_dp {
                        value = "E_dp"
                        scope = local
                        kind = sp
                        direction = in
                    }
                    [
                        position = 8656, 8184
                        hide_name = True
                    ]

                    tag E_dp2 {
                        value = "E_dp"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8016, 8328
                        hide_name = True
                        size = 60, 20
                    ]

                    junction Junction2 sp
                    [
                        position = 7856, 8152
                    ]

                    junction Junction3 sp
                    [
                        position = 8608, 8104
                    ]

                    connect Constant1.out Product1.in as Connection3
                    connect Constant2.out Product2.in as Connection6
                    connect Constant3.out Product3.in as Connection19
                    connect E_dp Junction3 as Connection28
                    connect E_dp1 Sum1.in as Connection1
                    connect E_dp2 Sum3.in2 as Connection9
                    connect Gain1.in Sum1.out as Connection23
                    connect Integrator1.in Gain1.out as Connection24
                    connect Integrator1.out Junction3 as Connection26
                    connect Junction2 I_q_a as Connection21
                    connect Junction3 E_dp3 as Connection27
                    connect Product1.out Sum1.in1 as Connection2
                    connect Product2.out Sum2.in1 as Connection5
                    connect Product3.in1 Junction2 as Connection22
                    connect Product3.out Sum3.in1 as Connection8
                    connect Sum2.in Junction2 as Connection20
                    connect Sum2.out Product1.in1 as Connection4
                    connect Sum3.in Phi_2q_a as Connection15
                    connect Sum3.out Product2.in1 as Connection7
                }
                [
                    position = 8792, 8000
                    scale = -1, 1
                    size = 96, 88
                ]

                component Subsystem "Generator Voltage" {
                    layout = dynamic
                    component gen_product Product2 {
                    }
                    [
                        position = 8224, 8208
                        hide_name = True
                    ]

                    component gen_gain Gain4 {
                        gain = "1/w_0"
                    }
                    [
                        position = 8144, 8200
                        hide_name = True
                    ]

                    component gen_gain Gain2 {
                        gain = "-X_G"
                    }
                    [
                        position = 8104, 8288
                        hide_name = True
                    ]

                    component src_constant Constant1 {
                        execution_rate = "Ts"
                        value = "R_G"
                    }
                    [
                        position = 8048, 8080
                        hide_name = True
                    ]

                    component gen_product Product1 {
                    }
                    [
                        position = 8128, 8112
                        hide_name = True
                    ]

                    component gen_gain Gain1 {
                        gain = "1/w_0"
                    }
                    [
                        position = 8232, 8288
                        hide_name = True
                    ]

                    component gen_gain Gain3 {
                        gain = "-X_G"
                    }
                    [
                        position = 8072, 8240
                        hide_name = True
                    ]

                    component gen_differentiator Differentiator1 {
                    }
                    [
                        position = 8160, 8288
                        hide_name = True
                    ]

                    component gen_sum Sum1 {
                        signs = "+--+"
                    }
                    [
                        position = 8384, 8256
                        hide_name = True
                    ]

                    component gen_product Product3 {
                    }
                    [
                        position = 8136, 8480
                        hide_name = True
                    ]

                    component gen_gain Gain5 {
                        gain = "-X_G"
                    }
                    [
                        position = 8080, 8608
                        hide_name = True
                    ]

                    component gen_gain Gain6 {
                        gain = "1/w_0"
                    }
                    [
                        position = 8240, 8656
                        hide_name = True
                    ]

                    component src_constant Constant2 {
                        execution_rate = "Ts"
                        value = "R_G"
                    }
                    [
                        position = 8056, 8448
                        hide_name = True
                    ]

                    component gen_product Product4 {
                    }
                    [
                        position = 8232, 8576
                        hide_name = True
                    ]

                    component gen_gain Gain7 {
                        gain = "1/w_0"
                    }
                    [
                        position = 8152, 8568
                        hide_name = True
                    ]

                    component gen_differentiator Differentiator2 {
                    }
                    [
                        position = 8168, 8656
                        hide_name = True
                    ]

                    component gen_gain Gain8 {
                        gain = "-X_G"
                    }
                    [
                        position = 8112, 8656
                        hide_name = True
                    ]

                    component gen_sum Sum2 {
                        signs = "++-+"
                    }
                    [
                        position = 8384, 8616
                        hide_name = True
                    ]

                    port I_q_a2 {
                        label = "I_q_a"
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7952, 8120
                    ]

                    port w_e {
                        label = "w_e"
                        position = left:5
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7712, 8376
                    ]

                    port V_q_a {
                        label = "V_q_a"
                        position = left:3
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8232, 8352
                    ]

                    port V_qG {
                        label = "V_qG"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8488, 8256
                    ]

                    port V_d_a {
                        label = "V_d_a"
                        position = left:4
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8240, 8720
                    ]

                    port I_d_a4 {
                        label = "I_d_a"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7960, 8488
                    ]

                    port V_dG {
                        label = "V_dG"
                        position = right:3
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8496, 8616
                    ]

                    tag I_q_a1 {
                        value = "I_q_a"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8016, 8288
                        hide_name = True
                    ]

                    tag I_d_a1 {
                        value = "I_d_a"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8000, 8240
                        hide_name = True
                    ]

                    tag I_q_a {
                        value = "I_q_a"
                        scope = local
                        kind = sp
                        direction = in
                    }
                    [
                        position = 8072, 8160
                        hide_name = True
                    ]

                    tag I_d_a {
                        value = "I_d_a"
                        scope = local
                        kind = sp
                        direction = in
                    }
                    [
                        position = 8080, 8528
                        hide_name = True
                    ]

                    tag I_q_a3 {
                        value = "I_q_a"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8008, 8608
                        hide_name = True
                    ]

                    tag I_d_a5 {
                        value = "I_d_a"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8024, 8656
                        hide_name = True
                    ]

                    junction Junction1 sp
                    [
                        position = 8024, 8120
                    ]

                    junction Junction2 sp
                    [
                        position = 8032, 8488
                    ]

                    junction Junction3 sp
                    [
                        position = 7880, 8376
                    ]

                    connect Constant1.out Product1.in as Connection1
                    connect Constant2.out Product3.in as Connection27
                    connect Differentiator1.out Gain1.in as Connection5
                    connect Differentiator2.out Gain6.in as Connection26
                    connect Gain1.out Sum1.in2 as Connection15
                    [
                        breakpoints = 8328, 8288; 8328, 8264
                    ]
                    connect Gain2.out Differentiator1.in as Connection6
                    connect Gain3.out Product2.in1 as Connection9
                    connect Gain4.in Junction3 as Connection29
                    [
                        breakpoints = 8104, 8200; 7880, 8200
                    ]
                    connect Gain4.out Product2.in as Connection10
                    connect Gain5.out Product4.in1 as Connection25
                    connect Gain7.in Junction3 as Connection31
                    connect Gain7.out Product4.in as Connection28
                    connect Gain8.out Differentiator2.in as Connection21
                    connect I_d_a Junction2 as Connection20
                    connect I_d_a1 Gain3.in as Connection8
                    connect I_d_a5 Gain8.in as Connection22
                    connect I_q_a Junction1 as Connection18
                    connect I_q_a1 Gain2.in as Connection7
                    connect I_q_a3 Gain5.in as Connection19
                    connect Junction1 I_q_a2 as Connection17
                    connect Junction2 I_d_a4 as Connection24
                    connect Junction3 w_e as Connection30
                    [
                        breakpoints = 7880, 8376
                    ]
                    connect Product1.in1 Junction1 as Connection16
                    connect Product1.out Sum1.in as Connection2
                    connect Product2.out Sum1.in1 as Connection3
                    [
                        breakpoints = 8328, 8208; 8328, 8240
                    ]
                    connect Product3.in1 Junction2 as Connection23
                    connect Sum1.out V_qG as Connection61
                    [
                        breakpoints = 8448, 8256
                    ]
                    connect Sum1.in3 V_q_a as Connection13
                    [
                        breakpoints = 8344, 8280; 8344, 8352
                    ]
                    connect Sum2.in2 Gain6.out as Connection37
                    [
                        breakpoints = 8344, 8624; 8328, 8624; 8328, 8656
                    ]
                    connect Sum2.in Product3.out as Connection36
                    [
                        breakpoints = 8344, 8592; 8344, 8480
                    ]
                    connect Sum2.in1 Product4.out as Connection35
                    [
                        breakpoints = 8328, 8608; 8328, 8576
                    ]
                    connect Sum2.in3 V_d_a as Connection38
                    [
                        breakpoints = 8344, 8640; 8344, 8720
                    ]
                    connect V_dG Sum2.out as Connection60
                    [
                        breakpoints = 8448, 8616
                    ]
                }
                [
                    position = 8208, 8480
                    size = 128, 96
                ]

                component Subsystem Exciter {
                    layout = dynamic
                    component gen_integrator Integrator2 {
                        show_reset = "either"
                    }
                    [
                        position = 8368, 8104
                        hide_name = True
                    ]

                    component gen_gain Gain4 {
                        gain = "1/T_F"
                    }
                    [
                        position = 8296, 8096
                        hide_name = True
                    ]

                    component gen_gain Gain8 {
                        gain = "K_A"
                    }
                    [
                        position = 8136, 8336
                        hide_name = True
                    ]

                    component gen_gain Gain2 {
                        gain = "K_E+S_E"
                    }
                    [
                        position = 8136, 7904
                        hide_name = True
                    ]

                    component gen_gain Gain7 {
                        gain = "K_A"
                    }
                    [
                        position = 8136, 8232
                        hide_name = True
                    ]

                    component gen_sum Sum4 {
                        signs = "+-"
                    }
                    [
                        position = 8040, 8336
                        hide_name = True
                    ]

                    component gen_sum Sum3 {
                        signs = "-+-+"
                    }
                    [
                        position = 8240, 8264
                        hide_name = True
                    ]

                    component gen_gain Gain5 {
                        gain = "K_A*K_F/T_F"
                    }
                    [
                        position = 8136, 8296
                        hide_name = True
                    ]

                    component gen_gain Gain6 {
                        gain = "1/T_A"
                    }
                    [
                        position = 8296, 8264
                        hide_name = True
                    ]

                    component gen_gain Gain3 {
                        gain = "K_F/T_F"
                    }
                    [
                        position = 8136, 8128
                        hide_name = True
                    ]

                    component gen_gain Gain1 {
                        gain = "1/T_E"
                    }
                    [
                        position = 8296, 7936
                        hide_name = True
                    ]

                    component gen_sum Sum1 {
                        signs = "-+"
                    }
                    [
                        position = 8240, 7936
                        hide_name = True
                    ]

                    component gen_sum Sum2 {
                        signs = "-+"
                    }
                    [
                        position = 8240, 8096
                        hide_name = True
                    ]

                    component gen_integrator Integrator1 {
                        limit_lower = "-2"
                        limit_upper = "2"
                        show_reset = "either"
                    }
                    [
                        position = 8368, 7944
                        hide_name = True
                    ]

                    component gen_integrator Integrator3 {
                        limit_lower = "V_R_min"
                        limit_output = "True"
                        limit_upper = "V_R_max"
                        show_reset = "either"
                    }
                    [
                        position = 8368, 8272
                        hide_name = True
                    ]

                    component sys_signal_switch "|V|1" {
                        criterion = "ctrl != threshold"
                        threshold = "1"
                    }
                    [
                        position = 7904, 8312
                        hide_name = True
                    ]

                    component src_constant Constant1 {
                        execution_rate = "Ts"
                        value = "0"
                    }
                    [
                        position = 7832, 8296
                        hide_name = True
                    ]

                    component gen_probe "Volt difference" {
                    }
                    [
                        position = 8136, 8384
                    ]

                    component gen_rel_op "Relational operator1" {
                    }
                    [
                        position = 7616, 7920
                        hide_name = True
                    ]

                    component src_constant Constant2 {
                        execution_rate = "Ts"
                        signal_type = "int"
                    }
                    [
                        position = 7512, 7952
                        hide_name = True
                    ]

                    component gen_probe V_R_M {
                    }
                    [
                        position = 8560, 8216
                    ]

                    component gen_rate_limiter "Rate Limit" {
                        falling_limit = "V_fall"
                        rising_limit = "V_rise"
                    }
                    [
                        position = 7968, 8312
                        hide_name = True
                    ]

                    component gen_probe V_t_M {
                    }
                    [
                        position = 8560, 8408
                    ]

                    component gen_integrator Integrator4 {
                        show_reset = "either"
                    }
                    [
                        position = 8384, 8472
                        hide_name = True
                    ]

                    component gen_sum Sum5 {
                        signs = "-+"
                    }
                    [
                        position = 8240, 8464
                        hide_name = True
                    ]

                    component gen_gain Gain9 {
                        gain = "1/(T_R)"
                    }
                    [
                        position = 8304, 8464
                        hide_name = True
                    ]

                    component gen_probe R_F_M {
                    }
                    [
                        position = 8560, 8048
                    ]

                    component gen_digital_probe "exciter ON" {
                    }
                    [
                        position = 7696, 7968
                    ]

                    component gen_logic_op "Logical operator1" {
                        operator = "NOT"
                    }
                    [
                        position = 7640, 8024
                        rotation = right
                        hide_name = True
                    ]

                    component gen_digital_probe "exciter OFF" {
                    }
                    [
                        position = 7696, 8072
                    ]

                    component Subsystem PI {
                        layout = dynamic
                        component gen_integrator Integrator1 {
                            limit_lower = "[\'-inf\']"
                            limit_upper = "[\'inf\']"
                            show_reset = "either"
                        }
                        [
                            position = 8216, 8232
                            hide_name = True
                        ]

                        component gen_gain Kp {
                            gain = "exc_Kp"
                        }
                        [
                            position = 7992, 8152
                        ]

                        component gen_sum Sum7 {
                        }
                        [
                            position = 8088, 8224
                            hide_name = True
                        ]

                        component gen_gain Kb {
                        }
                        [
                            position = 8216, 8312
                            scale = -1, 1
                        ]

                        component gen_sum Sum6 {
                            signs = "-+"
                        }
                        [
                            position = 8320, 8312
                            hide_name = True
                            scale = -1, 1
                        ]

                        component gen_gain Ki {
                            gain = "exc_Ki"
                        }
                        [
                            position = 7992, 8216
                        ]

                        component gen_sum Sum5 {
                        }
                        [
                            position = 8320, 8224
                            hide_name = True
                        ]

                        component gen_limiter Limit1 {
                            lower_limit = "-10"
                            upper_limit = "10"
                        }
                        [
                            position = 8408, 8224
                            hide_name = True
                        ]

                        port Out {
                            label = "Out"
                            position = right:1
                            kind = sp
                            direction =  in
                            sp_type {
                                default = inherit
                                readonly = True
                            }
                        }
                        [
                            position = 8472, 8224
                        ]

                        port Reset {
                            label = "Reset"
                            position = top:1
                            kind = sp
                            direction =  out
                            sp_type {
                                default = auto
                                readonly = True
                            }
                        }
                        [
                            position = 8144, 8264
                        ]

                        port In {
                            label = "In"
                            position = left:1
                            kind = sp
                            direction =  out
                            sp_type {
                                default = auto
                                readonly = True
                            }
                        }
                        [
                            position = 7824, 8184
                        ]

                        junction Junction2 sp
                        [
                            position = 8368, 8224
                        ]

                        junction Junction3 sp
                        [
                            position = 8440, 8224
                        ]

                        junction Junction4 sp
                        [
                            position = 7928, 8184
                        ]

                        connect Integrator1.reset Reset as Connection2
                        connect Junction2 Limit1.in as Connection45
                        connect Junction3 Out as Connection48
                        connect Junction4 In as Connection57
                        connect Kb.in Sum6.out as Connection50
                        connect Ki.in Junction4 as Connection56
                        connect Ki.out Sum7.in as Connection54
                        connect Kp.in Junction4 as Connection58
                        connect Kp.out Sum5.in as Connection59
                        connect Limit1.out Junction3 as Connection47
                        connect Sum5.in1 Integrator1.out as Connection5
                        connect Sum5.out Junction2 as Connection44
                        connect Sum6.in Junction2 as Connection46
                        connect Sum6.in1 Junction3 as Connection49
                        connect Sum7.out Integrator1.in as Connection52
                        connect Sum7.in1 Kb.out as Connection53
                    }
                    [
                        position = 8504, 7944
                        size = 64, 48
                    ]

                    port E_F4 {
                        label = "E_F"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8584, 7944
                    ]

                    port "|V|" {
                        label = "|V|"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8144, 8480
                    ]

                    port V_ref {
                        label = "V_ref"
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7832, 8328
                    ]

                    port "Exc state" {
                        label = "exc ON/OFF"
                        position = left:auto
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7512, 7888
                    ]

                    tag R_F2 {
                        value = "R_F"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8040, 8232
                        hide_name = True
                    ]

                    tag E_F1 {
                        value = "E_F"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8040, 7904
                        hide_name = True
                    ]

                    tag V_R {
                        value = "V_R"
                        scope = local
                        kind = sp
                        direction = in
                    }
                    [
                        position = 8560, 8272
                        hide_name = True
                    ]

                    tag E_F3 {
                        value = "E_F"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8040, 8296
                        hide_name = True
                    ]

                    tag V_t {
                        value = "V_t"
                        scope = local
                        kind = sp
                        direction = in
                    }
                    [
                        position = 8560, 8472
                        hide_name = True
                    ]

                    tag E_F {
                        value = "E_F"
                        scope = local
                        kind = sp
                        direction = in
                    }
                    [
                        position = 8504, 8000
                        hide_name = True
                    ]

                    tag V_R1 {
                        value = "V_R"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8144, 7960
                        hide_name = True
                    ]

                    tag R_F {
                        value = "R_F"
                        scope = local
                        kind = sp
                        direction = in
                    }
                    [
                        position = 8560, 8104
                        hide_name = True
                    ]

                    tag V_t2 {
                        value = "V_t"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 7904, 8360
                        hide_name = True
                    ]

                    tag V_R2 {
                        value = "V_R"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8144, 8200
                        hide_name = True
                    ]

                    tag E_F2 {
                        value = "E_F"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8040, 8128
                        hide_name = True
                    ]

                    tag R_F1 {
                        value = "R_F"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8144, 8072
                        hide_name = True
                    ]

                    tag exc_state0 {
                        value = "ON/OFF"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 7832, 8256
                        hide_name = True
                    ]

                    tag exc_state {
                        value = "ON/OFF"
                        scope = local
                        kind = sp
                        direction = in
                    }
                    [
                        position = 7696, 7920
                        hide_name = True
                    ]

                    tag exc_state1 {
                        value = "ON/OFF"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8240, 8512
                        hide_name = True
                    ]

                    tag V_t1 {
                        value = "V_t"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8144, 8440
                        hide_name = True
                    ]

                    tag exc_state2 {
                        value = "ON/OFF"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8240, 8328
                        hide_name = True
                    ]

                    tag exc_state3 {
                        value = "ON/OFF"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8240, 8144
                        hide_name = True
                    ]

                    tag exc_state4 {
                        value = "ON/OFF"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8240, 7984
                        hide_name = True
                    ]

                    tag exc_state5 {
                        value = "ON/OFF"
                        scope = local
                        kind = sp
                        direction = out
                    }
                    [
                        position = 8416, 7880
                        hide_name = True
                    ]

                    tag dV {
                        value = "d|V|"
                        scope = global
                        kind = sp
                        direction = in
                    }
                    [
                        position = 8240, 8360
                        hide_name = True
                    ]

                    junction Junction4 sp
                    [
                        position = 8512, 8272
                    ]

                    junction Junction10 sp
                    [
                        position = 8512, 8472
                    ]

                    junction Junction12 sp
                    [
                        position = 8504, 8104
                    ]

                    junction Junction14 sp
                    [
                        position = 7640, 7920
                    ]

                    junction Junction16 sp
                    [
                        position = 7640, 7968
                    ]

                    junction Junction17 sp
                    [
                        position = 8096, 8336
                    ]

                    junction Junction18 sp
                    [
                        position = 8416, 7944
                    ]

                    junction Junction19 sp
                    [
                        position = 8096, 8360
                    ]

                    connect Constant1.out "|V|1.in" as Connection42
                    connect Constant2.out "Relational operator1.in1" as Connection56
                    connect E_F Junction18 as Connection167
                    connect E_F1 Gain2.in as Connection4
                    connect E_F2 Gain3.in as Connection7
                    connect E_F3 Gain5.in as Connection12
                    connect "Exc state" "Relational operator1.in" as Connection57
                    connect Gain1.out Integrator1.in as Connection1
                    connect Gain1.in Sum1.out as Connection2
                    connect Gain2.out Sum1.in as Connection3
                    connect Gain3.out Sum2.in1 as Connection8
                    connect Gain4.out Integrator2.in as Connection9
                    connect Gain5.out Sum3.in2 as Connection21
                    [
                        breakpoints = 8192, 8288; 8192, 8272
                    ]
                    connect Gain6.out Integrator3.in as Connection16
                    connect Gain7.out Sum3.in1 as Connection20
                    [
                        breakpoints = 8192, 8232; 8192, 8256
                    ]
                    connect Gain8.in Junction17 as Connection159
                    connect Gain8.out Sum3.in3 as Connection22
                    connect Integrator1.out Junction18 as Connection165
                    connect Integrator4.in Gain9.out as Connection60
                    connect Junction10 Integrator4.out as Connection123
                    connect Junction12 Integrator2.out as Connection138
                    connect Junction14 "Relational operator1.out" as Connection145
                    connect Junction16 Junction14 as Connection153
                    connect Junction17 Junction19 as Connection173
                    [
                        breakpoints = 8096, 8336
                    ]
                    connect Junction17 Sum4.out as Connection160
                    connect Junction18 PI.In as Connection166
                    connect Junction19 "Volt difference.in" as Connection174
                    [
                        breakpoints = 8096, 8360
                    ]
                    connect Junction4 Integrator3.out as Connection93
                    connect "Logical operator1.in" Junction16 as Connection154
                    connect PI.Out E_F4 as Connection164
                    connect R_F Junction12 as Connection137
                    connect R_F1 Sum2.in as Connection6
                    connect R_F2 Gain7.in as Connection19
                    connect R_F_M.in Junction12 as Connection139
                    connect Sum2.out Gain4.in as Connection10
                    connect Sum3.out Gain6.in as Connection14
                    connect Sum4.in "Rate Limit.out" as Connection140
                    [
                        breakpoints = 8000, 8312; 8000, 8312
                    ]
                    connect Sum5.out Gain9.in as Connection26
                    connect V_R Junction4 as Connection92
                    connect V_R1 Sum1.in1 as Connection5
                    connect V_R2 Sum3.in as Connection18
                    connect V_R_M.in Junction4 as Connection94
                    connect V_ref "|V|1.in1" as Connection41
                    connect V_t Junction10 as Connection122
                    connect V_t1 Sum5.in as Connection25
                    connect V_t2 Sum4.in1 as Connection75
                    connect V_t_M.in Junction10 as Connection124
                    connect dV Junction19 as Connection175
                    connect exc_state Junction14 as Connection144
                    connect exc_state1 Integrator4.reset as Connection98
                    connect exc_state2 Integrator3.reset as Connection125
                    connect exc_state3 Integrator2.reset as Connection127
                    connect exc_state4 Integrator1.reset as Connection126
                    connect exc_state5 PI.Reset as Connection168
                    connect "exciter OFF.in" "Logical operator1.out" as Connection155
                    connect "exciter ON.in" Junction16 as Connection152
                    connect "|V|" Sum5.in1 as Connection120
                    connect "|V|1.out" "Rate Limit.in" as Connection48
                    connect "|V|1.in2" exc_state0 as Connection162
                }
                [
                    position = 8872, 8520
                    scale = -1, 1
                    size = 96, 64
                ]

                component Subsystem V_dG2 {
                    layout = dynamic
                    component gen_product Product3 {
                        signs = "*/"
                    }
                    [
                        position = 8032, 8216
                        hide_name = True
                    ]

                    component gen_product Product2 {
                    }
                    [
                        position = 8128, 8264
                        hide_name = True
                    ]

                    component gen_sum Sum2 {
                        signs = "-+"
                    }
                    [
                        position = 8304, 8288
                        hide_name = True
                    ]

                    component src_constant Constant2 {
                        execution_rate = "Ts"
                        value = "w_0"
                    }
                    [
                        position = 7960, 8248
                        hide_name = True
                    ]

                    component gen_gain Gain1 {
                        gain = "1/w_0"
                    }
                    [
                        position = 8176, 8312
                        hide_name = True
                    ]

                    component gen_differentiator Differentiator1 {
                    }
                    [
                        position = 8232, 8312
                        hide_name = True
                    ]

                    component tm_delay "Unit Delay1" {
                    }
                    [
                        position = 8360, 8288
                        hide_name = True
                    ]

                    port w_e {
                        label = "w_e"
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7960, 8184
                    ]

                    port Phi_q_a {
                        label = "Phi_q_a"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8056, 8272
                    ]

                    port Phi_d_a {
                        label = "Phi_d_a"
                        position = left:4
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8120, 8312
                    ]

                    port V_d_a {
                        label = "V_d_a"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8408, 8288
                    ]

                    connect Constant2.out Product3.in1 as Connection5
                    connect Differentiator1.in Gain1.out as Connection18
                    connect Gain1.in Phi_d_a as Connection16
                    connect Product2.in1 Phi_q_a as Connection13
                    connect Product2.out Sum2.in as Connection14
                    connect Product3.out Product2.in as Connection4
                    connect Product3.in w_e as Connection11
                    connect Sum2.in1 Differentiator1.out as Connection17
                    connect "Unit Delay1.in" Sum2.out as Connection20
                    connect V_d_a "Unit Delay1.out" as Connection19
                }
                [
                    position = 8256, 8592
                    size = 80, 80
                ]

                component Subsystem V_qG2 {
                    layout = dynamic
                    component gen_product Product3 {
                        signs = "*/"
                    }
                    [
                        position = 8184, 8176
                        hide_name = True
                    ]

                    component gen_product Product2 {
                    }
                    [
                        position = 8280, 8224
                        hide_name = True
                    ]

                    component gen_sum Sum2 {
                    }
                    [
                        position = 8384, 8264
                        hide_name = True
                    ]

                    component src_constant Constant2 {
                        execution_rate = "Ts"
                        value = "w_0"
                    }
                    [
                        position = 8112, 8208
                        hide_name = True
                    ]

                    component gen_gain Gain1 {
                        gain = "1/w_0"
                    }
                    [
                        position = 8256, 8304
                        hide_name = True
                    ]

                    component gen_differentiator Differentiator1 {
                    }
                    [
                        position = 8304, 8304
                        hide_name = True
                    ]

                    component tm_delay "Unit Delay1" {
                    }
                    [
                        position = 8440, 8264
                        hide_name = True
                    ]

                    port w_e {
                        label = "w_e"
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8112, 8144
                    ]

                    port Phi_d_a {
                        label = "Phi_d_a"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8208, 8232
                    ]

                    port Phi_q_a {
                        label = "Phi_q_a"
                        position = left:4
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8208, 8304
                    ]

                    port V_qG {
                        label = "V_qG"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8488, 8264
                    ]

                    connect Constant2.out Product3.in1 as Connection5
                    connect Differentiator1.in Gain1.out as Connection19
                    connect Differentiator1.out Sum2.in1 as Connection21
                    connect Gain1.in Phi_q_a as Connection17
                    connect Product2.in1 Phi_d_a as Connection13
                    connect Product2.out Sum2.in as Connection22
                    connect Product3.out Product2.in as Connection4
                    connect Product3.in w_e as Connection11
                    connect Sum2.out "Unit Delay1.in" as Connection23
                    connect "Unit Delay1.out" V_qG as Connection24
                }
                [
                    position = 8256, 8360
                    size = 80, 80
                ]

                component Subsystem "Phi_q_a 2" {
                    layout = dynamic
                    component gen_product Product2 {
                    }
                    [
                        position = 8144, 8256
                        hide_name = True
                    ]

                    component gen_sum Sum1 {
                        signs = "-+"
                    }
                    [
                        position = 8256, 8208
                        hide_name = True
                    ]

                    component src_constant Constant1 {
                        execution_rate = "Ts"
                        value = "(X_qpp-X_ls)/(X_qp-X_ls)"
                    }
                    [
                        position = 8040, 8136
                        hide_name = True
                    ]

                    component src_constant Constant2 {
                        execution_rate = "Ts"
                        value = "(X_qp-X_qpp)/(X_qp-X_ls)"
                    }
                    [
                        position = 8040, 8232
                        hide_name = True
                    ]

                    component gen_product Product1 {
                    }
                    [
                        position = 8144, 8160
                        hide_name = True
                    ]

                    port E_dp {
                        label = "E_dp"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8040, 8176
                    ]

                    port Phi_2q_a {
                        label = "Phi_2q_a"
                        position = left:3
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8040, 8280
                    ]

                    port Phi_q_a {
                        label = "Phi_q_a"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8336, 8208
                    ]

                    connect Constant1.out Product1.in as Connection4
                    connect Constant2.out Product2.in as Connection5
                    connect E_dp Product1.in1 as Connection10
                    connect Phi_q_a Sum1.out as Connection13
                    connect Product1.out Sum1.in as Connection11
                    connect Product2.in1 Phi_2q_a as Connection9
                    connect Product2.out Sum1.in1 as Connection12
                }
                [
                    position = 8408, 7976
                    scale = -1, 1
                    size = 128, 64
                ]

                component Subsystem "Phi_d_a 2" {
                    layout = dynamic
                    component src_constant Constant2 {
                        execution_rate = "Ts"
                        value = "(X_dp-X_dpp)/(X_dp-X_ls)"
                    }
                    [
                        position = 8040, 8232
                        hide_name = True
                    ]

                    component src_constant Constant1 {
                        execution_rate = "Ts"
                        value = "(X_dpp-X_ls)/(X_dp-X_ls)"
                    }
                    [
                        position = 8040, 8136
                        hide_name = True
                    ]

                    component gen_product Product1 {
                    }
                    [
                        position = 8144, 8160
                        hide_name = True
                    ]

                    component gen_sum Sum1 {
                        signs = "++"
                    }
                    [
                        position = 8256, 8208
                        hide_name = True
                    ]

                    component gen_product Product2 {
                    }
                    [
                        position = 8144, 8256
                        hide_name = True
                    ]

                    port E_qp {
                        label = "E_qp"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8040, 8176
                    ]

                    port Phi_1d_a {
                        label = "Phi_1d_a"
                        position = left:3
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8040, 8280
                    ]

                    port Phi_d_a {
                        label = "Phi_d_a"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8360, 8208
                    ]

                    connect Constant1.out Product1.in as Connection4
                    connect Constant2.out Product2.in as Connection5
                    connect E_qp Product1.in1 as Connection10
                    connect Phi_d_a Sum1.out as Connection13
                    connect Product1.out Sum1.in as Connection11
                    connect Product2.in1 Phi_1d_a as Connection9
                    connect Product2.out Sum1.in1 as Connection12
                    [
                        breakpoints = 8216, 8256; 8216, 8224
                    ]
                }
                [
                    position = 7944, 7976
                    size = 128, 64
                ]

                component Subsystem theta_G {
                    layout = dynamic
                    component gen_sum Sum1 {
                        signs = "++"
                    }
                    [
                        position = 8184, 8200
                        hide_name = True
                    ]

                    component gen_gain Gain1 {
                        gain = "-1"
                    }
                    [
                        position = 7960, 8136
                        hide_name = True
                    ]

                    component sys_signal_switch "Signal switch1" {
                    }
                    [
                        position = 8096, 8144
                        hide_name = True
                    ]

                    component src_constant Constant1 {
                        execution_rate = "Ts"
                        value = "0"
                    }
                    [
                        position = 8008, 8104
                        hide_name = True
                    ]

                    component gen_c_function remainder {
                        global_variables = "real out;"
                        in_terminal_dimensions = "inherit"
                        in_terminal_dimensions_str = "in inherit"
                        in_terminal_labels = "[(\'in\', True)]"
                        init_fnc = "/*Begin code section*/
out = 0;
in = 0;
/*End code section*/"
                        no_feed_inputs = "[\'\']"
                        no_feed_outputs = "[\'\']"
                        out_terminal_dimensions = "inherit"
                        out_terminal_dimensions_str = "output inherit"
                        out_terminal_labels = "[(\'output\', True)]"
                        out_terminal_properties = "real output;"
                        output_fnc = "/*Begin code section*/
output = out+0.0;
/*End code section*/"
                        parameters = "real Ts;"
                        update_fnc = "/*Begin code section*/
out = fmod(in,6.283185307179586);
/*End code section*/"
                    }
                    [
                        position = 8328, 8200
                        hide_name = True
                        size = 112, 48
                    ]

                    component gen_trigonometric "Trigonometric function2" {
                        trigonometric_fn = "atan2"
                    }
                    [
                        position = 8032, 8160
                        hide_name = True
                    ]

                    component gen_integrator Integrator1 {
                    }
                    [
                        position = 8032, 8256
                        hide_name = True
                    ]

                    port w_e {
                        label = "w_e"
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7912, 8256
                    ]

                    port V_qG {
                        label = "V_qG"
                        position = left:auto
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7912, 8184
                    ]

                    port V_dG {
                        label = "V_dG"
                        position = left:auto
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 7912, 8136
                    ]

                    port theta_G {
                        label = "theta_G"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8464, 8200
                    ]

                    port "Exc ON_OFF" {
                        label = "ON/OFF"
                        position = left:auto
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8008, 8048
                    ]

                    connect Constant1.out "Signal switch1.in" as Connection18
                    connect "Exc ON_OFF" "Signal switch1.in2" as Connection17
                    connect Gain1.out "Trigonometric function2.in" as Connection112
                    connect Integrator1.out Sum1.in1 as Connection122
                    connect "Signal switch1.out" Sum1.in as Connection120
                    connect "Trigonometric function2.out" "Signal switch1.in1" as Connection105
                    connect V_dG Gain1.in as Connection6
                    connect V_qG "Trigonometric function2.in1" as Connection113
                    connect remainder.in Sum1.out as Connection117
                    [
                        breakpoints = 8256, 8200
                    ]
                    connect remainder.output theta_G as Connection5
                    connect w_e Integrator1.in as Connection121
                }
                [
                    position = 8744, 8336
                    scale = -1, 1
                    size = 96, 96
                ]

                component Subsystem magnitude {
                    layout = dynamic
                    component gen_math_fnc "Mathematical function1" {
                        mathematical_fn = "sqrt"
                    }
                    [
                        position = 8272, 8192
                        hide_name = True
                    ]

                    component gen_product Product5 {
                    }
                    [
                        position = 8112, 8128
                        hide_name = True
                    ]

                    component gen_product Product6 {
                    }
                    [
                        position = 8112, 8256
                        hide_name = True
                    ]

                    component gen_sum Sum3 {
                    }
                    [
                        position = 8192, 8192
                        hide_name = True
                    ]

                    port q {
                        label = "q"
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8032, 8120
                    ]

                    port d {
                        label = "d"
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8032, 8248
                    ]

                    port magnitude {
                        label = "magnitude"
                        position = right:1
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8344, 8192
                    ]

                    junction Junction1 sp
                    [
                        position = 8064, 8248
                    ]

                    junction Junction2 sp
                    [
                        position = 8064, 8120
                    ]

                    connect Junction1 Product6.in as Connection149
                    connect Junction2 q as Connection152
                    connect "Mathematical function1.out" magnitude as Connection146
                    connect Product5.in Junction2 as Connection151
                    connect Product5.in1 Junction2 as Connection153
                    connect Product5.out Sum3.in as Connection56
                    connect Product6.in1 Junction1 as Connection150
                    connect Product6.out Sum3.in1 as Connection143
                    connect Sum3.out "Mathematical function1.in" as Connection58
                    connect d Junction1 as Connection148
                }
                [
                    position = 8464, 8480
                    hide_name = True
                    size = 80, 48
                ]

                port V_q_a {
                    label = "V_q_a"
                    position = left:1
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 7896, 8480
                ]

                port V_d_a {
                    label = "V_d_a"
                    position = left:2
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 7936, 8496
                ]

                port V_qG {
                    label = "V_qG"
                    position = right:1
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8432, 8376
                ]

                port V_dG {
                    label = "V_dG"
                    position = right:2
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8432, 8576
                ]

                port V_ref {
                    label = "V_ref"
                    position = left:3
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 9016, 8480
                    scale = -1, 1
                ]

                port w_ref {
                    label = "w_ref"
                    position = left:5
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 7200, 8488
                ]

                port ON_OFF {
                    label = "ON/OFF"
                    position = left:auto
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 7200, 8584
                ]

                port 1_ON_OFF_1 {
                    label = "exc state"
                    position = right:3
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 7592, 8608
                ]

                port theta_G2 {
                    label = "theta_G"
                    position = right:2
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8608, 8360
                    scale = -1, 1
                ]

                tag Phi_d_a2 {
                    value = "Phi_d_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8520, 7704
                    hide_name = True
                    scale = -1, 1
                ]

                tag w_m2 {
                    value = "w_m"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7200, 8536
                    hide_name = True
                ]

                tag E_qp2 {
                    value = "E_qp"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8520, 7736
                    hide_name = True
                    scale = -1, 1
                ]

                tag T_M1 {
                    value = "T_M"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7696, 8496
                    hide_name = True
                ]

                tag T_M {
                    value = "T_M"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7376, 8304
                    hide_name = True
                ]

                tag I_q_a2 {
                    value = "I_q_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8928, 7976
                    hide_name = True
                    scale = -1, 1
                ]

                tag w_m1 {
                    value = "w_m"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7744, 8352
                    hide_name = True
                ]

                tag E_F {
                    value = "E_F"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 8760, 8520
                    hide_name = True
                    scale = -1, 1
                ]

                tag I_d_a6 {
                    value = "I_d_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8080, 8464
                    hide_name = True
                ]

                tag Phi_q_a3 {
                    value = "Phi_q_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7808, 8064
                    hide_name = True
                ]

                tag Phi_2q_a2 {
                    value = "Phi_2q_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7808, 7768
                    hide_name = True
                ]

                tag I_q_a3 {
                    value = "I_q_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8544, 8096
                    hide_name = True
                    scale = -1, 1
                ]

                tag w_e1 {
                    value = "w_e"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7744, 8400
                    hide_name = True
                ]

                tag w_e4 {
                    value = "w_e"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8080, 8528
                    hide_name = True
                ]

                tag Phi_q_a2 {
                    value = "Phi_q_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7808, 7704
                    hide_name = True
                ]

                tag Phi_d_a3 {
                    value = "Phi_d_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8544, 8064
                    hide_name = True
                    scale = -1, 1
                ]

                tag "|V|2" {
                    value = "|V|"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 9016, 8520
                    hide_name = True
                    scale = -1, 1
                ]

                tag Phi_1d_a2 {
                    value = "Phi_1d_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8520, 7768
                    hide_name = True
                    scale = -1, 1
                ]

                tag "|V|1" {
                    value = "|V|"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 8584, 8480
                    hide_name = True
                ]

                tag E_dp2 {
                    value = "E_dp"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7808, 7736
                    hide_name = True
                ]

                tag Phi_d_a4 {
                    value = "Phi_d_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7376, 8328
                    hide_name = True
                ]

                tag w_e5 {
                    value = "w_e"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8856, 8296
                    hide_name = True
                    scale = -1, 1
                ]

                tag I_q_a6 {
                    value = "I_q_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8680, 8232
                    hide_name = True
                    scale = -1, 1
                ]

                tag E_dp1 {
                    value = "E_dp"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 8648, 8000
                    hide_name = True
                    scale = -1, 1
                ]

                tag E_qp1 {
                    value = "E_qp"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7704, 8000
                    hide_name = True
                ]

                tag Phi_2q_a3 {
                    value = "Phi_2q_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8928, 8024
                    hide_name = True
                    scale = -1, 1
                ]

                tag I_q_a {
                    value = "I_q_a"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 8128, 7720
                    hide_name = True
                ]

                tag E_qp3 {
                    value = "E_qp"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7680, 8200
                    hide_name = True
                ]

                tag Phi_q_a4 {
                    value = "Phi_q_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7376, 8400
                    hide_name = True
                ]

                tag I_d_a5 {
                    value = "I_d_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7376, 8376
                    hide_name = True
                ]

                tag E_F1 {
                    value = "E_F"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7440, 7968
                    hide_name = True
                ]

                tag Phi_2q_a1 {
                    value = "Phi_2q_a"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 8416, 8216
                    hide_name = True
                    scale = -1, 1
                ]

                tag I_d_a3 {
                    value = "I_d_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7440, 8000
                    hide_name = True
                ]

                tag Phi_1d_a3 {
                    value = "Phi_1d_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7440, 8032
                    hide_name = True
                ]

                tag I_q_a5 {
                    value = "I_q_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8080, 8432
                    hide_name = True
                ]

                tag E_dp3 {
                    value = "E_dp"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8680, 8200
                    hide_name = True
                    scale = -1, 1
                ]

                tag I_d_a2 {
                    value = "I_d_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7680, 8232
                    hide_name = True
                ]

                tag I_d_a4 {
                    value = "I_d_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7808, 8096
                    hide_name = True
                ]

                tag w_e2 {
                    value = "w_e"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7808, 8040
                    hide_name = True
                ]

                tag I_q_a4 {
                    value = "I_q_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7376, 8352
                    hide_name = True
                ]

                tag w_e3 {
                    value = "w_e"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8544, 8040
                    hide_name = True
                    scale = -1, 1
                ]

                tag Phi_1d_a1 {
                    value = "Phi_1d_a"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7944, 8216
                    hide_name = True
                ]

                tag V_d_a1 {
                    value = "V_d_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7808, 8120
                    hide_name = True
                ]

                tag V_q_a1 {
                    value = "V_q_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8544, 8120
                    hide_name = True
                    scale = -1, 1
                ]

                tag V_q_a2 {
                    value = "V_q_a"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7992, 8456
                    hide_name = True
                ]

                tag V_d_a2 {
                    value = "V_d_a"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 8016, 8512
                    hide_name = True
                ]

                tag Connect2 {
                    value = "Connect"
                    scope = global
                    kind = sp
                    direction = out
                }
                [
                    position = 8016, 7656
                    hide_name = True
                ]

                tag Connect3 {
                    value = "Connect"
                    scope = global
                    kind = sp
                    direction = out
                }
                [
                    position = 8320, 7656
                    hide_name = True
                    scale = -1, 1
                ]

                tag I_d_a {
                    value = "I_d_a"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 8200, 7720
                    hide_name = True
                    scale = -1, 1
                ]

                tag Connect4 {
                    value = "Connect"
                    scope = global
                    kind = sp
                    direction = out
                }
                [
                    position = 7952, 7896
                    hide_name = True
                ]

                tag Phi_d_a1 {
                    value = "Phi_d_a"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 8128, 8016
                    hide_name = True
                ]

                tag Phi_q_a1 {
                    value = "Phi_q_a"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 8216, 8016
                    hide_name = True
                    scale = -1, 1
                ]

                tag Connect5 {
                    value = "Connect"
                    scope = global
                    kind = sp
                    direction = out
                }
                [
                    position = 8256, 8296
                    hide_name = True
                ]

                tag Connect6 {
                    value = "Connect"
                    scope = global
                    kind = sp
                    direction = out
                }
                [
                    position = 8256, 8672
                    hide_name = True
                ]

                tag Phi_q_a5 {
                    value = "Phi_q_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8136, 8592
                    hide_name = True
                ]

                tag w_e6 {
                    value = "w_e"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8136, 8568
                    hide_name = True
                ]

                tag Phi_d_a5 {
                    value = "Phi_d_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8136, 8616
                    hide_name = True
                ]

                tag w_e7 {
                    value = "w_e"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8136, 8336
                    hide_name = True
                ]

                tag Phi_q_a6 {
                    value = "Phi_q_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8136, 8384
                    hide_name = True
                ]

                tag Phi_d_a6 {
                    value = "Phi_d_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8136, 8360
                    hide_name = True
                ]

                tag E_dp4 {
                    value = "E_dp"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8536, 7960
                    hide_name = True
                    scale = -1, 1
                ]

                tag Phi_2q_a4 {
                    value = "Phi_2q_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8536, 7992
                    hide_name = True
                    scale = -1, 1
                ]

                tag E_qp4 {
                    value = "E_qp"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7816, 7960
                    hide_name = True
                ]

                tag Phi_1d_a4 {
                    value = "Phi_1d_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7816, 7992
                    hide_name = True
                ]

                tag Phi_d_a7 {
                    value = "Phi_d_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8064, 8112
                    hide_name = True
                    scale = -1, 1
                ]

                tag Phi_q_a7 {
                    value = "Phi_q_a"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8280, 8112
                    hide_name = True
                ]

                tag V_qG1 {
                    value = "V_qG"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 8464, 8424
                    hide_name = True
                ]

                tag V_dG1 {
                    value = "V_dG"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 8464, 8544
                    hide_name = True
                ]

                tag V_dG3 {
                    value = "V_dG"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8856, 8352
                    hide_name = True
                    scale = -1, 1
                ]

                tag V_qG3 {
                    value = "V_qG"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8856, 8320
                    hide_name = True
                    scale = -1, 1
                ]

                tag theta_G1 {
                    value = "theta_G"
                    scope = global
                    kind = sp
                    direction = in
                }
                [
                    position = 8608, 8336
                    hide_name = True
                    scale = -1, 1
                ]

                tag "Exc state" {
                    value = "ON/OFF"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7592, 8576
                    hide_name = True
                ]

                tag "Exc state1" {
                    value = "ON/OFF"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 9016, 8560
                    hide_name = True
                    scale = -1, 1
                ]

                tag "Exc state2" {
                    value = "ON/OFF"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8856, 8376
                    hide_name = True
                    scale = -1, 1
                ]

                junction Junction2 sp
                [
                    position = 7936, 8480
                ]

                junction Junction3 sp
                [
                    position = 7968, 8496
                ]

                junction Junction4 sp
                [
                    position = 8064, 7896
                ]

                junction Junction5 sp
                [
                    position = 8400, 8376
                ]

                junction Junction6 sp
                [
                    position = 8400, 8576
                ]

                junction Junction7 sp
                [
                    position = 7656, 8000
                ]

                junction Junction9 sp
                [
                    position = 7656, 8496
                ]

                junction Junction10 sp
                [
                    position = 7888, 8216
                ]

                junction Junction11 sp
                [
                    position = 8472, 8216
                ]

                junction Junction12 sp
                [
                    position = 8400, 8424
                ]

                junction Junction13 sp
                [
                    position = 8400, 8544
                ]

                junction Junction14 sp
                [
                    position = 8528, 8480
                ]

                junction Junction15 sp
                [
                    position = 8808, 8520
                ]

                junction Junction16 sp
                [
                    position = 8664, 8336
                ]

                junction Junction17 sp
                [
                    position = 8088, 8016
                ]

                junction Junction18 sp
                [
                    position = 8256, 8016
                ]

                junction Junction19 sp
                [
                    position = 8712, 8000
                ]

                junction Junction20 sp
                [
                    position = 7632, 8352
                ]

                junction Junction21 sp
                [
                    position = 7632, 8352
                ]

                junction Junction22 sp
                [
                    position = 7496, 8576
                ]

                junction Junction23 sp
                [
                    position = 8664, 8336
                ]

                junction Junction24 sp
                [
                    position = 8400, 8376
                ]

                junction Junction25 sp
                [
                    position = 8400, 8576
                ]

                connect 1_ON_OFF_1 Junction22 as Connection187
                connect Connect2 q-Current.in2 as Connection76
                connect Connect3 d-Current.in2 as Connection80
                connect Connect4 Junction4 as Connection91
                connect Connect5 q-Voltage.in2 as Connection98
                connect Connect6 d-Voltage.in2 as Connection102
                connect Constant1.out q-Current.in as Connection78
                connect Constant2.out d-Current.in as Connection81
                connect E_F Junction15 as Connection161
                connect E_F1 E_qp.E_F as Connection53
                connect E_F_M.in Junction15 as Connection163
                connect E_dp1 Junction19 as Connection173
                connect E_dp2 "I_q_a (algebraic).E_dp" as Connection31
                connect E_dp3 Phi_2q_a.E_dp as Connection32
                connect E_dp4 "Phi_q_a 2.E_dp" as Connection89
                connect E_dp_M.in Junction19 as Connection175
                connect E_qp.E_qp3 Junction7 as Connection128
                connect E_qp2 "I_d_a (algebraic).E_qp" as Connection33
                connect E_qp3 Phi_1d_a.E_qp as Connection34
                connect E_qp4 "Phi_d_a 2.E_qp" as Connection97
                connect E_qp_M.in Junction7 as Connection130
                connect Engine.T_M2 Junction9 as Connection134
                connect "Exc state" Junction22 as Connection185
                connect "Exc state1" "Exciter.Exc state" as Connection127
                [
                    breakpoints = 8968, 8560; 8936, 8560
                ]
                connect "Exc state2" "theta_G.Exc ON_OFF" as Connection176
                connect Exciter.V_ref V_ref as Connection57
                [
                    breakpoints = 8936, 8504; 8936, 8480; 8984, 8480
                ]
                connect Gain1.out w_e1 as Connection18
                connect "Generator Voltage.V_q_a" Junction2 as Connection66
                connect "Generator Voltage.V_d_a" Junction3 as Connection73
                connect "Generator Voltage.V_qG" q-Voltage.in1 as Connection177
                connect Governor.P_SV Engine.P_SV as Connection1
                [
                    breakpoints = 7496, 8496; 7536, 8496
                ]
                connect I_d_a d-Current.out as Connection83
                connect "I_d_a (algebraic).I_d_a" d-Current.in1 as Connection82
                connect I_d_a2 Phi_1d_a.I_d_a as Connection43
                connect I_d_a3 E_qp.I_d_a as Connection44
                connect I_d_a4 Phi_d_a.I_d_a as Connection45
                connect I_d_a5 w_m.I_d_a as Connection46
                connect I_d_a6 "Generator Voltage.I_d_a4" as Connection47
                connect I_q_a q-Current.out as Connection77
                connect "I_q_a (algebraic).I_q_a" q-Current.in1 as Connection79
                connect I_q_a2 E_dp.I_q_a as Connection37
                connect I_q_a3 Phi_q_a.I_q_a as Connection38
                connect I_q_a4 w_m.I_q_a as Connection39
                connect I_q_a5 "Generator Voltage.I_q_a2" as Connection40
                connect I_q_a6 Phi_2q_a.I_q_a as Connection41
                connect Junction10 Phi_1d_a1 as Connection138
                connect Junction11 Phi_2q_a.Phi_2q_a as Connection141
                connect Junction12 Junction5 as Connection153
                connect Junction13 Junction6 as Connection156
                [
                    breakpoints = 8400, 8544; 8400, 8576
                ]
                connect Junction14 "|V|1" as Connection159
                connect Junction15 Exciter.E_F4 as Connection162
                connect Junction16 theta_G.theta_G as Connection165
                connect Junction17 q-flux.out as Connection168
                connect Junction18 Phi_q_a1 as Connection171
                connect Junction19 E_dp.E_dp3 as Connection174
                connect Junction2 V_q_a as Connection67
                connect Junction20 Gain1.in as Connection180
                connect Junction21 Junction20 as Connection183
                connect Junction22 Governor.ON_OFF2 as Connection186
                connect Junction23 Junction16 as Connection189
                [
                    breakpoints = 8664, 8336
                ]
                connect Junction24 Junction5 as Connection192
                connect Junction25 Junction6 as Connection195
                connect Junction3 V_d_a as Connection74
                [
                    breakpoints = 7968, 8496
                ]
                connect Junction4 q-flux.in2 as Connection92
                connect Junction5 V_qG as Connection117
                connect Junction6 V_dG as Connection120
                connect Junction7 E_qp1 as Connection129
                connect Junction9 T_M1 as Connection135
                connect ON_OFF Governor.ON_OFF1 as Connection124
                connect Phi_1d_a.Phi_1d_a Junction10 as Connection137
                connect Phi_1d_a2 "I_d_a (algebraic).Phi_1d_a" as Connection28
                connect Phi_1d_a3 E_qp.Phi_1d_a as Connection36
                connect Phi_1d_a4 "Phi_d_a 2.Phi_1d_a" as Connection96
                connect Phi_1d_a_M.in Junction10 as Connection139
                connect Phi_2q_a1 Junction11 as Connection140
                connect Phi_2q_a2 "I_q_a (algebraic).Phi_2q_a" as Connection26
                connect Phi_2q_a3 E_dp.Phi_2q_a as Connection35
                connect Phi_2q_a4 "Phi_q_a 2.Phi_2q_a" as Connection88
                connect Phi_2q_a_M.in Junction11 as Connection142
                connect Phi_d_a.Phi_d_a q-flux.in1 as Connection87
                connect "Phi_d_a 2.Phi_d_a" q-flux.in as Connection112
                connect Phi_d_a1 Junction17 as Connection167
                connect Phi_d_a2 "I_d_a (algebraic).Phi_d_a" as Connection27
                connect Phi_d_a3 Phi_q_a.Phi_d_a as Connection29
                connect Phi_d_a4 w_m.Phi_d_a as Connection30
                connect Phi_d_a5 V_dG2.Phi_d_a as Connection106
                connect Phi_d_a6 V_qG2.Phi_d_a as Connection110
                connect Phi_d_a7 Phi_d_a.Phi_d_a1 as Connection114
                connect Phi_d_a_M.in Junction17 as Connection169
                connect Phi_q_a.Phi_q_a d-flux.in1 as Connection95
                connect "Phi_q_a 2.Phi_q_a" d-flux.in as Connection113
                connect Phi_q_a2 "I_q_a (algebraic).Phi_q_a" as Connection23
                connect Phi_q_a3 Phi_d_a.Phi_q_a as Connection42
                connect Phi_q_a4 w_m.Phi_q_a as Connection25
                connect Phi_q_a5 V_dG2.Phi_q_a as Connection107
                connect Phi_q_a6 V_qG2.Phi_q_a as Connection109
                connect Phi_q_a7 Phi_q_a.Phi_q_a1 as Connection115
                connect Phi_q_a_M.in Junction18 as Connection172
                connect T_M w_m.T_M as Connection52
                connect T_m_M.in Junction9 as Connection136
                connect V_dG1 Junction13 as Connection155
                connect V_dG2.V_d_a d-Voltage.in as Connection103
                connect V_dG3 theta_G.V_dG as Connection122
                connect V_d_a1 Phi_d_a.V_d_a as Connection64
                connect V_d_a2 Junction3 as Connection75
                connect V_qG1 Junction12 as Connection152
                connect V_qG2.V_qG q-Voltage.in as Connection99
                connect V_qG3 theta_G.V_qG as Connection123
                connect V_q_a1 Phi_q_a.V_q_a as Connection65
                connect V_q_a2 Junction2 as Connection68
                connect VdG.in Junction25 as Connection196
                connect VqG.in Junction24 as Connection193
                connect d-Voltage.in1 "Generator Voltage.V_dG" as Connection151
                [
                    breakpoints = 8328, 8560; 8328, 8512; 8328, 8512
                ]
                connect d-Voltage.out Junction25 as Connection194
                connect d-flux.out Junction18 as Connection170
                connect d-flux.in2 Junction4 as Connection93
                connect magnitude.q Junction12 as Connection154
                connect magnitude.d Junction13 as Connection157
                [
                    breakpoints = 8400, 8488; 8400, 8544
                ]
                connect magnitude.magnitude Junction14 as Connection158
                connect q-Voltage.out Junction24 as Connection191
                connect theta_G1 Junction16 as Connection164
                connect theta_G2 Junction23 as Connection190
                connect theta_G_M.in Junction23 as Connection188
                [
                    breakpoints = 8664, 8288
                ]
                connect w_e2 Phi_d_a.w_e as Connection49
                connect w_e3 Phi_q_a.w_e as Connection50
                connect w_e4 "Generator Voltage.w_e" as Connection51
                connect w_e5 theta_G.w_e as Connection54
                connect w_e6 V_dG2.w_e as Connection108
                connect w_e7 V_qG2.w_e as Connection111
                connect w_m.w_m2 Junction20 as Connection179
                connect w_m1 Junction21 as Connection182
                connect w_m2 Governor.w_m as Connection48
                connect w_m_M.in Junction21 as Connection184
                connect w_ref Governor.w_ref as Connection125
                connect "|V|2" "Exciter.|V|" as Connection55
                connect "|V|_M.in" Junction14 as Connection160
            }
            [
                position = 8632, 8280
                size = 160, 136
            ]

            component Subsystem magnitude {
                layout = dynamic
                component gen_product Product5 {
                }
                [
                    position = 8112, 8128
                    hide_name = True
                ]

                component gen_math_fnc "Mathematical function1" {
                    mathematical_fn = "sqrt"
                }
                [
                    position = 8272, 8192
                    hide_name = True
                ]

                component gen_product Product6 {
                }
                [
                    position = 8112, 8256
                    hide_name = True
                ]

                component gen_sum Sum3 {
                }
                [
                    position = 8192, 8192
                    hide_name = True
                ]

                port magnitude {
                    label = "magnitude"
                    position = right:1
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8344, 8192
                ]

                port d {
                    label = "d"
                    position = left:2
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 8032, 8248
                ]

                port q {
                    label = "q"
                    position = left:1
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 8032, 8120
                ]

                junction Junction1 sp
                [
                    position = 8064, 8248
                ]

                junction Junction2 sp
                [
                    position = 8064, 8120
                ]

                connect Junction1 Product6.in as Connection149
                connect Junction2 q as Connection152
                connect "Mathematical function1.out" magnitude as Connection146
                connect Product5.in1 Junction2 as Connection153
                connect Product5.in Junction2 as Connection151
                connect Product5.out Sum3.in as Connection56
                connect Product6.in1 Junction1 as Connection150
                connect Product6.out Sum3.in1 as Connection143
                connect Sum3.out "Mathematical function1.in" as Connection58
                connect d Junction1 as Connection148
            }
            [
                position = 7816, 8232
                hide_name = True
                size = 64, 48
            ]

            component Subsystem 25A_auto_sync {
                layout = dynamic
                component gen_product Product4 {
                }
                [
                    position = 7992, 8016
                    hide_name = True
                ]

                component gen_sign Sign1 {
                }
                [
                    position = 7992, 7976
                    hide_name = True
                ]

                component gen_c_function "proportional difference signal" {
                    in_terminal_dimensions = "inherit;inherit;inherit"
                    in_terminal_dimensions_str = "sign inherit;df inherit;max_pds inherit"
                    in_terminal_labels = "[(\'sign\', True), (\'df\', True), (\'max_pds\', True)]"
                    in_terminal_properties = "real sign;real df;real max_pds;"
                    init_fnc = "/*Begin code section*/
df = 0;
pds = 0;
sign=0;
max_pds=0;
/*End code section*/"
                    no_feed_inputs = "[\'\']"
                    no_feed_outputs = "[\'\']"
                    out_terminal_dimensions = "inherit"
                    out_terminal_dimensions_str = "pds inherit"
                    out_terminal_labels = "[(\'pds\', True)]"
                    out_terminal_properties = "real pds;"
                    output_fnc = "/*Begin code section*/
if (df >= (3.5*max_slip)) {
    pds = max_pds;
}
else if ((df < (3.5*max_slip)) && (df >= 0)) {
    pds = (max_pds*df /(4*max_slip)) + (0.125*max_pds);
}
else if ((df < 0) && (df >= (-1*min_slip))) {
    pds = (max_pds/(4*max_slip))*min_slip;
    }
else if ((df < (-1*min_slip)) && (df > (-0.5*max_slip))) {
    pds = 0;
    }
else if ((df <= (-0.5*max_slip)) && (df > (-4*max_slip))) {
    pds = sign*(max_pds/(4*max_slip))*df;
    }
else    {pds = sign*max_pds;}
/*End code section*/"
                    parameters = "real max_slip;real min_slip;"
                }
                [
                    position = 8144, 8016
                    size = 112, 80
                ]

                component src_scada_input "Difference signal" {
                    def_value = "4"
                    execution_rate = "Ts"
                    max = "max_pds"
                    min = "0"
                    unit = ""
                }
                [
                    position = 7824, 8072
                ]

                component gen_sum Sum1 {
                    signs = "-+"
                }
                [
                    position = 7680, 7768
                    hide_name = True
                ]

                component gen_rel_op "Relational operator1" {
                    relational_op = "<"
                }
                [
                    position = 8056, 7792
                    hide_name = True
                ]

                component src_constant Constant1 {
                    execution_rate = "Ts"
                    value = "0.0556*np.pi"
                }
                [
                    position = 7992, 7816
                    hide_name = True
                ]

                component gen_abs Abs1 {
                }
                [
                    position = 7992, 7768
                    hide_name = True
                ]

                component gen_rel_op "Relational operator2" {
                    relational_op = ">"
                }
                [
                    position = 8056, 7872
                    hide_name = True
                ]

                component gen_rel_op "Relational operator3" {
                    relational_op = "<"
                }
                [
                    position = 8056, 7936
                    hide_name = True
                    scale = 1, -1
                ]

                component src_constant Constant2 {
                    execution_rate = "Ts"
                    value = "-1*max_slip"
                }
                [
                    position = 7992, 7888
                    hide_name = True
                ]

                component src_constant Constant3 {
                    execution_rate = "Ts"
                    value = "0"
                }
                [
                    position = 7992, 7920
                    hide_name = True
                ]

                component gen_logic_op "Logical operator1" {
                    inputs = "3"
                }
                [
                    position = 8208, 7832
                    hide_name = True
                ]

                component gen_abs Abs2 {
                }
                [
                    position = 7992, 7704
                    hide_name = True
                ]

                component gen_rel_op "Relational operator4" {
                    relational_op = "<"
                }
                [
                    position = 8056, 7680
                    hide_name = True
                    scale = 1, -1
                ]

                component src_constant Constant4 {
                    execution_rate = "Ts"
                    value = "0.005"
                }
                [
                    position = 7992, 7656
                    hide_name = True
                ]

                component gen_probe dtheta {
                }
                [
                    position = 8056, 7736
                ]

                component gen_product Product5 {
                }
                [
                    position = 7992, 8064
                    hide_name = True
                ]

                component gen_c_function confine_phase {
                    in_terminal_dimensions = "inherit"
                    in_terminal_dimensions_str = "dtheta inherit"
                    in_terminal_labels = "[(\'dtheta\', True)]"
                    in_terminal_properties = "real dtheta;"
                    init_fnc = "/*Begin code section*/
dtheta = 0;
dtheta_confined = 0;
/*End code section*/"
                    no_feed_inputs = "[\'\']"
                    no_feed_outputs = "[\'\']"
                    out_terminal_dimensions = "inherit"
                    out_terminal_dimensions_str = "dtheta_confined inherit"
                    out_terminal_labels = "[(\'dtheta_confined\', True)]"
                    out_terminal_properties = "real dtheta_confined;"
                    output_fnc = "/*Begin code section*/
if (dtheta > 3.14159265359) {//confine theta to +/- 2*pi;
    dtheta_confined = dtheta - 6.28318530718;
}
else{
    if (dtheta < -3.14159265359){
        dtheta_confined = dtheta + 6.28318530718;
    }
    else{
        dtheta_confined = dtheta;
    }
}
/*End code section*/"
                }
                [
                    position = 7832, 7768
                    size = 216, 48
                ]

                component gen_digital_probe V_diff {
                }
                [
                    position = 8208, 7664
                ]

                component gen_digital_probe theta_diff {
                }
                [
                    position = 8208, 7736
                ]

                component gen_digital_probe f_diff {
                }
                [
                    position = 8208, 7904
                ]

                component gen_logic_op "Logical operator2" {
                }
                [
                    position = 8128, 7904
                    hide_name = True
                ]

                port df {
                    label = "df"
                    position = left:4
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 7824, 7928
                ]

                port pds {
                    label = "pds"
                    position = right:auto
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8320, 8016
                ]

                port Synch {
                    label = "Synch"
                    position = right:auto
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8272, 7832
                ]

                tag Connect5 {
                    value = "auto_sync"
                    scope = global
                    kind = sp
                    direction = out
                }
                [
                    position = 7840, 8024
                    hide_name = True
                ]

                tag theta_bus1 {
                    value = "theta_bus"
                    scope = global
                    kind = sp
                    direction = out
                }
                [
                    position = 7592, 7792
                    hide_name = True
                ]

                tag theta_G {
                    value = "theta_G"
                    scope = global
                    kind = sp
                    direction = out
                }
                [
                    position = 7592, 7744
                    hide_name = True
                ]

                tag dV {
                    value = "d|V|"
                    scope = global
                    kind = sp
                    direction = out
                }
                [
                    position = 7592, 7704
                    hide_name = True
                ]

                junction Junction31 sp
                [
                    position = 7936, 7976
                ]

                junction Junction32 sp
                [
                    position = 7936, 7976
                ]

                junction Junction33 sp
                [
                    position = 7936, 7944
                ]

                junction Junction34 sp
                [
                    position = 7952, 7768
                ]

                junction Junction35 sp
                [
                    position = 7936, 8024
                ]

                junction Junction36 sp
                [
                    position = 8104, 7680
                ]

                junction Junction37 sp
                [
                    position = 8088, 7792
                ]

                junction Junction38 sp
                [
                    position = 8168, 7904
                ]

                connect Abs1.in Junction34 as Connection264
                connect Abs1.out "Relational operator1.in" as Connection238
                connect Abs2.out "Relational operator4.in" as Connection237
                connect Abs2.in dV as Connection236
                connect Connect5 Junction35 as Connection275
                connect Constant1.out "Relational operator1.in1" as Connection223
                connect Constant2.out "Relational operator2.in1" as Connection231
                connect Constant3.out "Relational operator3.in1" as Connection232
                connect Constant4.out "Relational operator4.in1" as Connection239
                connect "Difference signal.out" Product5.in1 as Connection274
                connect Junction31 df as Connection255
                connect Junction32 Junction31 as Connection258
                connect Junction33 Junction32 as Connection261
                connect Junction34 confine_phase.dtheta_confined as Connection267
                connect Junction35 Product4.in1 as Connection276
                connect Product4.in Junction32 as Connection257
                connect Product5.in Junction35 as Connection277
                connect "Relational operator2.in" Junction33 as Connection260
                connect "Relational operator3.in" Junction33 as Connection262
                connect Sign1.in Junction31 as Connection254
                connect Synch "Logical operator1.out" as Connection235
                connect confine_phase.dtheta Sum1.out as Connection268
                connect dtheta.in Junction34 as Connection266
                connect pds "proportional difference signal.pds" as Connection278
                connect "proportional difference signal.df" Product4.out as Connection269
                connect "proportional difference signal.max_pds" Product5.out as Connection273
                connect "proportional difference signal.sign" Sign1.out as Connection216
                connect theta_G Sum1.in as Connection39
                connect theta_bus1 Sum1.in1 as Connection40
                connect "Relational operator4.out" Junction36 as Connection279
                connect Junction36 "Logical operator1.in" as Connection280
                connect V_diff.in Junction36 as Connection281
                connect "Relational operator1.out" Junction37 as Connection282
                connect Junction37 "Logical operator1.in1" as Connection283
                [
                    breakpoints = 8088, 7792; 8088, 7832
                ]
                connect theta_diff.in Junction37 as Connection284
                connect "Logical operator2.in" "Relational operator2.out" as Connection289
                [
                    breakpoints = 8088, 7896; 8088, 7872
                ]
                connect "Logical operator2.in1" "Relational operator3.out" as Connection290
                connect "Logical operator2.out" Junction38 as Connection292
                connect Junction38 "Logical operator1.in2" as Connection293
                connect f_diff.in Junction38 as Connection294
            }
            [
                position = 8456, 8112
                size = 64, 64
            ]

            tag V_d_a1 {
                value = "V_d_a"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7848, 8304
                hide_name = True
            ]

            tag w_bus2 {
                value = "w_bus"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8360, 8312
                hide_name = True
                scale = 1, -1
            ]

            tag Connect1 {
                value = "Connect"
                scope = global
                kind = sp
                direction = in
            }
            [
                position = 7560, 8008
                hide_name = True
            ]

            tag V_d_a {
                value = "V_d_a"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8456, 8232
                hide_name = True
            ]

            tag w_bus1 {
                value = "w_bus"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7520, 8432
                hide_name = True
            ]

            tag V_q_a {
                value = "V_q_a"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8456, 8216
                hide_name = True
            ]

            tag V_qG {
                value = "V_qG"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8776, 8232
                hide_name = True
            ]

            tag theta_bus {
                value = "theta_bus"
                scope = global
                kind = sp
                direction = in
            }
            [
                position = 8272, 8328
                hide_name = True
            ]

            tag V_dG {
                value = "V_dG"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8776, 8264
                hide_name = True
            ]

            tag V_q_a1 {
                value = "V_q_a"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7848, 8152
                hide_name = True
            ]

            tag "exc state" {
                value = "exc state"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8776, 8328
                hide_name = True
            ]

            tag theta_G1 {
                value = "theta_G"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8776, 8296
                hide_name = True
            ]

            tag Connect5 {
                value = "auto_sync"
                scope = global
                kind = sp
                direction = in
            }
            [
                position = 8632, 8408
                hide_name = True
            ]

            tag df {
                value = "df"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8360, 8112
                hide_name = True
            ]

            tag pds {
                value = "pds"
                scope = global
                kind = sp
                direction = in
            }
            [
                position = 8736, 8064
                hide_name = True
            ]

            tag Connect6 {
                value = "auto_sync"
                scope = global
                kind = sp
                direction = out
            }
            [
                position = 8552, 8112
                hide_name = True
            ]

            junction Junction8 sp
            [
                position = 7768, 8272
            ]

            junction Junction11 sp
            [
                position = 7768, 8152
            ]

            junction Junction12 sp
            [
                position = 7768, 8304
            ]

            junction Junction15 sp
            [
                position = 8216, 8304
            ]

            junction Junction18 sp
            [
                position = 7768, 8200
            ]

            junction Junction19 sp
            [
                position = 7448, 8360
            ]

            junction Junction20 sp
            [
                position = 7448, 8384
            ]

            junction Junction27 sp
            [
                position = 7768, 8224
            ]

            junction Junction28 sp
            [
                position = 7768, 8248
            ]

            junction Junction31 sp
            [
                position = 8688, 8064
            ]

            junction Junction32 sp
            [
                position = 7576, 8336
            ]

            junction Junction33 sp
            [
                position = 8608, 8112
            ]

            junction Junction34 sp
            [
                position = 8456, 8400
            ]

            junction Junction35 sp
            [
                position = 8456, 8400
            ]

            junction Junction36 sp
            [
                position = 8472, 8400
            ]

            junction Junction37 sp
            [
                position = 8536, 8376
            ]

            connect 25A_auto_sync.Synch Product3.in as Connection204
            [
                breakpoints = 8512, 8136; 8512, 8152
            ]
            connect Clock1.out Product1.in as Connection126
            connect Connect.out Connect1 as Connection221
            connect Connect6 Junction33 as Connection235
            connect Constant1.out "qd0(PU).V_ref" as Connection38
            connect Constant2.out "Signal switch1.in" as Connection51
            connect Constant3.out Junction19 as Connection128
            connect Gain1.in "abc to dq1.q_axis" as Connection18
            connect Gain2.in Junction8 as Connection71
            connect Gain2.out "Trigonometric function1.in" as Connection122
            connect Junction11 V_q_a1 as Connection80
            connect Junction12 Junction8 as Connection83
            connect Junction15 bus_angle.in as Connection101
            [
                breakpoints = 8216, 8280; 8240, 8280
            ]
            connect Junction18 Junction11 as Connection124
            [
                breakpoints = 7768, 8200; 7768, 8200; 7768, 8200; 7768, 8200; 7768, 8184; 7768, 8160; 7768, 8160; 7768, 8160
            ]
            connect Junction19 Product1.in1 as Connection129
            connect Junction20 Junction19 as Connection132
            connect Junction27 Junction18 as Connection195
            [
                breakpoints = 7768, 8224
            ]
            connect Junction28 Gain1.out as Connection198
            connect Junction31 Product4.out as Connection219
            connect Junction32 "abc to dq1.wt" as Connection223
            [
                breakpoints = 7576, 8336; 7576, 8272
            ]
            connect Junction33 Product4.in as Connection236
            connect Junction34 MT_sync.out as Connection240
            connect Junction35 Junction34 as Connection243
            connect Junction36 Junction34 as Connection246
            connect Junction37 Connect5 as Connection255
            [
                breakpoints = 8536, 8376; 8536, 8376; 8536, 8400; 8568, 8400
            ]
            connect Junction37 Junction36 as Connection249
            [
                breakpoints = 8536, 8376
            ]
            connect Junction8 Junction28 as Connection197
            connect "Logical operator1.in" Junction35 as Connection242
            connect Product1.out Junction32 as Connection222
            connect Product3.in1 Junction33 as Connection237
            connect Product4.in1 25A_auto_sync.pds as Connection212
            [
                breakpoints = 8512, 8072; 8512, 8096
            ]
            connect Ready_to_connect.in Product3.out as Connection217
            connect "Signal switch1.in2" Junction35 as Connection244
            connect "Sinusoidal Source1.out" "abc to dq1.va" as Connection14
            [
                breakpoints = 7480, 8168; 7576, 8168; 7576, 8224
            ]
            connect "Sinusoidal Source2.out" "abc to dq1.vb" as Connection46
            [
                breakpoints = 7480, 8240; 7584, 8240
            ]
            connect "Sinusoidal Source3.out" "abc to dq1.vc" as Connection45
            [
                breakpoints = 7480, 8256; 7584, 8256
            ]
            connect Sum1.in1 Junction32 as Connection224
            [
                breakpoints = 8000, 8336; 8000, 8376; 7576, 8376
            ]
            connect Termination1.in "abc to dq1.zero_axis" as Connection29
            connect "Trigonometric function1.in1" Junction18 as Connection125
            [
                breakpoints = 7912, 8200; 7768, 8200
            ]
            connect "Trigonometric function1.out" Sum1.in as Connection225
            connect V_d_a "qd0(PU).V_d_a" as Connection12
            connect V_d_a1 Junction12 as Connection82
            connect V_d_a_B.in Junction12 as Connection84
            connect V_qG "qd0(PU).V_qG" as Connection9
            connect V_q_a "qd0(PU).V_q_a" as Connection2
            connect V_q_a_B.in Junction11 as Connection81
            connect "abc to dq1.d_axis" Junction27 as Connection194
            connect "bus_|V|.in" magnitude.magnitude as Connection200
            connect df 25A_auto_sync.df as Connection202
            connect "exc state" "qd0(PU).1_ON_OFF_1" as Connection159
            connect "governor OFF.in" "Logical operator1.out" as Connection155
            connect "governor ON.in" Junction36 as Connection245
            connect magnitude.q Junction27 as Connection196
            connect magnitude.d Junction28 as Connection199
            connect pds Junction31 as Connection218
            connect "pds signal.in" Junction31 as Connection220
            connect "qd0(PU).ON_OFF" Junction37 as Connection248
            [
                breakpoints = 8536, 8328
            ]
            connect "qd0(PU).V_dG" V_dG as Connection8
            connect remainder.output Junction15 as Connection100
            connect remainder.in Sum1.out as Connection226
            connect theta_G1 "qd0(PU).theta_G2" as Connection163
            connect theta_bus Junction15 as Connection102
            connect w_bus.in Junction20 as Connection131
            connect w_bus1 Junction20 as Connection133
            connect w_bus2 "Signal switch1.in1" as Connection48
            connect "qd0(PU).w_ref" "Signal switch1.out" as Connection256

            mask {
                description = "<html><head><meta name=\"qrichtext\" content=\"1\"></meta><style type=\"text/css\">p, li { white-space: pre-wrap; }</style></head><body style=\"\"><p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><br></br></p></body></html>"

                S {
                    label = "Rated Power"
                    widget = edit
                    type = generic
                    default_value = "835e+6"
                    unit = "VA"
                    group = "1. Synchronous Machine"
                }

                V_ABC {
                    label = "Rated RMS Voltage"
                    widget = edit
                    type = generic
                    default_value = "26e+3/np.sqrt(3)"
                    unit = "V"
                    group = "1. Synchronous Machine"
                }

                w_0 {
                    label = "Nominal Frequency"
                    widget = edit
                    type = generic
                    default_value = "2*np.pi*60"
                    unit = "rad/s"
                    group = "1. Synchronous Machine"
                }

                pms {
                    label = "Pole-pairs"
                    widget = edit
                    type = generic
                    default_value = "1"
                    group = "1. Synchronous Machine"
                }

                Jm {
                    label = "Moment of Inertia"
                    widget = edit
                    type = generic
                    default_value = "0.0658e+6"
                    unit = "kg.m^2"
                    group = "1. Synchronous Machine"
                }

                Fc {
                    label = "Friction Coefficient"
                    widget = edit
                    type = generic
                    default_value = "0.5720"
                    unit = "N.m.s"
                    group = "1. Synchronous Machine"
                }

                R_g {
                    label = "Resistance"
                    widget = edit
                    type = generic
                    default_value = "0.2565"
                    unit = ""
                    group = "2. Electrical Line"
                }

                L_g {
                    label = "Inductance"
                    widget = edit
                    type = generic
                    default_value = "10e-3"
                    unit = "H"
                    group = "2. Electrical Line"
                }

                Rs {
                    label = "Armature Resistance"
                    widget = edit
                    type = generic
                    default_value = "2.43e-3"
                    unit = ""
                    group = "3. Windings"
                }

                Lls {
                    label = "Armature Leakage Inductance"
                    widget = edit
                    type = generic
                    default_value = "4.0797e-04"
                    unit = "H"
                    group = "3. Windings"
                }

                Rf {
                    label = "Field Resistance"
                    widget = edit
                    type = generic
                    default_value = "7.5e-4"
                    unit = ""
                    group = "3. Windings"
                }

                Llfd {
                    label = "Field Leakage Inductance"
                    widget = edit
                    type = generic
                    default_value = "3.0372e-04"
                    unit = "H"
                    group = "3. Windings"
                }

                Rkq1 {
                    label = "Damper q1 Resistance"
                    widget = edit
                    type = generic
                    default_value = "1.44e-3"
                    unit = ""
                    group = "3. Windings"
                }

                Llkq1 {
                    label = "Damper q1 Leakage Inductance"
                    widget = edit
                    type = generic
                    default_value = "0.0017"
                    unit = "H"
                    group = "3. Windings"
                }

                Rkq2 {
                    label = "Damper q2 Resistance"
                    widget = edit
                    type = generic
                    default_value = "6.81e-3"
                    unit = ""
                    group = "3. Windings"
                }

                Llkq2 {
                    label = "Damper q2 Leakage Inductance"
                    widget = edit
                    type = generic
                    default_value = "2.0165e-04"
                    unit = "H"
                    group = "3. Windings"
                }

                Rkd {
                    label = "Damper d Resistance"
                    widget = edit
                    type = generic
                    default_value = "1.08e-2"
                    unit = ""
                    group = "3. Windings"
                }

                Llkd {
                    label = "Damper d Leakage Inductance"
                    widget = edit
                    type = generic
                    default_value = "1.7446e-04"
                    unit = "H"
                    group = "3. Windings"
                }

                Lmq {
                    label = "q Mutual Inductance"
                    widget = edit
                    type = generic
                    default_value = "0.0035"
                    unit = "H"
                    group = "3. Windings"
                }

                Lmd {
                    label = "q Mutual Inductance"
                    widget = edit
                    type = generic
                    default_value = "0.0035"
                    unit = "H"
                    group = "3. Windings"
                }

                gov_Kp {
                    label = "Governor gain (gov_Kp)"
                    widget = edit
                    type = generic
                    default_value = "0.75"
                    group = "4. Governor and Engine"
                }

                K {
                    label = "Governor gain (K)"
                    widget = edit
                    type = generic
                    default_value = "10"
                    group = "4. Governor and Engine"
                }

                R_D {
                    label = "Governor Droop"
                    widget = edit
                    type = generic
                    default_value = "0.1"
                    group = "4. Governor and Engine"
                }

                T_CH {
                    label = "Engine time constant"
                    widget = edit
                    type = generic
                    default_value = "24e-3"
                    unit = "s"
                    group = "4. Governor and Engine"
                }

                T1 {
                    label = "Time constant 1"
                    widget = edit
                    type = generic
                    default_value = "1.0e-4"
                    unit = "s"
                    group = "4. Governor and Engine"
                }

                T2 {
                    label = "Time constant 2"
                    widget = edit
                    type = generic
                    default_value = "0"
                    unit = "s"
                    group = "4. Governor and Engine"
                }

                T3 {
                    label = "Time constant 3"
                    widget = edit
                    type = generic
                    default_value = "0.5001"
                    unit = "s"
                    group = "4. Governor and Engine"
                }

                T4 {
                    label = "Time constant 4"
                    widget = edit
                    type = generic
                    default_value = "25e-3"
                    unit = "s"
                    group = "4. Governor and Engine"
                }

                T5 {
                    label = "Time constant 5"
                    widget = edit
                    type = generic
                    default_value = "9e-4"
                    unit = "s"
                    group = "4. Governor and Engine"
                }

                T6 {
                    label = "Time constant 6"
                    widget = edit
                    type = generic
                    default_value = "5.74e-3"
                    unit = "s"
                    group = "4. Governor and Engine"
                }

                K_A {
                    label = "Gain 1 (K_A)"
                    widget = edit
                    type = generic
                    default_value = "1"
                    group = "5. Exciter and Voltage Regulator"
                }

                K_E {
                    label = "Gain 2 (K_E)"
                    widget = edit
                    type = generic
                    default_value = "1"
                    group = "5. Exciter and Voltage Regulator"
                }

                K_F {
                    label = "Gain 3 (K_F)"
                    widget = edit
                    type = generic
                    default_value = "0.01"
                    group = "5. Exciter and Voltage Regulator"
                }

                S_E {
                    label = "Gain 4 (S_E)"
                    widget = edit
                    type = generic
                    default_value = "0"
                    group = "5. Exciter and Voltage Regulator"
                }

                V_R_max {
                    label = "Saturation upper limit"
                    widget = edit
                    type = generic
                    default_value = "10"
                    group = "5. Exciter and Voltage Regulator"
                }

                V_R_min {
                    label = "Saturation lower limit"
                    widget = edit
                    type = generic
                    default_value = "-10"
                    group = "5. Exciter and Voltage Regulator"
                }

                T_A {
                    label = "Time constant 1 (T_A)"
                    widget = edit
                    type = generic
                    default_value = "2e-3"
                    unit = "s"
                    group = "5. Exciter and Voltage Regulator"
                }

                T_E {
                    label = "Time constant 2 (T_E)"
                    widget = edit
                    type = generic
                    default_value = "10e-6"
                    unit = "s"
                    group = "5. Exciter and Voltage Regulator"
                }

                T_F {
                    label = "Time constant 3 (T_F)"
                    widget = edit
                    type = generic
                    default_value = "200e-6"
                    unit = "s"
                    group = "5. Exciter and Voltage Regulator"
                }

                T_R {
                    label = "Time constant 4 (T_R)"
                    widget = edit
                    type = generic
                    default_value = "200e-6"
                    unit = "s"
                    group = "5. Exciter and Voltage Regulator"
                }

                Ts {
                    label = "Execution rate"
                    widget = edit
                    type = generic
                    default_value = "20e-6"
                    unit = "s"
                    group = "1. Synchronous Machine"
                }

                inner_w_rise {
                    label = "Governor (inner_w_rise)"
                    widget = edit
                    type = generic
                    default_value = "10"
                    unit = "pu/s"
                    group = "4. Governor and Engine"
                }

                inner_w_fall {
                    label = "Governor (inner_w_fall)"
                    widget = edit
                    type = generic
                    default_value = "-10"
                    unit = "pu/s"
                    group = "4. Governor and Engine"
                }

                V_rise {
                    label = "Exciter (V_rise)"
                    widget = edit
                    type = generic
                    default_value = "10"
                    unit = "pu/s"
                    group = "5. Exciter and Voltage Regulator"
                }

                V_fall {
                    label = "Exciter (V_fall)"
                    widget = edit
                    type = generic
                    default_value = "-10"
                    unit = "pu/s"
                    group = "5. Exciter and Voltage Regulator"
                }

                exc_Kp {
                    label = "Exciter proportional gain"
                    widget = edit
                    type = generic
                    default_value = "0.01"
                    group = "5. Exciter and Voltage Regulator"
                }

                exc_Ki {
                    label = "Exciter integral gain"
                    widget = edit
                    type = generic
                    default_value = "0.1"
                    group = "5. Exciter and Voltage Regulator"
                }

                max_slip {
                    label = "Maximum slip"
                    widget = edit
                    type = generic
                    default_value = "1.6e-3"
                    unit = "pu"
                    group = "6. Automatic Synchronizer"
                }

                min_slip {
                    label = "Minimum slip"
                    widget = edit
                    type = generic
                    default_value = "1.6e-4"
                    unit = "pu"
                    group = "6. Automatic Synchronizer"
                }

                max_pds {
                    label = "Maximum difference signal"
                    widget = edit
                    type = generic
                    default_value = "4"
                    group = "6. Automatic Synchronizer"
                }

                CODE open
                    from typhoon.apps.schematic_editor.dialogs.component_property_dialogs.general import RegularComponentPropertiesDialog
                
                    dialog = RegularComponentPropertiesDialog(
                        component=component,
                        property_container=component.masks[-1],
                        current_diagram=current_diagram
                    )
                    dialog.exec_()
                    
                ENDCODE

                CODE init
                    S = mdl.get_property_value(mdl.prop(item_handle, "S"))
                    V_ABC = mdl.get_property_value(mdl.prop(item_handle, "V_ABC"))
                    w_0 = mdl.get_property_value(mdl.prop(item_handle, "w_0"))
                    pms = mdl.get_property_value(mdl.prop(item_handle, "pms"))
                    Jm = mdl.get_property_value(mdl.prop(item_handle, "Jm"))
                    Fc = mdl.get_property_value(mdl.prop(item_handle, "Fc"))
                    R_g = mdl.get_property_value(mdl.prop(item_handle, "R_g"))
                    L_g = mdl.get_property_value(mdl.prop(item_handle, "L_g"))
                    Rs = mdl.get_property_value(mdl.prop(item_handle, "Rs"))
                    Lls = mdl.get_property_value(mdl.prop(item_handle, "Lls"))
                    Rf = mdl.get_property_value(mdl.prop(item_handle, "Rf"))
                    Llfd = mdl.get_property_value(mdl.prop(item_handle, "Llfd"))
                    Rkq1 = mdl.get_property_value(mdl.prop(item_handle, "Rkq1"))
                    Llkq1 = mdl.get_property_value(mdl.prop(item_handle, "Llkq1"))
                    Rkq2 = mdl.get_property_value(mdl.prop(item_handle, "Rkq2"))
                    Llkq2 = mdl.get_property_value(mdl.prop(item_handle, "Llkq2"))
                    Rkd = mdl.get_property_value(mdl.prop(item_handle, "Rkd"))
                    Llkd = mdl.get_property_value(mdl.prop(item_handle, "Llkd"))
                    Lmq = mdl.get_property_value(mdl.prop(item_handle, "Lmq"))
                    Lmd = mdl.get_property_value(mdl.prop(item_handle, "Lmd"))
                    gov_Kp = mdl.get_property_value(mdl.prop(item_handle, "gov_Kp"))
                    K = mdl.get_property_value(mdl.prop(item_handle, "K"))
                    R_D = mdl.get_property_value(mdl.prop(item_handle, "R_D"))
                    T_CH = mdl.get_property_value(mdl.prop(item_handle, "T_CH"))
                    T1 = mdl.get_property_value(mdl.prop(item_handle, "T1"))
                    T2 = mdl.get_property_value(mdl.prop(item_handle, "T2"))
                    T3 = mdl.get_property_value(mdl.prop(item_handle, "T3"))
                    T4 = mdl.get_property_value(mdl.prop(item_handle, "T4"))
                    T5 = mdl.get_property_value(mdl.prop(item_handle, "T5"))
                    T6 = mdl.get_property_value(mdl.prop(item_handle, "T6"))
                    K_A = mdl.get_property_value(mdl.prop(item_handle, "K_A"))
                    K_E = mdl.get_property_value(mdl.prop(item_handle, "K_E"))
                    K_F = mdl.get_property_value(mdl.prop(item_handle, "K_F"))
                    S_E = mdl.get_property_value(mdl.prop(item_handle, "S_E"))
                    V_R_max = mdl.get_property_value(mdl.prop(item_handle, "V_R_max"))
                    V_R_min = mdl.get_property_value(mdl.prop(item_handle, "V_R_min"))
                    T_A = mdl.get_property_value(mdl.prop(item_handle, "T_A"))
                    T_E = mdl.get_property_value(mdl.prop(item_handle, "T_E"))
                    T_F = mdl.get_property_value(mdl.prop(item_handle, "T_F"))
                    T_R = mdl.get_property_value(mdl.prop(item_handle, "T_R"))
                    Ts = mdl.get_property_value(mdl.prop(item_handle, "Ts"))
                    inner_w_rise = mdl.get_property_value(mdl.prop(item_handle, "inner_w_rise"))
                    inner_w_fall = mdl.get_property_value(mdl.prop(item_handle, "inner_w_fall"))
                    V_rise = mdl.get_property_value(mdl.prop(item_handle, "V_rise"))
                    V_fall = mdl.get_property_value(mdl.prop(item_handle, "V_fall"))
                    exc_Kp = mdl.get_property_value(mdl.prop(item_handle, "exc_Kp"))
                    exc_Ki = mdl.get_property_value(mdl.prop(item_handle, "exc_Ki"))
                    max_slip = mdl.get_property_value(mdl.prop(item_handle, "max_slip"))
                    min_slip = mdl.get_property_value(mdl.prop(item_handle, "min_slip"))
                    max_pds = mdl.get_property_value(mdl.prop(item_handle, "max_pds"))
                    
                    w_m = w_0/pms
                    
                    V_DQ = V_ABC*np.sqrt(2)
                    T_nom = S/w_m
                    I_DQ = (2*S)/(3*V_DQ)
                    Z_DQ = V_DQ/I_DQ
                    X_q = w_0*(Lls+Lmq)/Z_DQ
                    X_d = w_0*(Lls+Lmd)/Z_DQ
                    X_ls = w_0*Lls/Z_DQ
                    X_lfd = w_0*Llfd/Z_DQ
                    X_lkd = w_0*Llkd/Z_DQ
                    X_lkq1 = w_0*Llkq1/Z_DQ
                    X_lkq2 = w_0*Llkq2/Z_DQ
                    X_md = w_0*Lmd/Z_DQ
                    X_mq = w_0*Lmq/Z_DQ
                    X_fd = w_0*(Llfd+Lmd)/Z_DQ
                    X_kd = w_0*(Llkd+Lmd)/Z_DQ
                    X_kq1 = w_0*(Llkq1+Lmq)/Z_DQ
                    X_kq2 = w_0*(Llkq2+Lmq)/Z_DQ
                    R_fd = Rf/Z_DQ
                    R_kd = Rkd/Z_DQ
                    R_kq1 = Rkq1/Z_DQ
                    R_kq2 = Rkq2/Z_DQ
                    R_s = Rs/Z_DQ
                    
                    L_DQ = Z_DQ/w_0
                    C_DQ = 1/(Z_DQ*w_0)
                    
                    R_G = R_g/Z_DQ
                    X_G = L_g/L_DQ
                    
                    H = 0.5*Jm*(w_0*(2/pms))**2/S
                    D_FW = Fc*(w_m/T_nom)
                    
                    X_dp = X_d - (X_md**2/X_fd)
                    X_qp = X_q - (X_mq**2/X_kq1)
                    T_dop = X_fd/(w_0*R_fd)
                    T_qop = X_kq1/(w_0*R_kq1)
                    
                    X_dpp = X_ls + (X_md*(X_lkd*X_lfd/(X_lkd+X_lfd)))/(X_md+(X_lkd*X_lfd/(X_lkd+X_lfd)))
                    X_qpp = X_ls + (X_mq*X_lkq1*X_lkq2/(X_mq+X_lkq1+X_lkq2))
                    T_dopp = (1/(w_0*R_kd))*(X_lkd+(X_md*X_lfd/(X_md+X_lfd)))
                    T_qopp = (1/(w_0*R_kq1))*( X_lkq2+(X_mq*X_lkq1/(X_mq+X_lkq1)) )
                ENDCODE
            }
        }
        [
            position = 6600, 7896
            size = 48, 48
        ]
    }

    default {
        gen_abs {
            execution_rate = "inherit"
        }

        gen_c_function {
            in_terminal_properties = "real in;"
            in_terminal_labels = ""
            out_terminal_properties = "real out;"
            out_terminal_labels = ""
            no_feed_inputs = ""
            no_feed_outputs = ""
            in_terminal_dimensions = ""
            in_terminal_dimensions_str = ""
            out_terminal_dimensions = ""
            out_terminal_dimensions_str = ""
            output_fnc = ""
            update_fnc = ""
            init_fnc = ""
            global_variables = ""
            parameters = ""
            execution_rate = "inherit"
        }

        gen_comparator {
            execution_rate = "inherit"
        }

        gen_differentiator {
            execution_rate = "inherit"
        }

        gen_digital_probe {
            override_signal_name = "False"
            signal_name = ""
            streaming_en = "False"
            addr = "0"
            streaming_er_idx = "0"
            execution_rate = "inherit"
        }

        gen_gain {
            gain = "1"
            multiplication = "Element-wise(K.*u)"
            execution_rate = "inherit"
        }

        gen_integrator {
            show_reset = "none"
            reset_type = "asynchronous"
            show_init_condition = "internal"
            init_value = "0"
            limit_output = "False"
            limit_upper = "inf"
            limit_lower = "-inf"
            show_state = "False"
            state_port_type = "inherit"
            execution_rate = "inherit"
        }

        gen_limiter {
            upper_limit = "[\'inf\']"
            lower_limit = "[\'-inf\']"
            execution_rate = "inherit"
        }

        gen_logic_op {
            operator = "AND"
            inputs = "2"
            execution_rate = "inherit"
        }

        gen_math_fnc {
            mathematical_fn = "exponential"
            execution_rate = "inherit"
        }

        gen_probe {
            addr = "0"
            override_signal_name = "False"
            signal_name = ""
            signal_type = "generic"
            streaming_en = "False"
            streaming_er_idx = "0"
            execution_rate = "inherit"
        }

        gen_product {
            signs = "2"
            execution_rate = "inherit"
        }

        gen_rate_limiter {
            rising_limit = "1"
            falling_limit = "-1"
            execution_rate = "inherit"
        }

        gen_rel_op {
            relational_op = "=="
            execution_rate = "inherit"
        }

        gen_sign {
            execution_rate = "inherit"
        }

        gen_sum {
            signs = "2"
            execution_rate = "inherit"
        }

        gen_terminator {
            execution_rate = "inherit"
        }

        gen_trigonometric {
            trigonometric_fn = "sin"
            execution_rate = "inherit"
        }

        src_clock {
            execution_rate = "100e-6"
        }

        src_constant {
            value = "1"
            signal_type = "real"
            execution_rate = "100e-6"
        }

        src_scada_input {
            addr = "0"
            format = "real"
            override_signal_name = "False"
            signal_name = ""
            signal_type = "real"
            min = "-1e6"
            max = "1e6"
            def_value = "0"
            unit = " "
            execution_rate = "100e-6"
        }

        src_sine {
            amplitude = "1"
            dc_offset = "0"
            frequency = "50"
            phase = "0"
            execution_rate = "100e-6"
        }

        sys_signal_switch {
            criterion = "ctrl >= threshold"
            threshold = "0"
            execution_rate = "inherit"
        }

        tm_delay {
            init_value = "0"
            signal_out_type = "inherit"
            execution_rate = "inherit"
        }

        "core/Edge Detection" {
            edge = "both"
            execution_rate = "inherit"
        }

        "core/abc to dq" {
            power_form = "variant - Clarke\'s original"
            alignment = "-pi/2"
            disable_filter = "True"
            initial_filter_output = "0"
            wn_LPFdq = "1000"
            execution_rate = "inherit"
        }
    }
}
